{"ast":null,"code":"import { h, defineComponent, inject, computed } from 'vue';\nimport { NDropdown } from \"../../../dropdown/index.mjs\";\nimport { NBaseIcon } from \"../../../_internal/index.mjs\";\nimport { ChevronDownIcon } from \"../../../_internal/icons/index.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nconst allKey = '_n_all__';\nconst noneKey = '_n_none__';\nfunction createSelectHandler(options, rawPaginatedDataRef, doCheckAll, doUncheckAll) {\n  if (!options) return () => {};\n  return key => {\n    for (const option of options) {\n      switch (key) {\n        case allKey:\n          doCheckAll(true);\n          return;\n        case noneKey:\n          doUncheckAll(true);\n          return;\n        default:\n          if (typeof option === 'object' && option.key === key) {\n            option.onSelect(rawPaginatedDataRef.value);\n            return;\n          }\n      }\n    }\n  };\n}\nfunction createDropdownOptions(options, localeRef) {\n  if (!options) return [];\n  return options.map(option => {\n    switch (option) {\n      case 'all':\n        return {\n          label: localeRef.checkTableAll,\n          key: allKey\n        };\n      case 'none':\n        return {\n          label: localeRef.uncheckTableAll,\n          key: noneKey\n        };\n      default:\n        return option;\n    }\n  });\n}\nexport default defineComponent({\n  name: 'DataTableSelectionMenu',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      props: dataTableProps,\n      localeRef,\n      checkOptionsRef,\n      rawPaginatedDataRef,\n      doCheckAll,\n      doUncheckAll\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const handleSelectRef = computed(() => createSelectHandler(checkOptionsRef.value, rawPaginatedDataRef, doCheckAll, doUncheckAll));\n    const optionsRef = computed(() => createDropdownOptions(checkOptionsRef.value, localeRef.value));\n    return () => {\n      var _a, _b, _c, _d;\n      const {\n        clsPrefix\n      } = props;\n      return h(NDropdown, {\n        theme: (_b = (_a = dataTableProps.theme) === null || _a === void 0 ? void 0 : _a.peers) === null || _b === void 0 ? void 0 : _b.Dropdown,\n        themeOverrides: (_d = (_c = dataTableProps.themeOverrides) === null || _c === void 0 ? void 0 : _c.peers) === null || _d === void 0 ? void 0 : _d.Dropdown,\n        options: optionsRef.value,\n        onSelect: handleSelectRef.value\n      }, {\n        default: () => h(NBaseIcon, {\n          clsPrefix: clsPrefix,\n          class: `${clsPrefix}-data-table-check-extra`\n        }, {\n          default: () => h(ChevronDownIcon, null)\n        })\n      });\n    };\n  }\n});","map":{"version":3,"names":["h","defineComponent","inject","computed","NDropdown","NBaseIcon","ChevronDownIcon","dataTableInjectionKey","allKey","noneKey","createSelectHandler","options","rawPaginatedDataRef","doCheckAll","doUncheckAll","key","option","onSelect","value","createDropdownOptions","localeRef","map","label","checkTableAll","uncheckTableAll","name","props","clsPrefix","type","String","required","setup","dataTableProps","checkOptionsRef","handleSelectRef","optionsRef","_a","_b","_c","_d","theme","peers","Dropdown","themeOverrides","default","class"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/data-table/src/TableParts/SelectionMenu.mjs"],"sourcesContent":["import { h, defineComponent, inject, computed } from 'vue';\nimport { NDropdown } from \"../../../dropdown/index.mjs\";\nimport { NBaseIcon } from \"../../../_internal/index.mjs\";\nimport { ChevronDownIcon } from \"../../../_internal/icons/index.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nconst allKey = '_n_all__';\nconst noneKey = '_n_none__';\nfunction createSelectHandler(options, rawPaginatedDataRef, doCheckAll, doUncheckAll) {\n  if (!options) return () => {};\n  return key => {\n    for (const option of options) {\n      switch (key) {\n        case allKey:\n          doCheckAll(true);\n          return;\n        case noneKey:\n          doUncheckAll(true);\n          return;\n        default:\n          if (typeof option === 'object' && option.key === key) {\n            option.onSelect(rawPaginatedDataRef.value);\n            return;\n          }\n      }\n    }\n  };\n}\nfunction createDropdownOptions(options, localeRef) {\n  if (!options) return [];\n  return options.map(option => {\n    switch (option) {\n      case 'all':\n        return {\n          label: localeRef.checkTableAll,\n          key: allKey\n        };\n      case 'none':\n        return {\n          label: localeRef.uncheckTableAll,\n          key: noneKey\n        };\n      default:\n        return option;\n    }\n  });\n}\nexport default defineComponent({\n  name: 'DataTableSelectionMenu',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      props: dataTableProps,\n      localeRef,\n      checkOptionsRef,\n      rawPaginatedDataRef,\n      doCheckAll,\n      doUncheckAll\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const handleSelectRef = computed(() => createSelectHandler(checkOptionsRef.value, rawPaginatedDataRef, doCheckAll, doUncheckAll));\n    const optionsRef = computed(() => createDropdownOptions(checkOptionsRef.value, localeRef.value));\n    return () => {\n      var _a, _b, _c, _d;\n      const {\n        clsPrefix\n      } = props;\n      return h(NDropdown, {\n        theme: (_b = (_a = dataTableProps.theme) === null || _a === void 0 ? void 0 : _a.peers) === null || _b === void 0 ? void 0 : _b.Dropdown,\n        themeOverrides: (_d = (_c = dataTableProps.themeOverrides) === null || _c === void 0 ? void 0 : _c.peers) === null || _d === void 0 ? void 0 : _d.Dropdown,\n        options: optionsRef.value,\n        onSelect: handleSelectRef.value\n      }, {\n        default: () => h(NBaseIcon, {\n          clsPrefix: clsPrefix,\n          class: `${clsPrefix}-data-table-check-extra`\n        }, {\n          default: () => h(ChevronDownIcon, null)\n        })\n      });\n    };\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}