{"ast":null,"code":"import { createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-container\",\n  style: {\n    \"height\": \"100vh\",\n    \"overflow\": \"hidden\",\n    \"text-align\": \"left\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode($setup[\"NCard\"], null, {\n    default: _withCtx(() => [_createVNode($setup[\"CreateCampaignForm\"], {\n      onCreateCampaignInfo: $setup.handleCampaignInfo,\n      ref: \"campaignForm\"\n    }, null, 512 /* NEED_PATCH */), _createVNode($setup[\"NButton\"], {\n      onClick: $setup.submitCampaignForm,\n      type: \"info\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"提交\")]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createVNode","$setup","default","_withCtx","onCreateCampaignInfo","handleCampaignInfo","ref","onClick","submitCampaignForm","type","_createTextVNode","_"],"sources":["/Users/wangjohnson/ai_marketing/frontend/src/components/CampaignPage.vue"],"sourcesContent":["<template>\n<div class=\"page-container\" style=\"height: 100vh; overflow: hidden;text-align:left\">\n    \n    <n-card>\n     <create-campaign-form @createCampaignInfo=\"handleCampaignInfo\" ref=\"campaignForm\"/> \n     <n-button @click=\"submitCampaignForm\" type=\"info\">提交</n-button>\n     </n-card>\n</div>\n\n\n\n</template>\n<script setup>\n  //import { NDatePicker, NButton, NForm, NCard, NInput, NH5, NSelect, NDrawer} from 'naive-ui';\n  import {NCard,NButton} from 'naive-ui';\n  import {onBeforeMount} from 'vue'; \n  //import axios from 'axios';\n  import { ref } from 'vue';   \n  import CreateCampaignForm from './CreateCampaignForm.vue';\n\n  /*\n  const getCsrfToken = () => {\n    let csrfToken = null;\n    if (document.cookie && document.cookie !== '') {\n      const cookies = document.cookie.split(';');\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim();\n        if (cookie.startsWith('csrftoken=')) {\n            csrfToken = decodeURIComponent(cookie.substring('csrftoken='.length));\n            break;\n        }   \n      }   \n    }   \n    return csrfToken;\n  };\n  const csrfToken = ref(getCsrfToken());\n  */\n\n  const campaignForm = ref(null);\n  const campaignFormData = ref({});\n  const submitCampaignForm = () => {\n      campaignForm.value.createCampaign();\n      }\n\n  const handleCampaignInfo = (message) => {\n      console.log(message);\n      /*\n               axios.post('http://localhost:8005/api/response/', formData)\n                 .then(resp => {\n                   // 处理你后端返回的response\n                   console.log(resp);\n                   message.value = resp.data.message;\n                 })\n                 .catch(err => {\n                   console.log(err);\n                 });\n                 \n          */ };\n\n/*\n  const userName = ref('');\n  const fetchUserInfo = async() => {\n      const token = localStorage.getItem('token');\n      console.log(token);\n      try {\n        const resp =  await axios.get('/account/auth/',{\n            headers: {\n                'Authorization': `Bearer ${token}` // 设置请求头\n                }});\n        console.log('验证结果:')\n        console.log(resp.data);\n        userName.value = resp.data.username;\n        has_brands.value = resp.data.created_brands.length;\n        //localStorage.setItem('username',resp.data.username);\n          } catch (error) {\n        console.error('Failed to fetch user info:', error);\n      }\n    };\n  */  \nonBeforeMount(async()=>{\n    fetchUserInfo();\n    })\n</script>\n\n<style>\n.tricks {\n    font-size:0.8em;\n}\n</style>\n"],"mappings":";;EACKA,KAAK,EAAC,gBAAgB;EAACC,KAAuD,EAAvD;IAAA;IAAA;IAAA;EAAA;;;uBAA5BC,mBAAA,CAMM,OANNC,UAMM,GAJFC,YAAA,CAGUC,MAAA;IANdC,OAAA,EAAAC,QAAA,CAIK,MAAmF,CAAnFH,YAAA,CAAmFC,MAAA;MAA5DG,oBAAkB,EAAEH,MAAA,CAAAI,kBAAkB;MAAEC,GAAG,EAAC;oCACnEN,YAAA,CAA+DC,MAAA;MAApDM,OAAK,EAAEN,MAAA,CAAAO,kBAAkB;MAAEC,IAAI,EAAC;;MALhDP,OAAA,EAAAC,QAAA,CAKuD,MAAE,CALzDO,gBAAA,CAKuD,IAAE,E;MALzDC,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}