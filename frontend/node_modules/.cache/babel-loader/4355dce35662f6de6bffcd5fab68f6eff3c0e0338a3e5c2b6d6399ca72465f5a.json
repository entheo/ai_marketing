{"ast":null,"code":"import { h, computed, inject, ref, Transition, defineComponent, provide, mergeProps } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { useMemo } from 'vooks';\nimport { happensIn } from 'seemly';\nimport { ChevronRightIcon } from \"../../_internal/icons/index.mjs\";\nimport { render, useDeferredTrue } from \"../../_utils/index.mjs\";\nimport { NIcon } from \"../../icon/index.mjs\";\n// eslint-disable-next-line import/no-cycle\nimport NDropdownMenu from \"./DropdownMenu.mjs\";\nimport { dropdownMenuInjectionKey, dropdownInjectionKey, dropdownOptionInjectionKey } from \"./context.mjs\";\nimport { popoverBodyInjectionKey } from \"../../popover/src/interface.mjs\";\nimport { isSubmenuNode } from \"./utils.mjs\";\nexport default defineComponent({\n  name: 'DropdownOption',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    },\n    parentKey: {\n      type: [String, Number],\n      default: null\n    },\n    placement: {\n      type: String,\n      default: 'right-start'\n    },\n    props: Object,\n    scrollable: Boolean\n  },\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NDropdown = inject(dropdownInjectionKey);\n    const {\n      hoverKeyRef,\n      keyboardKeyRef,\n      lastToggledSubmenuKeyRef,\n      pendingKeyPathRef,\n      activeKeyPathRef,\n      animatedRef,\n      mergedShowRef,\n      renderLabelRef,\n      renderIconRef,\n      labelFieldRef,\n      childrenFieldRef,\n      renderOptionRef,\n      nodePropsRef,\n      menuPropsRef\n    } = NDropdown;\n    const NDropdownOption = inject(dropdownOptionInjectionKey, null);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NDropdownMenu = inject(dropdownMenuInjectionKey);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NPopoverBody = inject(popoverBodyInjectionKey);\n    const rawNodeRef = computed(() => props.tmNode.rawNode);\n    const hasSubmenuRef = computed(() => {\n      const {\n        value: childrenField\n      } = childrenFieldRef;\n      return isSubmenuNode(props.tmNode.rawNode, childrenField);\n    });\n    const mergedDisabledRef = computed(() => {\n      const {\n        disabled\n      } = props.tmNode;\n      return disabled;\n    });\n    const showSubmenuRef = computed(() => {\n      if (!hasSubmenuRef.value) return false;\n      const {\n        key,\n        disabled\n      } = props.tmNode;\n      if (disabled) return false;\n      const {\n        value: hoverKey\n      } = hoverKeyRef;\n      const {\n        value: keyboardKey\n      } = keyboardKeyRef;\n      const {\n        value: lastToggledSubmenuKey\n      } = lastToggledSubmenuKeyRef;\n      const {\n        value: pendingKeyPath\n      } = pendingKeyPathRef;\n      if (hoverKey !== null) return pendingKeyPath.includes(key);\n      if (keyboardKey !== null) {\n        return pendingKeyPath.includes(key) && pendingKeyPath[pendingKeyPath.length - 1] !== key;\n      }\n      if (lastToggledSubmenuKey !== null) return pendingKeyPath.includes(key);\n      return false;\n    });\n    const shouldDelayRef = computed(() => {\n      return keyboardKeyRef.value === null && !animatedRef.value;\n    });\n    const deferredShowSubmenuRef = useDeferredTrue(showSubmenuRef, 300, shouldDelayRef);\n    const parentEnteringSubmenuRef = computed(() => {\n      return !!(NDropdownOption === null || NDropdownOption === void 0 ? void 0 : NDropdownOption.enteringSubmenuRef.value);\n    });\n    const enteringSubmenuRef = ref(false);\n    provide(dropdownOptionInjectionKey, {\n      enteringSubmenuRef\n    });\n    // methods\n    function handleSubmenuBeforeEnter() {\n      enteringSubmenuRef.value = true;\n    }\n    function handleSubmenuAfterEnter() {\n      enteringSubmenuRef.value = false;\n    }\n    function handleMouseEnter() {\n      const {\n        parentKey,\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      lastToggledSubmenuKeyRef.value = parentKey;\n      keyboardKeyRef.value = null;\n      hoverKeyRef.value = tmNode.key;\n    }\n    function handleMouseMove() {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      if (hoverKeyRef.value === tmNode.key) return;\n      handleMouseEnter();\n    }\n    function handleMouseLeave(e) {\n      if (props.tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      const {\n        relatedTarget\n      } = e;\n      if (relatedTarget && !happensIn({\n        target: relatedTarget\n      }, 'dropdownOption') && !happensIn({\n        target: relatedTarget\n      }, 'scrollbarRail')) {\n        hoverKeyRef.value = null;\n      }\n    }\n    function handleClick() {\n      const {\n        value: hasSubmenu\n      } = hasSubmenuRef;\n      const {\n        tmNode\n      } = props;\n      if (!mergedShowRef.value) return;\n      if (!hasSubmenu && !tmNode.disabled) {\n        NDropdown.doSelect(tmNode.key, tmNode.rawNode);\n        NDropdown.doUpdateShow(false);\n      }\n    }\n    return {\n      labelField: labelFieldRef,\n      renderLabel: renderLabelRef,\n      renderIcon: renderIconRef,\n      siblingHasIcon: NDropdownMenu.showIconRef,\n      siblingHasSubmenu: NDropdownMenu.hasSubmenuRef,\n      menuProps: menuPropsRef,\n      popoverBody: NPopoverBody,\n      animated: animatedRef,\n      mergedShowSubmenu: computed(() => {\n        return deferredShowSubmenuRef.value && !parentEnteringSubmenuRef.value;\n      }),\n      rawNode: rawNodeRef,\n      hasSubmenu: hasSubmenuRef,\n      pending: useMemo(() => {\n        const {\n          value: pendingKeyPath\n        } = pendingKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        return pendingKeyPath.includes(key);\n      }),\n      childActive: useMemo(() => {\n        const {\n          value: activeKeyPath\n        } = activeKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        const index = activeKeyPath.findIndex(k => key === k);\n        if (index === -1) return false;\n        return index < activeKeyPath.length - 1;\n      }),\n      active: useMemo(() => {\n        const {\n          value: activeKeyPath\n        } = activeKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        const index = activeKeyPath.findIndex(k => key === k);\n        if (index === -1) return false;\n        return index === activeKeyPath.length - 1;\n      }),\n      mergedDisabled: mergedDisabledRef,\n      renderOption: renderOptionRef,\n      nodeProps: nodePropsRef,\n      handleClick,\n      handleMouseMove,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleSubmenuBeforeEnter,\n      handleSubmenuAfterEnter\n    };\n  },\n  render() {\n    var _a, _b;\n    const {\n      animated,\n      rawNode,\n      mergedShowSubmenu,\n      clsPrefix,\n      siblingHasIcon,\n      siblingHasSubmenu,\n      renderLabel,\n      renderIcon,\n      renderOption,\n      nodeProps,\n      props,\n      scrollable\n    } = this;\n    let submenuVNode = null;\n    if (mergedShowSubmenu) {\n      const submenuNodeProps = (_a = this.menuProps) === null || _a === void 0 ? void 0 : _a.call(this, rawNode, rawNode.children);\n      submenuVNode = h(NDropdownMenu, Object.assign({}, submenuNodeProps, {\n        clsPrefix: clsPrefix,\n        scrollable: this.scrollable,\n        tmNodes: this.tmNode.children,\n        parentKey: this.tmNode.key\n      }));\n    }\n    const builtinProps = {\n      class: [`${clsPrefix}-dropdown-option-body`, this.pending && `${clsPrefix}-dropdown-option-body--pending`, this.active && `${clsPrefix}-dropdown-option-body--active`, this.childActive && `${clsPrefix}-dropdown-option-body--child-active`, this.mergedDisabled && `${clsPrefix}-dropdown-option-body--disabled`],\n      onMousemove: this.handleMouseMove,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onClick: this.handleClick\n    };\n    const optionNodeProps = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const node = h(\"div\", Object.assign({\n      class: [`${clsPrefix}-dropdown-option`, optionNodeProps === null || optionNodeProps === void 0 ? void 0 : optionNodeProps.class],\n      \"data-dropdown-option\": true\n    }, optionNodeProps), h('div', mergeProps(builtinProps, props), [h(\"div\", {\n      class: [`${clsPrefix}-dropdown-option-body__prefix`, siblingHasIcon && `${clsPrefix}-dropdown-option-body__prefix--show-icon`]\n    }, [renderIcon ? renderIcon(rawNode) : render(rawNode.icon)]), h(\"div\", {\n      \"data-dropdown-option\": true,\n      class: `${clsPrefix}-dropdown-option-body__label`\n    }, renderLabel ? renderLabel(rawNode) : render((_b = rawNode[this.labelField]) !== null && _b !== void 0 ? _b : rawNode.title)), h(\"div\", {\n      \"data-dropdown-option\": true,\n      class: [`${clsPrefix}-dropdown-option-body__suffix`, siblingHasSubmenu && `${clsPrefix}-dropdown-option-body__suffix--has-submenu`]\n    }, this.hasSubmenu ? h(NIcon, null, {\n      default: () => h(ChevronRightIcon, null)\n    }) : null)]), this.hasSubmenu ? h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(\"div\", {\n          class: `${clsPrefix}-dropdown-offset-container`\n        }, h(VFollower, {\n          show: this.mergedShowSubmenu,\n          placement: this.placement,\n          to: scrollable ? this.popoverBody || undefined : undefined,\n          teleportDisabled: !scrollable\n        }, {\n          default: () => {\n            return h(\"div\", {\n              class: `${clsPrefix}-dropdown-menu-wrapper`\n            }, animated ? h(Transition, {\n              onBeforeEnter: this.handleSubmenuBeforeEnter,\n              onAfterEnter: this.handleSubmenuAfterEnter,\n              name: \"fade-in-scale-up-transition\",\n              appear: true\n            }, {\n              default: () => submenuVNode\n            }) : submenuVNode);\n          }\n        }))\n      })]\n    }) : null);\n    if (renderOption) {\n      return renderOption({\n        node,\n        option: rawNode\n      });\n    }\n    return node;\n  }\n});","map":{"version":3,"names":["h","computed","inject","ref","Transition","defineComponent","provide","mergeProps","VBinder","VTarget","VFollower","useMemo","happensIn","ChevronRightIcon","render","useDeferredTrue","NIcon","NDropdownMenu","dropdownMenuInjectionKey","dropdownInjectionKey","dropdownOptionInjectionKey","popoverBodyInjectionKey","isSubmenuNode","name","props","clsPrefix","type","String","required","tmNode","Object","parentKey","Number","default","placement","scrollable","Boolean","setup","NDropdown","hoverKeyRef","keyboardKeyRef","lastToggledSubmenuKeyRef","pendingKeyPathRef","activeKeyPathRef","animatedRef","mergedShowRef","renderLabelRef","renderIconRef","labelFieldRef","childrenFieldRef","renderOptionRef","nodePropsRef","menuPropsRef","NDropdownOption","NPopoverBody","rawNodeRef","rawNode","hasSubmenuRef","value","childrenField","mergedDisabledRef","disabled","showSubmenuRef","key","hoverKey","keyboardKey","lastToggledSubmenuKey","pendingKeyPath","includes","length","shouldDelayRef","deferredShowSubmenuRef","parentEnteringSubmenuRef","enteringSubmenuRef","handleSubmenuBeforeEnter","handleSubmenuAfterEnter","handleMouseEnter","handleMouseMove","handleMouseLeave","e","relatedTarget","target","handleClick","hasSubmenu","doSelect","doUpdateShow","labelField","renderLabel","renderIcon","siblingHasIcon","showIconRef","siblingHasSubmenu","menuProps","popoverBody","animated","mergedShowSubmenu","pending","childActive","activeKeyPath","index","findIndex","k","active","mergedDisabled","renderOption","nodeProps","_a","_b","submenuVNode","submenuNodeProps","call","children","assign","tmNodes","builtinProps","class","onMousemove","onMouseenter","onMouseleave","onClick","optionNodeProps","node","icon","title","show","to","undefined","teleportDisabled","onBeforeEnter","onAfterEnter","appear","option"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/dropdown/src/DropdownOption.mjs"],"sourcesContent":["import { h, computed, inject, ref, Transition, defineComponent, provide, mergeProps } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { useMemo } from 'vooks';\nimport { happensIn } from 'seemly';\nimport { ChevronRightIcon } from \"../../_internal/icons/index.mjs\";\nimport { render, useDeferredTrue } from \"../../_utils/index.mjs\";\nimport { NIcon } from \"../../icon/index.mjs\";\n// eslint-disable-next-line import/no-cycle\nimport NDropdownMenu from \"./DropdownMenu.mjs\";\nimport { dropdownMenuInjectionKey, dropdownInjectionKey, dropdownOptionInjectionKey } from \"./context.mjs\";\nimport { popoverBodyInjectionKey } from \"../../popover/src/interface.mjs\";\nimport { isSubmenuNode } from \"./utils.mjs\";\nexport default defineComponent({\n  name: 'DropdownOption',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    },\n    parentKey: {\n      type: [String, Number],\n      default: null\n    },\n    placement: {\n      type: String,\n      default: 'right-start'\n    },\n    props: Object,\n    scrollable: Boolean\n  },\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NDropdown = inject(dropdownInjectionKey);\n    const {\n      hoverKeyRef,\n      keyboardKeyRef,\n      lastToggledSubmenuKeyRef,\n      pendingKeyPathRef,\n      activeKeyPathRef,\n      animatedRef,\n      mergedShowRef,\n      renderLabelRef,\n      renderIconRef,\n      labelFieldRef,\n      childrenFieldRef,\n      renderOptionRef,\n      nodePropsRef,\n      menuPropsRef\n    } = NDropdown;\n    const NDropdownOption = inject(dropdownOptionInjectionKey, null);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NDropdownMenu = inject(dropdownMenuInjectionKey);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NPopoverBody = inject(popoverBodyInjectionKey);\n    const rawNodeRef = computed(() => props.tmNode.rawNode);\n    const hasSubmenuRef = computed(() => {\n      const {\n        value: childrenField\n      } = childrenFieldRef;\n      return isSubmenuNode(props.tmNode.rawNode, childrenField);\n    });\n    const mergedDisabledRef = computed(() => {\n      const {\n        disabled\n      } = props.tmNode;\n      return disabled;\n    });\n    const showSubmenuRef = computed(() => {\n      if (!hasSubmenuRef.value) return false;\n      const {\n        key,\n        disabled\n      } = props.tmNode;\n      if (disabled) return false;\n      const {\n        value: hoverKey\n      } = hoverKeyRef;\n      const {\n        value: keyboardKey\n      } = keyboardKeyRef;\n      const {\n        value: lastToggledSubmenuKey\n      } = lastToggledSubmenuKeyRef;\n      const {\n        value: pendingKeyPath\n      } = pendingKeyPathRef;\n      if (hoverKey !== null) return pendingKeyPath.includes(key);\n      if (keyboardKey !== null) {\n        return pendingKeyPath.includes(key) && pendingKeyPath[pendingKeyPath.length - 1] !== key;\n      }\n      if (lastToggledSubmenuKey !== null) return pendingKeyPath.includes(key);\n      return false;\n    });\n    const shouldDelayRef = computed(() => {\n      return keyboardKeyRef.value === null && !animatedRef.value;\n    });\n    const deferredShowSubmenuRef = useDeferredTrue(showSubmenuRef, 300, shouldDelayRef);\n    const parentEnteringSubmenuRef = computed(() => {\n      return !!(NDropdownOption === null || NDropdownOption === void 0 ? void 0 : NDropdownOption.enteringSubmenuRef.value);\n    });\n    const enteringSubmenuRef = ref(false);\n    provide(dropdownOptionInjectionKey, {\n      enteringSubmenuRef\n    });\n    // methods\n    function handleSubmenuBeforeEnter() {\n      enteringSubmenuRef.value = true;\n    }\n    function handleSubmenuAfterEnter() {\n      enteringSubmenuRef.value = false;\n    }\n    function handleMouseEnter() {\n      const {\n        parentKey,\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      lastToggledSubmenuKeyRef.value = parentKey;\n      keyboardKeyRef.value = null;\n      hoverKeyRef.value = tmNode.key;\n    }\n    function handleMouseMove() {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      if (hoverKeyRef.value === tmNode.key) return;\n      handleMouseEnter();\n    }\n    function handleMouseLeave(e) {\n      if (props.tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      const {\n        relatedTarget\n      } = e;\n      if (relatedTarget && !happensIn({\n        target: relatedTarget\n      }, 'dropdownOption') && !happensIn({\n        target: relatedTarget\n      }, 'scrollbarRail')) {\n        hoverKeyRef.value = null;\n      }\n    }\n    function handleClick() {\n      const {\n        value: hasSubmenu\n      } = hasSubmenuRef;\n      const {\n        tmNode\n      } = props;\n      if (!mergedShowRef.value) return;\n      if (!hasSubmenu && !tmNode.disabled) {\n        NDropdown.doSelect(tmNode.key, tmNode.rawNode);\n        NDropdown.doUpdateShow(false);\n      }\n    }\n    return {\n      labelField: labelFieldRef,\n      renderLabel: renderLabelRef,\n      renderIcon: renderIconRef,\n      siblingHasIcon: NDropdownMenu.showIconRef,\n      siblingHasSubmenu: NDropdownMenu.hasSubmenuRef,\n      menuProps: menuPropsRef,\n      popoverBody: NPopoverBody,\n      animated: animatedRef,\n      mergedShowSubmenu: computed(() => {\n        return deferredShowSubmenuRef.value && !parentEnteringSubmenuRef.value;\n      }),\n      rawNode: rawNodeRef,\n      hasSubmenu: hasSubmenuRef,\n      pending: useMemo(() => {\n        const {\n          value: pendingKeyPath\n        } = pendingKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        return pendingKeyPath.includes(key);\n      }),\n      childActive: useMemo(() => {\n        const {\n          value: activeKeyPath\n        } = activeKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        const index = activeKeyPath.findIndex(k => key === k);\n        if (index === -1) return false;\n        return index < activeKeyPath.length - 1;\n      }),\n      active: useMemo(() => {\n        const {\n          value: activeKeyPath\n        } = activeKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        const index = activeKeyPath.findIndex(k => key === k);\n        if (index === -1) return false;\n        return index === activeKeyPath.length - 1;\n      }),\n      mergedDisabled: mergedDisabledRef,\n      renderOption: renderOptionRef,\n      nodeProps: nodePropsRef,\n      handleClick,\n      handleMouseMove,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleSubmenuBeforeEnter,\n      handleSubmenuAfterEnter\n    };\n  },\n  render() {\n    var _a, _b;\n    const {\n      animated,\n      rawNode,\n      mergedShowSubmenu,\n      clsPrefix,\n      siblingHasIcon,\n      siblingHasSubmenu,\n      renderLabel,\n      renderIcon,\n      renderOption,\n      nodeProps,\n      props,\n      scrollable\n    } = this;\n    let submenuVNode = null;\n    if (mergedShowSubmenu) {\n      const submenuNodeProps = (_a = this.menuProps) === null || _a === void 0 ? void 0 : _a.call(this, rawNode, rawNode.children);\n      submenuVNode = h(NDropdownMenu, Object.assign({}, submenuNodeProps, {\n        clsPrefix: clsPrefix,\n        scrollable: this.scrollable,\n        tmNodes: this.tmNode.children,\n        parentKey: this.tmNode.key\n      }));\n    }\n    const builtinProps = {\n      class: [`${clsPrefix}-dropdown-option-body`, this.pending && `${clsPrefix}-dropdown-option-body--pending`, this.active && `${clsPrefix}-dropdown-option-body--active`, this.childActive && `${clsPrefix}-dropdown-option-body--child-active`, this.mergedDisabled && `${clsPrefix}-dropdown-option-body--disabled`],\n      onMousemove: this.handleMouseMove,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onClick: this.handleClick\n    };\n    const optionNodeProps = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const node = h(\"div\", Object.assign({\n      class: [`${clsPrefix}-dropdown-option`, optionNodeProps === null || optionNodeProps === void 0 ? void 0 : optionNodeProps.class],\n      \"data-dropdown-option\": true\n    }, optionNodeProps), h('div', mergeProps(builtinProps, props), [h(\"div\", {\n      class: [`${clsPrefix}-dropdown-option-body__prefix`, siblingHasIcon && `${clsPrefix}-dropdown-option-body__prefix--show-icon`]\n    }, [renderIcon ? renderIcon(rawNode) : render(rawNode.icon)]), h(\"div\", {\n      \"data-dropdown-option\": true,\n      class: `${clsPrefix}-dropdown-option-body__label`\n    }, renderLabel ? renderLabel(rawNode) : render((_b = rawNode[this.labelField]) !== null && _b !== void 0 ? _b : rawNode.title)), h(\"div\", {\n      \"data-dropdown-option\": true,\n      class: [`${clsPrefix}-dropdown-option-body__suffix`, siblingHasSubmenu && `${clsPrefix}-dropdown-option-body__suffix--has-submenu`]\n    }, this.hasSubmenu ? h(NIcon, null, {\n      default: () => h(ChevronRightIcon, null)\n    }) : null)]), this.hasSubmenu ? h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(\"div\", {\n          class: `${clsPrefix}-dropdown-offset-container`\n        }, h(VFollower, {\n          show: this.mergedShowSubmenu,\n          placement: this.placement,\n          to: scrollable ? this.popoverBody || undefined : undefined,\n          teleportDisabled: !scrollable\n        }, {\n          default: () => {\n            return h(\"div\", {\n              class: `${clsPrefix}-dropdown-menu-wrapper`\n            }, animated ? h(Transition, {\n              onBeforeEnter: this.handleSubmenuBeforeEnter,\n              onAfterEnter: this.handleSubmenuAfterEnter,\n              name: \"fade-in-scale-up-transition\",\n              appear: true\n            }, {\n              default: () => submenuVNode\n            }) : submenuVNode);\n          }\n        }))\n      })]\n    }) : null);\n    if (renderOption) {\n      return renderOption({\n        node,\n        option: rawNode\n      });\n    }\n    return node;\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}