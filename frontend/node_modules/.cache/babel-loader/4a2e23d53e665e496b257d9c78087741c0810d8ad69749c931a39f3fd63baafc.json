{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, ref, computed, toRef, defineComponent, watch, Transition, withDirectives, vShow, watchEffect } from 'vue';\nimport { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { useIsMounted, useMergedState, useCompitable } from 'vooks';\nimport { clickoutside } from 'vdirs';\nimport { useTheme, useConfig, useLocale, useFormItem, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from \"../../_utils/index.mjs\";\nimport { NInternalSelectMenu, NInternalSelection } from \"../../_internal/index.mjs\";\nimport { selectLight } from \"../styles/index.mjs\";\nimport { createValOptMap, filterOptions, createTmOptions, patternMatched } from \"./utils.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: useAdjustedTo.propTo,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  clearable: Boolean,\n  clearFilterAfterSelect: {\n    type: Boolean,\n    default: true\n  },\n  options: {\n    type: Array,\n    default: () => []\n  },\n  defaultValue: {\n    type: [String, Number, Array],\n    default: null\n  },\n  keyboard: {\n    type: Boolean,\n    default: true\n  },\n  value: [String, Number, Array],\n  placeholder: String,\n  menuProps: Object,\n  multiple: Boolean,\n  size: String,\n  filterable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  remote: Boolean,\n  loading: Boolean,\n  filter: Function,\n  placement: {\n    type: String,\n    default: 'bottom-start'\n  },\n  widthMode: {\n    type: String,\n    default: 'trigger'\n  },\n  tag: Boolean,\n  onCreate: Function,\n  fallbackOption: {\n    type: [Function, Boolean],\n    default: undefined\n  },\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  maxTagCount: [Number, String],\n  ellipsisTagPopoverProps: Object,\n  consistentMenuWidth: {\n    type: Boolean,\n    default: true\n  },\n  virtualScroll: {\n    type: Boolean,\n    default: true\n  },\n  labelField: {\n    type: String,\n    default: 'label'\n  },\n  valueField: {\n    type: String,\n    default: 'value'\n  },\n  childrenField: {\n    type: String,\n    default: 'children'\n  },\n  renderLabel: Function,\n  renderOption: Function,\n  renderTag: Function,\n  'onUpdate:value': [Function, Array],\n  inputProps: Object,\n  nodeProps: Function,\n  ignoreComposition: {\n    type: Boolean,\n    default: true\n  },\n  showOnFocus: Boolean,\n  // for jsx\n  onUpdateValue: [Function, Array],\n  onBlur: [Function, Array],\n  onClear: [Function, Array],\n  onFocus: [Function, Array],\n  onScroll: [Function, Array],\n  onSearch: [Function, Array],\n  onUpdateShow: [Function, Array],\n  'onUpdate:show': [Function, Array],\n  displayDirective: {\n    type: String,\n    default: 'show'\n  },\n  resetMenuOnOptionsChange: {\n    type: Boolean,\n    default: true\n  },\n  status: String,\n  showCheckmark: {\n    type: Boolean,\n    default: true\n  },\n  /** deprecated */\n  onChange: [Function, Array],\n  items: Array\n});\nexport default defineComponent({\n  name: 'Select',\n  props: selectProps,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.items !== undefined) {\n          warnOnce('select', '`items` is deprecated, please use `options` instead.');\n        }\n        if (props.onChange !== undefined) {\n          warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef,\n      mergedBorderedRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const focusedRef = ref(false);\n    const patternRef = ref('');\n    const treeMateRef = computed(() => {\n      const {\n        valueField,\n        childrenField\n      } = props;\n      const options = createTmOptions(valueField, childrenField);\n      return createTreeMate(filteredOptionsRef.value, options);\n    });\n    const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n    const uncontrolledShowRef = ref(false);\n    const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n    const triggerRef = ref(null);\n    const followerRef = ref(null);\n    const menuRef = ref(null);\n    const {\n      localeRef\n    } = useLocale('Select');\n    const localizedPlaceholderRef = computed(() => {\n      var _a;\n      return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n    });\n    const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n    const emptyArray = [];\n    const createdOptionsRef = ref([]);\n    const beingCreatedOptionsRef = ref([]);\n    const memoValOptMapRef = ref(new Map());\n    const wrappedFallbackOptionRef = computed(() => {\n      const {\n        fallbackOption\n      } = props;\n      if (fallbackOption === undefined) {\n        const {\n          labelField,\n          valueField\n        } = props;\n        return value => ({\n          [labelField]: String(value),\n          [valueField]: value\n        });\n      }\n      if (fallbackOption === false) return false;\n      return value => {\n        return Object.assign(fallbackOption(value), {\n          value\n        });\n      };\n    });\n    const localOptionsRef = computed(() => {\n      return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n    });\n    const resolvedFilterRef = computed(() => {\n      const {\n        filter\n      } = props;\n      if (filter) return filter;\n      const {\n        labelField,\n        valueField\n      } = props;\n      return (pattern, option) => {\n        if (!option) return false;\n        const label = option[labelField];\n        if (typeof label === 'string') {\n          return patternMatched(pattern, label);\n        }\n        const value = option[valueField];\n        if (typeof value === 'string') {\n          return patternMatched(pattern, value);\n        }\n        if (typeof value === 'number') {\n          return patternMatched(pattern, String(value));\n        }\n        return false;\n      };\n    });\n    const filteredOptionsRef = computed(() => {\n      if (props.remote) {\n        return compitableOptionsRef.value;\n      } else {\n        const {\n          value: localOptions\n        } = localOptionsRef;\n        const {\n          value: pattern\n        } = patternRef;\n        if (!pattern.length || !props.filterable) {\n          return localOptions;\n        } else {\n          return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n        }\n      }\n    });\n    function getMergedOptions(values) {\n      const remote = props.remote;\n      const {\n        value: memoValOptMap\n      } = memoValOptMapRef;\n      const {\n        value: valOptMap\n      } = valOptMapRef;\n      const {\n        value: wrappedFallbackOption\n      } = wrappedFallbackOptionRef;\n      const options = [];\n      values.forEach(value => {\n        if (valOptMap.has(value)) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options.push(valOptMap.get(value));\n        } else if (remote && memoValOptMap.has(value)) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options.push(memoValOptMap.get(value));\n        } else if (wrappedFallbackOption) {\n          const option = wrappedFallbackOption(value);\n          if (option) {\n            options.push(option);\n          }\n        }\n      });\n      return options;\n    }\n    const selectedOptionsRef = computed(() => {\n      if (props.multiple) {\n        const {\n          value: values\n        } = mergedValueRef;\n        if (!Array.isArray(values)) return [];\n        return getMergedOptions(values);\n      }\n      return null;\n    });\n    const selectedOptionRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (!props.multiple && !Array.isArray(mergedValue)) {\n        if (mergedValue === null) return null;\n        return getMergedOptions([mergedValue])[0] || null;\n      }\n      return null;\n    });\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef,\n      mergedStatusRef\n    } = formItem;\n    function doUpdateValue(value, option) {\n      const {\n        onChange,\n        'onUpdate:value': _onUpdateValue,\n        onUpdateValue\n      } = props;\n      const {\n        nTriggerFormChange,\n        nTriggerFormInput\n      } = formItem;\n      if (onChange) call(onChange, value, option);\n      if (onUpdateValue) call(onUpdateValue, value, option);\n      if (_onUpdateValue) {\n        call(_onUpdateValue, value, option);\n      }\n      uncontrolledValueRef.value = value;\n      nTriggerFormChange();\n      nTriggerFormInput();\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      if (onBlur) call(onBlur, e);\n      nTriggerFormBlur();\n    }\n    function doClear() {\n      const {\n        onClear\n      } = props;\n      if (onClear) call(onClear);\n    }\n    function doFocus(e) {\n      const {\n        onFocus,\n        showOnFocus\n      } = props;\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      if (onFocus) call(onFocus, e);\n      nTriggerFormFocus();\n      if (showOnFocus) {\n        openMenu();\n      }\n    }\n    function doSearch(value) {\n      const {\n        onSearch\n      } = props;\n      if (onSearch) call(onSearch, value);\n    }\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) call(onScroll, e);\n    }\n    // remote related methods\n    function updateMemorizedOptions() {\n      var _a;\n      const {\n        remote,\n        multiple\n      } = props;\n      if (remote) {\n        const {\n          value: memoValOptMap\n        } = memoValOptMapRef;\n        if (multiple) {\n          const {\n            valueField\n          } = props;\n          (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach(option => {\n            memoValOptMap.set(option[valueField], option);\n          });\n        } else {\n          const option = selectedOptionRef.value;\n          if (option) {\n            memoValOptMap.set(option[props.valueField], option);\n          }\n        }\n      }\n    }\n    // menu related methods\n    function doUpdateShow(value) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, value);\n      if (_onUpdateShow) call(_onUpdateShow, value);\n      uncontrolledShowRef.value = value;\n    }\n    function openMenu() {\n      if (!mergedDisabledRef.value) {\n        doUpdateShow(true);\n        uncontrolledShowRef.value = true;\n        if (props.filterable) {\n          focusSelectionInput();\n        }\n      }\n    }\n    function closeMenu() {\n      doUpdateShow(false);\n    }\n    function handleMenuAfterLeave() {\n      patternRef.value = '';\n      beingCreatedOptionsRef.value = emptyArray;\n    }\n    const activeWithoutMenuOpenRef = ref(false);\n    function onTriggerInputFocus() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = true;\n      }\n    }\n    function onTriggerInputBlur() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = false;\n        if (!mergedShowRef.value) {\n          handleMenuAfterLeave();\n        }\n      }\n    }\n    function handleTriggerClick() {\n      if (mergedDisabledRef.value) return;\n      if (!mergedShowRef.value) {\n        openMenu();\n      } else {\n        if (!props.filterable) {\n          // already focused, don't need to return focus\n          closeMenu();\n        } else {\n          focusSelectionInput();\n        }\n      }\n    }\n    function handleTriggerBlur(e) {\n      var _a, _b;\n      if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n        return;\n      }\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleTriggerFocus(e) {\n      doFocus(e);\n      focusedRef.value = true;\n    }\n    function handleMenuFocus(e) {\n      focusedRef.value = true;\n    }\n    function handleMenuBlur(e) {\n      var _a;\n      if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget)) return;\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleMenuTabOut() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      closeMenu();\n    }\n    function handleMenuClickOutside(e) {\n      var _a;\n      if (mergedShowRef.value) {\n        if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n          // outside select, don't need to return focus\n          closeMenu();\n        }\n      }\n    }\n    function createClearedMultipleSelectValue(value) {\n      if (!Array.isArray(value)) return [];\n      if (wrappedFallbackOptionRef.value) {\n        // if option has a fallback, I can't help user to clear some unknown value\n        return Array.from(value);\n      } else {\n        // if there's no option fallback, unappeared options are treated as invalid\n        const {\n          remote\n        } = props;\n        const {\n          value: valOptMap\n        } = valOptMapRef;\n        if (remote) {\n          const {\n            value: memoValOptMap\n          } = memoValOptMapRef;\n          return value.filter(v => valOptMap.has(v) || memoValOptMap.has(v));\n        } else {\n          return value.filter(v => valOptMap.has(v));\n        }\n      }\n    }\n    function handleToggleByTmNode(tmNode) {\n      handleToggleByOption(tmNode.rawNode);\n    }\n    function handleToggleByOption(option) {\n      if (mergedDisabledRef.value) return;\n      const {\n        tag,\n        remote,\n        clearFilterAfterSelect,\n        valueField\n      } = props;\n      if (tag && !remote) {\n        const {\n          value: beingCreatedOptions\n        } = beingCreatedOptionsRef;\n        const beingCreatedOption = beingCreatedOptions[0] || null;\n        if (beingCreatedOption) {\n          const createdOptions = createdOptionsRef.value;\n          if (!createdOptions.length) {\n            createdOptionsRef.value = [beingCreatedOption];\n          } else {\n            createdOptions.push(beingCreatedOption);\n          }\n          beingCreatedOptionsRef.value = emptyArray;\n        }\n      }\n      if (remote) {\n        memoValOptMapRef.value.set(option[valueField], option);\n      }\n      if (props.multiple) {\n        const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n        const index = changedValue.findIndex(value => value === option[valueField]);\n        if (~index) {\n          changedValue.splice(index, 1);\n          if (tag && !remote) {\n            const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n            if (~createdOptionIndex) {\n              createdOptionsRef.value.splice(createdOptionIndex, 1);\n              if (clearFilterAfterSelect) patternRef.value = '';\n            }\n          }\n        } else {\n          changedValue.push(option[valueField]);\n          if (clearFilterAfterSelect) patternRef.value = '';\n        }\n        doUpdateValue(changedValue, getMergedOptions(changedValue));\n      } else {\n        if (tag && !remote) {\n          const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n          if (~createdOptionIndex) {\n            createdOptionsRef.value = [createdOptionsRef.value[createdOptionIndex]];\n          } else {\n            createdOptionsRef.value = emptyArray;\n          }\n        }\n        focusSelection();\n        closeMenu();\n        doUpdateValue(option[valueField], option);\n      }\n    }\n    function getCreatedOptionIndex(optionValue) {\n      const createdOptions = createdOptionsRef.value;\n      return createdOptions.findIndex(createdOption => createdOption[props.valueField] === optionValue);\n    }\n    function handlePatternInput(e) {\n      if (!mergedShowRef.value) {\n        openMenu();\n      }\n      const {\n        value\n      } = e.target;\n      patternRef.value = value;\n      const {\n        tag,\n        remote\n      } = props;\n      doSearch(value);\n      if (tag && !remote) {\n        if (!value) {\n          beingCreatedOptionsRef.value = emptyArray;\n          return;\n        }\n        const {\n          onCreate\n        } = props;\n        const optionBeingCreated = onCreate ? onCreate(value) : {\n          [props.labelField]: value,\n          [props.valueField]: value\n        };\n        const {\n          valueField,\n          labelField\n        } = props;\n        if (compitableOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        }) || createdOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        })) {\n          beingCreatedOptionsRef.value = emptyArray;\n        } else {\n          beingCreatedOptionsRef.value = [optionBeingCreated];\n        }\n      }\n    }\n    function handleClear(e) {\n      e.stopPropagation();\n      const {\n        multiple\n      } = props;\n      if (!multiple && props.filterable) {\n        closeMenu();\n      }\n      doClear();\n      if (multiple) {\n        doUpdateValue([], []);\n      } else {\n        doUpdateValue(null, null);\n      }\n    }\n    function handleMenuMousedown(e) {\n      if (!happensIn(e, 'action') && !happensIn(e, 'empty')) e.preventDefault();\n    }\n    // scroll events on menu\n    function handleMenuScroll(e) {\n      doScroll(e);\n    }\n    // keyboard events\n    // also for menu keydown\n    function handleKeydown(e) {\n      var _a, _b, _c, _d, _e;\n      if (!props.keyboard) {\n        e.preventDefault();\n        return;\n      }\n      switch (e.key) {\n        case ' ':\n          if (props.filterable) break;else {\n            e.preventDefault();\n          }\n        // eslint-disable-next-line no-fallthrough\n        case 'Enter':\n          if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {\n            if (mergedShowRef.value) {\n              const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n              if (pendingTmNode) {\n                handleToggleByTmNode(pendingTmNode);\n              } else if (!props.filterable) {\n                closeMenu();\n                focusSelection();\n              }\n            } else {\n              openMenu();\n              if (props.tag && activeWithoutMenuOpenRef.value) {\n                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                if (beingCreatedOption) {\n                  const optionValue = beingCreatedOption[props.valueField];\n                  const {\n                    value: mergedValue\n                  } = mergedValueRef;\n                  if (props.multiple) {\n                    if (Array.isArray(mergedValue) && mergedValue.some(value => value === optionValue)) {\n                      // do nothing\n                    } else {\n                      handleToggleByOption(beingCreatedOption);\n                    }\n                  } else {\n                    handleToggleByOption(beingCreatedOption);\n                  }\n                }\n              }\n            }\n          }\n          e.preventDefault();\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n          }\n          break;\n        case 'ArrowDown':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n          } else {\n            openMenu();\n          }\n          break;\n        case 'Escape':\n          if (mergedShowRef.value) {\n            markEventEffectPerformed(e);\n            closeMenu();\n          }\n          (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n          break;\n      }\n    }\n    function focusSelection() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    function focusSelectionInput() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n    }\n    function handleTriggerOrMenuResize() {\n      var _a;\n      if (!mergedShowRef.value) return;\n      (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n    }\n    updateMemorizedOptions();\n    watch(toRef(props, 'options'), updateMemorizedOptions);\n    const exposedMethods = {\n      focus: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      focusInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n      },\n      blur: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n      },\n      blurInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blurInput();\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        self: {\n          menuBoxShadow\n        }\n      } = themeRef.value;\n      return {\n        '--n-menu-box-shadow': menuBoxShadow\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('select', undefined, cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, exposedMethods), {\n      mergedStatus: mergedStatusRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      namespace: namespaceRef,\n      treeMate: treeMateRef,\n      isMounted: useIsMounted(),\n      triggerRef,\n      menuRef,\n      pattern: patternRef,\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShow: mergedShowRef,\n      adjustedTo: useAdjustedTo(props),\n      uncontrolledValue: uncontrolledValueRef,\n      mergedValue: mergedValueRef,\n      followerRef,\n      localizedPlaceholder: localizedPlaceholderRef,\n      selectedOption: selectedOptionRef,\n      selectedOptions: selectedOptionsRef,\n      mergedSize: mergedSizeRef,\n      mergedDisabled: mergedDisabledRef,\n      focused: focusedRef,\n      activeWithoutMenuOpen: activeWithoutMenuOpenRef,\n      inlineThemeDisabled,\n      onTriggerInputFocus,\n      onTriggerInputBlur,\n      handleTriggerOrMenuResize,\n      handleMenuFocus,\n      handleMenuBlur,\n      handleMenuTabOut,\n      handleTriggerClick,\n      handleToggle: handleToggleByTmNode,\n      handleDeleteOption: handleToggleByOption,\n      handlePatternInput,\n      handleClear,\n      handleTriggerBlur,\n      handleTriggerFocus,\n      handleKeydown,\n      handleMenuAfterLeave,\n      handleMenuClickOutside,\n      handleMenuScroll,\n      handleMenuKeydown: handleKeydown,\n      handleMenuMousedown,\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    return h(\"div\", {\n      class: `${this.mergedClsPrefix}-select`\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(NInternalSelection, {\n          ref: \"triggerRef\",\n          inlineThemeDisabled: this.inlineThemeDisabled,\n          status: this.mergedStatus,\n          inputProps: this.inputProps,\n          clsPrefix: this.mergedClsPrefix,\n          showArrow: this.showArrow,\n          maxTagCount: this.maxTagCount,\n          ellipsisTagPopoverProps: this.ellipsisTagPopoverProps,\n          bordered: this.mergedBordered,\n          active: this.activeWithoutMenuOpen || this.mergedShow,\n          pattern: this.pattern,\n          placeholder: this.localizedPlaceholder,\n          selectedOption: this.selectedOption,\n          selectedOptions: this.selectedOptions,\n          multiple: this.multiple,\n          renderTag: this.renderTag,\n          renderLabel: this.renderLabel,\n          filterable: this.filterable,\n          clearable: this.clearable,\n          disabled: this.mergedDisabled,\n          size: this.mergedSize,\n          theme: this.mergedTheme.peers.InternalSelection,\n          labelField: this.labelField,\n          valueField: this.valueField,\n          themeOverrides: this.mergedTheme.peerOverrides.InternalSelection,\n          loading: this.loading,\n          focused: this.focused,\n          onClick: this.handleTriggerClick,\n          onDeleteOption: this.handleDeleteOption,\n          onPatternInput: this.handlePatternInput,\n          onClear: this.handleClear,\n          onBlur: this.handleTriggerBlur,\n          onFocus: this.handleTriggerFocus,\n          onKeydown: this.handleKeydown,\n          onPatternBlur: this.onTriggerInputBlur,\n          onPatternFocus: this.onTriggerInputFocus,\n          onResize: this.handleTriggerOrMenuResize,\n          ignoreComposition: this.ignoreComposition\n        }, {\n          arrow: () => {\n            var _a, _b;\n            return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)];\n          }\n        })\n      }), h(VFollower, {\n        ref: \"followerRef\",\n        show: this.mergedShow,\n        to: this.adjustedTo,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n        containerClass: this.namespace,\n        width: this.consistentMenuWidth ? 'target' : undefined,\n        minWidth: \"target\",\n        placement: this.placement\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: this.isMounted,\n          onAfterLeave: this.handleMenuAfterLeave\n        }, {\n          default: () => {\n            var _a, _b, _c;\n            if (!(this.mergedShow || this.displayDirective === 'show')) {\n              return null;\n            }\n            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n            return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, {\n              ref: \"menuRef\",\n              onResize: this.handleTriggerOrMenuResize,\n              inlineThemeDisabled: this.inlineThemeDisabled,\n              virtualScroll: this.consistentMenuWidth && this.virtualScroll,\n              class: [`${this.mergedClsPrefix}-select-menu`, this.themeClass, (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class],\n              clsPrefix: this.mergedClsPrefix,\n              focusable: true,\n              labelField: this.labelField,\n              valueField: this.valueField,\n              autoPending: true,\n              nodeProps: this.nodeProps,\n              theme: this.mergedTheme.peers.InternalSelectMenu,\n              themeOverrides: this.mergedTheme.peerOverrides.InternalSelectMenu,\n              treeMate: this.treeMate,\n              multiple: this.multiple,\n              size: \"medium\",\n              renderOption: this.renderOption,\n              renderLabel: this.renderLabel,\n              value: this.mergedValue,\n              style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars],\n              onToggle: this.handleToggle,\n              onScroll: this.handleMenuScroll,\n              onFocus: this.handleMenuFocus,\n              onBlur: this.handleMenuBlur,\n              onKeydown: this.handleMenuKeydown,\n              onTabOut: this.handleMenuTabOut,\n              onMousedown: this.handleMenuMousedown,\n              show: this.mergedShow,\n              showCheckmark: this.showCheckmark,\n              resetMenuOnOptionsChange: this.resetMenuOnOptionsChange\n            }), {\n              empty: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              header: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              action: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              }\n            }), this.displayDirective === 'show' ? [[vShow, this.mergedShow], [clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]] : [[clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]]);\n          }\n        })\n      })]\n    }));\n  }\n});","map":{"version":3,"names":["h","ref","computed","toRef","defineComponent","watch","Transition","withDirectives","vShow","watchEffect","getPreciseEventTarget","happensIn","createTreeMate","VBinder","VFollower","VTarget","useIsMounted","useMergedState","useCompitable","clickoutside","useTheme","useConfig","useLocale","useFormItem","useThemeClass","call","markEventEffectPerformed","useAdjustedTo","warnOnce","NInternalSelectMenu","NInternalSelection","selectLight","createValOptMap","filterOptions","createTmOptions","patternMatched","style","selectProps","Object","assign","props","to","propTo","bordered","type","Boolean","default","undefined","clearable","clearFilterAfterSelect","options","Array","defaultValue","String","Number","keyboard","value","placeholder","menuProps","multiple","size","filterable","disabled","remote","loading","filter","Function","placement","widthMode","tag","onCreate","fallbackOption","show","showArrow","maxTagCount","ellipsisTagPopoverProps","consistentMenuWidth","virtualScroll","labelField","valueField","childrenField","renderLabel","renderOption","renderTag","inputProps","nodeProps","ignoreComposition","showOnFocus","onUpdateValue","onBlur","onClear","onFocus","onScroll","onSearch","onUpdateShow","displayDirective","resetMenuOnOptionsChange","status","showCheckmark","onChange","items","name","setup","process","env","NODE_ENV","mergedClsPrefixRef","mergedBorderedRef","namespaceRef","inlineThemeDisabled","themeRef","uncontrolledValueRef","controlledValueRef","mergedValueRef","focusedRef","patternRef","treeMateRef","filteredOptionsRef","valOptMapRef","localOptionsRef","uncontrolledShowRef","mergedShowRef","triggerRef","followerRef","menuRef","localeRef","localizedPlaceholderRef","_a","compitableOptionsRef","emptyArray","createdOptionsRef","beingCreatedOptionsRef","memoValOptMapRef","Map","wrappedFallbackOptionRef","concat","resolvedFilterRef","pattern","option","label","localOptions","length","getMergedOptions","values","memoValOptMap","valOptMap","wrappedFallbackOption","forEach","has","push","get","selectedOptionsRef","isArray","selectedOptionRef","mergedValue","formItem","mergedSizeRef","mergedDisabledRef","mergedStatusRef","doUpdateValue","_onUpdateValue","nTriggerFormChange","nTriggerFormInput","doBlur","e","nTriggerFormBlur","doClear","doFocus","nTriggerFormFocus","openMenu","doSearch","doScroll","updateMemorizedOptions","set","doUpdateShow","_onUpdateShow","focusSelectionInput","closeMenu","handleMenuAfterLeave","activeWithoutMenuOpenRef","onTriggerInputFocus","onTriggerInputBlur","handleTriggerClick","handleTriggerBlur","_b","selfRef","contains","relatedTarget","handleTriggerFocus","handleMenuFocus","handleMenuBlur","$el","handleMenuTabOut","focus","handleMenuClickOutside","createClearedMultipleSelectValue","from","v","handleToggleByTmNode","tmNode","handleToggleByOption","rawNode","beingCreatedOptions","beingCreatedOption","createdOptions","changedValue","index","findIndex","splice","createdOptionIndex","getCreatedOptionIndex","focusSelection","optionValue","createdOption","handlePatternInput","target","optionBeingCreated","some","handleClear","stopPropagation","handleMenuMousedown","preventDefault","handleMenuScroll","handleKeydown","_c","_d","_e","key","isComposing","pendingTmNode","getPendingTmNode","prev","next","focusInput","handleTriggerOrMenuResize","syncPosition","exposedMethods","blur","blurInput","cssVarsRef","self","menuBoxShadow","themeClassHandle","mergedStatus","mergedClsPrefix","mergedBordered","namespace","treeMate","isMounted","uncontrolledShow","mergedShow","adjustedTo","uncontrolledValue","localizedPlaceholder","selectedOption","selectedOptions","mergedSize","mergedDisabled","focused","activeWithoutMenuOpen","handleToggle","handleDeleteOption","handleMenuKeydown","mergedTheme","cssVars","themeClass","onRender","render","class","clsPrefix","active","theme","peers","InternalSelection","themeOverrides","peerOverrides","onClick","onDeleteOption","onPatternInput","onKeydown","onPatternBlur","onPatternFocus","onResize","arrow","$slots","teleportDisabled","tdkey","containerClass","width","minWidth","appear","onAfterLeave","focusable","autoPending","InternalSelectMenu","onToggle","onTabOut","onMousedown","empty","header","action","capture"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/select/src/Select.mjs"],"sourcesContent":["import { h, ref, computed, toRef, defineComponent, watch, Transition, withDirectives, vShow, watchEffect } from 'vue';\nimport { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { useIsMounted, useMergedState, useCompitable } from 'vooks';\nimport { clickoutside } from 'vdirs';\nimport { useTheme, useConfig, useLocale, useFormItem, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from \"../../_utils/index.mjs\";\nimport { NInternalSelectMenu, NInternalSelection } from \"../../_internal/index.mjs\";\nimport { selectLight } from \"../styles/index.mjs\";\nimport { createValOptMap, filterOptions, createTmOptions, patternMatched } from \"./utils.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: useAdjustedTo.propTo,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  clearable: Boolean,\n  clearFilterAfterSelect: {\n    type: Boolean,\n    default: true\n  },\n  options: {\n    type: Array,\n    default: () => []\n  },\n  defaultValue: {\n    type: [String, Number, Array],\n    default: null\n  },\n  keyboard: {\n    type: Boolean,\n    default: true\n  },\n  value: [String, Number, Array],\n  placeholder: String,\n  menuProps: Object,\n  multiple: Boolean,\n  size: String,\n  filterable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  remote: Boolean,\n  loading: Boolean,\n  filter: Function,\n  placement: {\n    type: String,\n    default: 'bottom-start'\n  },\n  widthMode: {\n    type: String,\n    default: 'trigger'\n  },\n  tag: Boolean,\n  onCreate: Function,\n  fallbackOption: {\n    type: [Function, Boolean],\n    default: undefined\n  },\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  maxTagCount: [Number, String],\n  ellipsisTagPopoverProps: Object,\n  consistentMenuWidth: {\n    type: Boolean,\n    default: true\n  },\n  virtualScroll: {\n    type: Boolean,\n    default: true\n  },\n  labelField: {\n    type: String,\n    default: 'label'\n  },\n  valueField: {\n    type: String,\n    default: 'value'\n  },\n  childrenField: {\n    type: String,\n    default: 'children'\n  },\n  renderLabel: Function,\n  renderOption: Function,\n  renderTag: Function,\n  'onUpdate:value': [Function, Array],\n  inputProps: Object,\n  nodeProps: Function,\n  ignoreComposition: {\n    type: Boolean,\n    default: true\n  },\n  showOnFocus: Boolean,\n  // for jsx\n  onUpdateValue: [Function, Array],\n  onBlur: [Function, Array],\n  onClear: [Function, Array],\n  onFocus: [Function, Array],\n  onScroll: [Function, Array],\n  onSearch: [Function, Array],\n  onUpdateShow: [Function, Array],\n  'onUpdate:show': [Function, Array],\n  displayDirective: {\n    type: String,\n    default: 'show'\n  },\n  resetMenuOnOptionsChange: {\n    type: Boolean,\n    default: true\n  },\n  status: String,\n  showCheckmark: {\n    type: Boolean,\n    default: true\n  },\n  /** deprecated */\n  onChange: [Function, Array],\n  items: Array\n});\nexport default defineComponent({\n  name: 'Select',\n  props: selectProps,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.items !== undefined) {\n          warnOnce('select', '`items` is deprecated, please use `options` instead.');\n        }\n        if (props.onChange !== undefined) {\n          warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef,\n      mergedBorderedRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const focusedRef = ref(false);\n    const patternRef = ref('');\n    const treeMateRef = computed(() => {\n      const {\n        valueField,\n        childrenField\n      } = props;\n      const options = createTmOptions(valueField, childrenField);\n      return createTreeMate(filteredOptionsRef.value, options);\n    });\n    const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n    const uncontrolledShowRef = ref(false);\n    const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n    const triggerRef = ref(null);\n    const followerRef = ref(null);\n    const menuRef = ref(null);\n    const {\n      localeRef\n    } = useLocale('Select');\n    const localizedPlaceholderRef = computed(() => {\n      var _a;\n      return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n    });\n    const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n    const emptyArray = [];\n    const createdOptionsRef = ref([]);\n    const beingCreatedOptionsRef = ref([]);\n    const memoValOptMapRef = ref(new Map());\n    const wrappedFallbackOptionRef = computed(() => {\n      const {\n        fallbackOption\n      } = props;\n      if (fallbackOption === undefined) {\n        const {\n          labelField,\n          valueField\n        } = props;\n        return value => ({\n          [labelField]: String(value),\n          [valueField]: value\n        });\n      }\n      if (fallbackOption === false) return false;\n      return value => {\n        return Object.assign(fallbackOption(value), {\n          value\n        });\n      };\n    });\n    const localOptionsRef = computed(() => {\n      return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n    });\n    const resolvedFilterRef = computed(() => {\n      const {\n        filter\n      } = props;\n      if (filter) return filter;\n      const {\n        labelField,\n        valueField\n      } = props;\n      return (pattern, option) => {\n        if (!option) return false;\n        const label = option[labelField];\n        if (typeof label === 'string') {\n          return patternMatched(pattern, label);\n        }\n        const value = option[valueField];\n        if (typeof value === 'string') {\n          return patternMatched(pattern, value);\n        }\n        if (typeof value === 'number') {\n          return patternMatched(pattern, String(value));\n        }\n        return false;\n      };\n    });\n    const filteredOptionsRef = computed(() => {\n      if (props.remote) {\n        return compitableOptionsRef.value;\n      } else {\n        const {\n          value: localOptions\n        } = localOptionsRef;\n        const {\n          value: pattern\n        } = patternRef;\n        if (!pattern.length || !props.filterable) {\n          return localOptions;\n        } else {\n          return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n        }\n      }\n    });\n    function getMergedOptions(values) {\n      const remote = props.remote;\n      const {\n        value: memoValOptMap\n      } = memoValOptMapRef;\n      const {\n        value: valOptMap\n      } = valOptMapRef;\n      const {\n        value: wrappedFallbackOption\n      } = wrappedFallbackOptionRef;\n      const options = [];\n      values.forEach(value => {\n        if (valOptMap.has(value)) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options.push(valOptMap.get(value));\n        } else if (remote && memoValOptMap.has(value)) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options.push(memoValOptMap.get(value));\n        } else if (wrappedFallbackOption) {\n          const option = wrappedFallbackOption(value);\n          if (option) {\n            options.push(option);\n          }\n        }\n      });\n      return options;\n    }\n    const selectedOptionsRef = computed(() => {\n      if (props.multiple) {\n        const {\n          value: values\n        } = mergedValueRef;\n        if (!Array.isArray(values)) return [];\n        return getMergedOptions(values);\n      }\n      return null;\n    });\n    const selectedOptionRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (!props.multiple && !Array.isArray(mergedValue)) {\n        if (mergedValue === null) return null;\n        return getMergedOptions([mergedValue])[0] || null;\n      }\n      return null;\n    });\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef,\n      mergedStatusRef\n    } = formItem;\n    function doUpdateValue(value, option) {\n      const {\n        onChange,\n        'onUpdate:value': _onUpdateValue,\n        onUpdateValue\n      } = props;\n      const {\n        nTriggerFormChange,\n        nTriggerFormInput\n      } = formItem;\n      if (onChange) call(onChange, value, option);\n      if (onUpdateValue) call(onUpdateValue, value, option);\n      if (_onUpdateValue) {\n        call(_onUpdateValue, value, option);\n      }\n      uncontrolledValueRef.value = value;\n      nTriggerFormChange();\n      nTriggerFormInput();\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      if (onBlur) call(onBlur, e);\n      nTriggerFormBlur();\n    }\n    function doClear() {\n      const {\n        onClear\n      } = props;\n      if (onClear) call(onClear);\n    }\n    function doFocus(e) {\n      const {\n        onFocus,\n        showOnFocus\n      } = props;\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      if (onFocus) call(onFocus, e);\n      nTriggerFormFocus();\n      if (showOnFocus) {\n        openMenu();\n      }\n    }\n    function doSearch(value) {\n      const {\n        onSearch\n      } = props;\n      if (onSearch) call(onSearch, value);\n    }\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) call(onScroll, e);\n    }\n    // remote related methods\n    function updateMemorizedOptions() {\n      var _a;\n      const {\n        remote,\n        multiple\n      } = props;\n      if (remote) {\n        const {\n          value: memoValOptMap\n        } = memoValOptMapRef;\n        if (multiple) {\n          const {\n            valueField\n          } = props;\n          (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach(option => {\n            memoValOptMap.set(option[valueField], option);\n          });\n        } else {\n          const option = selectedOptionRef.value;\n          if (option) {\n            memoValOptMap.set(option[props.valueField], option);\n          }\n        }\n      }\n    }\n    // menu related methods\n    function doUpdateShow(value) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, value);\n      if (_onUpdateShow) call(_onUpdateShow, value);\n      uncontrolledShowRef.value = value;\n    }\n    function openMenu() {\n      if (!mergedDisabledRef.value) {\n        doUpdateShow(true);\n        uncontrolledShowRef.value = true;\n        if (props.filterable) {\n          focusSelectionInput();\n        }\n      }\n    }\n    function closeMenu() {\n      doUpdateShow(false);\n    }\n    function handleMenuAfterLeave() {\n      patternRef.value = '';\n      beingCreatedOptionsRef.value = emptyArray;\n    }\n    const activeWithoutMenuOpenRef = ref(false);\n    function onTriggerInputFocus() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = true;\n      }\n    }\n    function onTriggerInputBlur() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = false;\n        if (!mergedShowRef.value) {\n          handleMenuAfterLeave();\n        }\n      }\n    }\n    function handleTriggerClick() {\n      if (mergedDisabledRef.value) return;\n      if (!mergedShowRef.value) {\n        openMenu();\n      } else {\n        if (!props.filterable) {\n          // already focused, don't need to return focus\n          closeMenu();\n        } else {\n          focusSelectionInput();\n        }\n      }\n    }\n    function handleTriggerBlur(e) {\n      var _a, _b;\n      if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n        return;\n      }\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleTriggerFocus(e) {\n      doFocus(e);\n      focusedRef.value = true;\n    }\n    function handleMenuFocus(e) {\n      focusedRef.value = true;\n    }\n    function handleMenuBlur(e) {\n      var _a;\n      if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget)) return;\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleMenuTabOut() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      closeMenu();\n    }\n    function handleMenuClickOutside(e) {\n      var _a;\n      if (mergedShowRef.value) {\n        if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n          // outside select, don't need to return focus\n          closeMenu();\n        }\n      }\n    }\n    function createClearedMultipleSelectValue(value) {\n      if (!Array.isArray(value)) return [];\n      if (wrappedFallbackOptionRef.value) {\n        // if option has a fallback, I can't help user to clear some unknown value\n        return Array.from(value);\n      } else {\n        // if there's no option fallback, unappeared options are treated as invalid\n        const {\n          remote\n        } = props;\n        const {\n          value: valOptMap\n        } = valOptMapRef;\n        if (remote) {\n          const {\n            value: memoValOptMap\n          } = memoValOptMapRef;\n          return value.filter(v => valOptMap.has(v) || memoValOptMap.has(v));\n        } else {\n          return value.filter(v => valOptMap.has(v));\n        }\n      }\n    }\n    function handleToggleByTmNode(tmNode) {\n      handleToggleByOption(tmNode.rawNode);\n    }\n    function handleToggleByOption(option) {\n      if (mergedDisabledRef.value) return;\n      const {\n        tag,\n        remote,\n        clearFilterAfterSelect,\n        valueField\n      } = props;\n      if (tag && !remote) {\n        const {\n          value: beingCreatedOptions\n        } = beingCreatedOptionsRef;\n        const beingCreatedOption = beingCreatedOptions[0] || null;\n        if (beingCreatedOption) {\n          const createdOptions = createdOptionsRef.value;\n          if (!createdOptions.length) {\n            createdOptionsRef.value = [beingCreatedOption];\n          } else {\n            createdOptions.push(beingCreatedOption);\n          }\n          beingCreatedOptionsRef.value = emptyArray;\n        }\n      }\n      if (remote) {\n        memoValOptMapRef.value.set(option[valueField], option);\n      }\n      if (props.multiple) {\n        const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n        const index = changedValue.findIndex(value => value === option[valueField]);\n        if (~index) {\n          changedValue.splice(index, 1);\n          if (tag && !remote) {\n            const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n            if (~createdOptionIndex) {\n              createdOptionsRef.value.splice(createdOptionIndex, 1);\n              if (clearFilterAfterSelect) patternRef.value = '';\n            }\n          }\n        } else {\n          changedValue.push(option[valueField]);\n          if (clearFilterAfterSelect) patternRef.value = '';\n        }\n        doUpdateValue(changedValue, getMergedOptions(changedValue));\n      } else {\n        if (tag && !remote) {\n          const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n          if (~createdOptionIndex) {\n            createdOptionsRef.value = [createdOptionsRef.value[createdOptionIndex]];\n          } else {\n            createdOptionsRef.value = emptyArray;\n          }\n        }\n        focusSelection();\n        closeMenu();\n        doUpdateValue(option[valueField], option);\n      }\n    }\n    function getCreatedOptionIndex(optionValue) {\n      const createdOptions = createdOptionsRef.value;\n      return createdOptions.findIndex(createdOption => createdOption[props.valueField] === optionValue);\n    }\n    function handlePatternInput(e) {\n      if (!mergedShowRef.value) {\n        openMenu();\n      }\n      const {\n        value\n      } = e.target;\n      patternRef.value = value;\n      const {\n        tag,\n        remote\n      } = props;\n      doSearch(value);\n      if (tag && !remote) {\n        if (!value) {\n          beingCreatedOptionsRef.value = emptyArray;\n          return;\n        }\n        const {\n          onCreate\n        } = props;\n        const optionBeingCreated = onCreate ? onCreate(value) : {\n          [props.labelField]: value,\n          [props.valueField]: value\n        };\n        const {\n          valueField,\n          labelField\n        } = props;\n        if (compitableOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        }) || createdOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        })) {\n          beingCreatedOptionsRef.value = emptyArray;\n        } else {\n          beingCreatedOptionsRef.value = [optionBeingCreated];\n        }\n      }\n    }\n    function handleClear(e) {\n      e.stopPropagation();\n      const {\n        multiple\n      } = props;\n      if (!multiple && props.filterable) {\n        closeMenu();\n      }\n      doClear();\n      if (multiple) {\n        doUpdateValue([], []);\n      } else {\n        doUpdateValue(null, null);\n      }\n    }\n    function handleMenuMousedown(e) {\n      if (!happensIn(e, 'action') && !happensIn(e, 'empty')) e.preventDefault();\n    }\n    // scroll events on menu\n    function handleMenuScroll(e) {\n      doScroll(e);\n    }\n    // keyboard events\n    // also for menu keydown\n    function handleKeydown(e) {\n      var _a, _b, _c, _d, _e;\n      if (!props.keyboard) {\n        e.preventDefault();\n        return;\n      }\n      switch (e.key) {\n        case ' ':\n          if (props.filterable) break;else {\n            e.preventDefault();\n          }\n        // eslint-disable-next-line no-fallthrough\n        case 'Enter':\n          if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {\n            if (mergedShowRef.value) {\n              const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n              if (pendingTmNode) {\n                handleToggleByTmNode(pendingTmNode);\n              } else if (!props.filterable) {\n                closeMenu();\n                focusSelection();\n              }\n            } else {\n              openMenu();\n              if (props.tag && activeWithoutMenuOpenRef.value) {\n                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                if (beingCreatedOption) {\n                  const optionValue = beingCreatedOption[props.valueField];\n                  const {\n                    value: mergedValue\n                  } = mergedValueRef;\n                  if (props.multiple) {\n                    if (Array.isArray(mergedValue) && mergedValue.some(value => value === optionValue)) {\n                      // do nothing\n                    } else {\n                      handleToggleByOption(beingCreatedOption);\n                    }\n                  } else {\n                    handleToggleByOption(beingCreatedOption);\n                  }\n                }\n              }\n            }\n          }\n          e.preventDefault();\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n          }\n          break;\n        case 'ArrowDown':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n          } else {\n            openMenu();\n          }\n          break;\n        case 'Escape':\n          if (mergedShowRef.value) {\n            markEventEffectPerformed(e);\n            closeMenu();\n          }\n          (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n          break;\n      }\n    }\n    function focusSelection() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    function focusSelectionInput() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n    }\n    function handleTriggerOrMenuResize() {\n      var _a;\n      if (!mergedShowRef.value) return;\n      (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n    }\n    updateMemorizedOptions();\n    watch(toRef(props, 'options'), updateMemorizedOptions);\n    const exposedMethods = {\n      focus: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      focusInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n      },\n      blur: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n      },\n      blurInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blurInput();\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        self: {\n          menuBoxShadow\n        }\n      } = themeRef.value;\n      return {\n        '--n-menu-box-shadow': menuBoxShadow\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('select', undefined, cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, exposedMethods), {\n      mergedStatus: mergedStatusRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      namespace: namespaceRef,\n      treeMate: treeMateRef,\n      isMounted: useIsMounted(),\n      triggerRef,\n      menuRef,\n      pattern: patternRef,\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShow: mergedShowRef,\n      adjustedTo: useAdjustedTo(props),\n      uncontrolledValue: uncontrolledValueRef,\n      mergedValue: mergedValueRef,\n      followerRef,\n      localizedPlaceholder: localizedPlaceholderRef,\n      selectedOption: selectedOptionRef,\n      selectedOptions: selectedOptionsRef,\n      mergedSize: mergedSizeRef,\n      mergedDisabled: mergedDisabledRef,\n      focused: focusedRef,\n      activeWithoutMenuOpen: activeWithoutMenuOpenRef,\n      inlineThemeDisabled,\n      onTriggerInputFocus,\n      onTriggerInputBlur,\n      handleTriggerOrMenuResize,\n      handleMenuFocus,\n      handleMenuBlur,\n      handleMenuTabOut,\n      handleTriggerClick,\n      handleToggle: handleToggleByTmNode,\n      handleDeleteOption: handleToggleByOption,\n      handlePatternInput,\n      handleClear,\n      handleTriggerBlur,\n      handleTriggerFocus,\n      handleKeydown,\n      handleMenuAfterLeave,\n      handleMenuClickOutside,\n      handleMenuScroll,\n      handleMenuKeydown: handleKeydown,\n      handleMenuMousedown,\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    return h(\"div\", {\n      class: `${this.mergedClsPrefix}-select`\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(NInternalSelection, {\n          ref: \"triggerRef\",\n          inlineThemeDisabled: this.inlineThemeDisabled,\n          status: this.mergedStatus,\n          inputProps: this.inputProps,\n          clsPrefix: this.mergedClsPrefix,\n          showArrow: this.showArrow,\n          maxTagCount: this.maxTagCount,\n          ellipsisTagPopoverProps: this.ellipsisTagPopoverProps,\n          bordered: this.mergedBordered,\n          active: this.activeWithoutMenuOpen || this.mergedShow,\n          pattern: this.pattern,\n          placeholder: this.localizedPlaceholder,\n          selectedOption: this.selectedOption,\n          selectedOptions: this.selectedOptions,\n          multiple: this.multiple,\n          renderTag: this.renderTag,\n          renderLabel: this.renderLabel,\n          filterable: this.filterable,\n          clearable: this.clearable,\n          disabled: this.mergedDisabled,\n          size: this.mergedSize,\n          theme: this.mergedTheme.peers.InternalSelection,\n          labelField: this.labelField,\n          valueField: this.valueField,\n          themeOverrides: this.mergedTheme.peerOverrides.InternalSelection,\n          loading: this.loading,\n          focused: this.focused,\n          onClick: this.handleTriggerClick,\n          onDeleteOption: this.handleDeleteOption,\n          onPatternInput: this.handlePatternInput,\n          onClear: this.handleClear,\n          onBlur: this.handleTriggerBlur,\n          onFocus: this.handleTriggerFocus,\n          onKeydown: this.handleKeydown,\n          onPatternBlur: this.onTriggerInputBlur,\n          onPatternFocus: this.onTriggerInputFocus,\n          onResize: this.handleTriggerOrMenuResize,\n          ignoreComposition: this.ignoreComposition\n        }, {\n          arrow: () => {\n            var _a, _b;\n            return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)];\n          }\n        })\n      }), h(VFollower, {\n        ref: \"followerRef\",\n        show: this.mergedShow,\n        to: this.adjustedTo,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n        containerClass: this.namespace,\n        width: this.consistentMenuWidth ? 'target' : undefined,\n        minWidth: \"target\",\n        placement: this.placement\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: this.isMounted,\n          onAfterLeave: this.handleMenuAfterLeave\n        }, {\n          default: () => {\n            var _a, _b, _c;\n            if (!(this.mergedShow || this.displayDirective === 'show')) {\n              return null;\n            }\n            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n            return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, {\n              ref: \"menuRef\",\n              onResize: this.handleTriggerOrMenuResize,\n              inlineThemeDisabled: this.inlineThemeDisabled,\n              virtualScroll: this.consistentMenuWidth && this.virtualScroll,\n              class: [`${this.mergedClsPrefix}-select-menu`, this.themeClass, (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class],\n              clsPrefix: this.mergedClsPrefix,\n              focusable: true,\n              labelField: this.labelField,\n              valueField: this.valueField,\n              autoPending: true,\n              nodeProps: this.nodeProps,\n              theme: this.mergedTheme.peers.InternalSelectMenu,\n              themeOverrides: this.mergedTheme.peerOverrides.InternalSelectMenu,\n              treeMate: this.treeMate,\n              multiple: this.multiple,\n              size: \"medium\",\n              renderOption: this.renderOption,\n              renderLabel: this.renderLabel,\n              value: this.mergedValue,\n              style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars],\n              onToggle: this.handleToggle,\n              onScroll: this.handleMenuScroll,\n              onFocus: this.handleMenuFocus,\n              onBlur: this.handleMenuBlur,\n              onKeydown: this.handleMenuKeydown,\n              onTabOut: this.handleMenuTabOut,\n              onMousedown: this.handleMenuMousedown,\n              show: this.mergedShow,\n              showCheckmark: this.showCheckmark,\n              resetMenuOnOptionsChange: this.resetMenuOnOptionsChange\n            }), {\n              empty: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              header: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              action: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              }\n            }), this.displayDirective === 'show' ? [[vShow, this.mergedShow], [clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]] : [[clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]]);\n          }\n        })\n      })]\n    }));\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}