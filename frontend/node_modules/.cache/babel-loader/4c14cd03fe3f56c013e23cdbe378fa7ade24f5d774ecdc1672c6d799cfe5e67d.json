{"ast":null,"code":"// use absolute path to make sure no circular ref of style\n// this -> modal-index -> modal-style\nimport { h, defineComponent, ref } from 'vue';\nimport NModal from \"../../modal/src/Modal.mjs\";\nimport { keep } from \"../../_utils/index.mjs\";\nimport { NDialog } from \"./Dialog.mjs\";\nimport { dialogProps, dialogPropKeys } from \"./dialogProps.mjs\";\nexport const exposedDialogEnvProps = Object.assign(Object.assign({}, dialogProps), {\n  onAfterEnter: Function,\n  onAfterLeave: Function,\n  transformOrigin: String,\n  blockScroll: {\n    type: Boolean,\n    default: true\n  },\n  closeOnEsc: {\n    type: Boolean,\n    default: true\n  },\n  onEsc: Function,\n  autoFocus: {\n    type: Boolean,\n    default: true\n  },\n  internalStyle: [String, Object],\n  maskClosable: {\n    type: Boolean,\n    default: true\n  },\n  onPositiveClick: Function,\n  onNegativeClick: Function,\n  onClose: Function,\n  onMaskClick: Function\n});\nexport const NDialogEnvironment = defineComponent({\n  name: 'DialogEnvironment',\n  props: Object.assign(Object.assign({}, exposedDialogEnvProps), {\n    internalKey: {\n      type: String,\n      required: true\n    },\n    to: [String, Object],\n    // private\n    onInternalAfterLeave: {\n      type: Function,\n      required: true\n    }\n  }),\n  setup(props) {\n    const showRef = ref(true);\n    function handleAfterLeave() {\n      const {\n        onInternalAfterLeave,\n        internalKey,\n        onAfterLeave\n      } = props;\n      if (onInternalAfterLeave) onInternalAfterLeave(internalKey);\n      if (onAfterLeave) onAfterLeave();\n    }\n    function handlePositiveClick(e) {\n      const {\n        onPositiveClick\n      } = props;\n      if (onPositiveClick) {\n        void Promise.resolve(onPositiveClick(e)).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleNegativeClick(e) {\n      const {\n        onNegativeClick\n      } = props;\n      if (onNegativeClick) {\n        void Promise.resolve(onNegativeClick(e)).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleCloseClick() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleMaskClick(e) {\n      const {\n        onMaskClick,\n        maskClosable\n      } = props;\n      if (onMaskClick) {\n        onMaskClick(e);\n        maskClosable && hide();\n      }\n    }\n    function handleEsc() {\n      const {\n        onEsc\n      } = props;\n      if (onEsc) {\n        onEsc();\n      }\n    }\n    function hide() {\n      showRef.value = false;\n    }\n    function handleUpdateShow(value) {\n      showRef.value = value;\n    }\n    return {\n      show: showRef,\n      hide,\n      handleUpdateShow,\n      handleAfterLeave,\n      handleCloseClick,\n      handleNegativeClick,\n      handlePositiveClick,\n      handleMaskClick,\n      handleEsc\n    };\n  },\n  render() {\n    const {\n      handlePositiveClick,\n      handleUpdateShow,\n      handleNegativeClick,\n      handleCloseClick,\n      handleAfterLeave,\n      handleMaskClick,\n      handleEsc,\n      to,\n      maskClosable,\n      show\n    } = this;\n    return h(NModal, {\n      show: show,\n      onUpdateShow: handleUpdateShow,\n      onMaskClick: handleMaskClick,\n      onEsc: handleEsc,\n      to: to,\n      maskClosable: maskClosable,\n      onAfterEnter: this.onAfterEnter,\n      onAfterLeave: handleAfterLeave,\n      closeOnEsc: this.closeOnEsc,\n      blockScroll: this.blockScroll,\n      autoFocus: this.autoFocus,\n      transformOrigin: this.transformOrigin,\n      internalAppear: true,\n      internalDialog: true\n    }, {\n      default: () => h(NDialog, Object.assign({}, keep(this.$props, dialogPropKeys), {\n        style: this.internalStyle,\n        onClose: handleCloseClick,\n        onNegativeClick: handleNegativeClick,\n        onPositiveClick: handlePositiveClick\n      }))\n    });\n  }\n});","map":{"version":3,"names":["h","defineComponent","ref","NModal","keep","NDialog","dialogProps","dialogPropKeys","exposedDialogEnvProps","Object","assign","onAfterEnter","Function","onAfterLeave","transformOrigin","String","blockScroll","type","Boolean","default","closeOnEsc","onEsc","autoFocus","internalStyle","maskClosable","onPositiveClick","onNegativeClick","onClose","onMaskClick","NDialogEnvironment","name","props","internalKey","required","to","onInternalAfterLeave","setup","showRef","handleAfterLeave","handlePositiveClick","e","Promise","resolve","then","result","hide","handleNegativeClick","handleCloseClick","handleMaskClick","handleEsc","value","handleUpdateShow","show","render","onUpdateShow","internalAppear","internalDialog","$props","style"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/dialog/src/DialogEnvironment.mjs"],"sourcesContent":["// use absolute path to make sure no circular ref of style\n// this -> modal-index -> modal-style\nimport { h, defineComponent, ref } from 'vue';\nimport NModal from \"../../modal/src/Modal.mjs\";\nimport { keep } from \"../../_utils/index.mjs\";\nimport { NDialog } from \"./Dialog.mjs\";\nimport { dialogProps, dialogPropKeys } from \"./dialogProps.mjs\";\nexport const exposedDialogEnvProps = Object.assign(Object.assign({}, dialogProps), {\n  onAfterEnter: Function,\n  onAfterLeave: Function,\n  transformOrigin: String,\n  blockScroll: {\n    type: Boolean,\n    default: true\n  },\n  closeOnEsc: {\n    type: Boolean,\n    default: true\n  },\n  onEsc: Function,\n  autoFocus: {\n    type: Boolean,\n    default: true\n  },\n  internalStyle: [String, Object],\n  maskClosable: {\n    type: Boolean,\n    default: true\n  },\n  onPositiveClick: Function,\n  onNegativeClick: Function,\n  onClose: Function,\n  onMaskClick: Function\n});\nexport const NDialogEnvironment = defineComponent({\n  name: 'DialogEnvironment',\n  props: Object.assign(Object.assign({}, exposedDialogEnvProps), {\n    internalKey: {\n      type: String,\n      required: true\n    },\n    to: [String, Object],\n    // private\n    onInternalAfterLeave: {\n      type: Function,\n      required: true\n    }\n  }),\n  setup(props) {\n    const showRef = ref(true);\n    function handleAfterLeave() {\n      const {\n        onInternalAfterLeave,\n        internalKey,\n        onAfterLeave\n      } = props;\n      if (onInternalAfterLeave) onInternalAfterLeave(internalKey);\n      if (onAfterLeave) onAfterLeave();\n    }\n    function handlePositiveClick(e) {\n      const {\n        onPositiveClick\n      } = props;\n      if (onPositiveClick) {\n        void Promise.resolve(onPositiveClick(e)).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleNegativeClick(e) {\n      const {\n        onNegativeClick\n      } = props;\n      if (onNegativeClick) {\n        void Promise.resolve(onNegativeClick(e)).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleCloseClick() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleMaskClick(e) {\n      const {\n        onMaskClick,\n        maskClosable\n      } = props;\n      if (onMaskClick) {\n        onMaskClick(e);\n        maskClosable && hide();\n      }\n    }\n    function handleEsc() {\n      const {\n        onEsc\n      } = props;\n      if (onEsc) {\n        onEsc();\n      }\n    }\n    function hide() {\n      showRef.value = false;\n    }\n    function handleUpdateShow(value) {\n      showRef.value = value;\n    }\n    return {\n      show: showRef,\n      hide,\n      handleUpdateShow,\n      handleAfterLeave,\n      handleCloseClick,\n      handleNegativeClick,\n      handlePositiveClick,\n      handleMaskClick,\n      handleEsc\n    };\n  },\n  render() {\n    const {\n      handlePositiveClick,\n      handleUpdateShow,\n      handleNegativeClick,\n      handleCloseClick,\n      handleAfterLeave,\n      handleMaskClick,\n      handleEsc,\n      to,\n      maskClosable,\n      show\n    } = this;\n    return h(NModal, {\n      show: show,\n      onUpdateShow: handleUpdateShow,\n      onMaskClick: handleMaskClick,\n      onEsc: handleEsc,\n      to: to,\n      maskClosable: maskClosable,\n      onAfterEnter: this.onAfterEnter,\n      onAfterLeave: handleAfterLeave,\n      closeOnEsc: this.closeOnEsc,\n      blockScroll: this.blockScroll,\n      autoFocus: this.autoFocus,\n      transformOrigin: this.transformOrigin,\n      internalAppear: true,\n      internalDialog: true\n    }, {\n      default: () => h(NDialog, Object.assign({}, keep(this.$props, dialogPropKeys), {\n        style: this.internalStyle,\n        onClose: handleCloseClick,\n        onNegativeClick: handleNegativeClick,\n        onPositiveClick: handlePositiveClick\n      }))\n    });\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}