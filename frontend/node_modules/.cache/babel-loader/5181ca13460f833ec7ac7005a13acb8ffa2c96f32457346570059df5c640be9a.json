{"ast":null,"code":"import { createApp, h, unref } from 'vue';\nimport { NConfigProvider } from \"../../config-provider/index.mjs\";\nimport { useDialog } from \"../../dialog/index.mjs\";\nimport { useLoadingBar } from \"../../loading-bar/index.mjs\";\nimport { useMessage } from \"../../message/index.mjs\";\nimport { useNotification } from \"../../notification/index.mjs\";\nimport { useModal } from \"../../modal/index.mjs\";\nimport { isBrowser, warn } from \"../../_utils/index.mjs\";\nimport { NInjectionExtractor } from \"./InjectionExtractor.mjs\";\nconst injectionFactoryMap = {\n  message: useMessage,\n  notification: useNotification,\n  loadingBar: useLoadingBar,\n  dialog: useDialog,\n  modal: useModal\n};\nexport function createDiscreteApp({\n  providersAndProps,\n  configProviderProps\n}) {\n  const App = () => {\n    return h(NConfigProvider, unref(configProviderProps), {\n      default: () => providersAndProps.map(({\n        type,\n        Provider,\n        props\n      }) => {\n        return h(Provider, unref(props), {\n          default: () => h(NInjectionExtractor, {\n            onSetup: () => extractedApi[type] = injectionFactoryMap[type]()\n          })\n        });\n      })\n    });\n  };\n  let app = createApp(App);\n  const extractedApi = {\n    app\n  };\n  let hostEl;\n  if (isBrowser) {\n    hostEl = document.createElement('div');\n    document.body.appendChild(hostEl);\n    app.mount(hostEl);\n  }\n  const unmount = () => {\n    var _a;\n    if (app === null || hostEl === null) {\n      warn('discrete', 'unmount call no need because discrete app has been unmounted');\n      return;\n    }\n    app.unmount();\n    (_a = hostEl.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(hostEl);\n    hostEl = null;\n    app = null;\n  };\n  return Object.assign({\n    unmount\n  }, extractedApi);\n}","map":{"version":3,"names":["createApp","h","unref","NConfigProvider","useDialog","useLoadingBar","useMessage","useNotification","useModal","isBrowser","warn","NInjectionExtractor","injectionFactoryMap","message","notification","loadingBar","dialog","modal","createDiscreteApp","providersAndProps","configProviderProps","App","default","map","type","Provider","props","onSetup","extractedApi","app","hostEl","document","createElement","body","appendChild","mount","unmount","_a","parentNode","removeChild","Object","assign"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/discrete/src/discreteApp.mjs"],"sourcesContent":["import { createApp, h, unref } from 'vue';\nimport { NConfigProvider } from \"../../config-provider/index.mjs\";\nimport { useDialog } from \"../../dialog/index.mjs\";\nimport { useLoadingBar } from \"../../loading-bar/index.mjs\";\nimport { useMessage } from \"../../message/index.mjs\";\nimport { useNotification } from \"../../notification/index.mjs\";\nimport { useModal } from \"../../modal/index.mjs\";\nimport { isBrowser, warn } from \"../../_utils/index.mjs\";\nimport { NInjectionExtractor } from \"./InjectionExtractor.mjs\";\nconst injectionFactoryMap = {\n  message: useMessage,\n  notification: useNotification,\n  loadingBar: useLoadingBar,\n  dialog: useDialog,\n  modal: useModal\n};\nexport function createDiscreteApp({\n  providersAndProps,\n  configProviderProps\n}) {\n  const App = () => {\n    return h(NConfigProvider, unref(configProviderProps), {\n      default: () => providersAndProps.map(({\n        type,\n        Provider,\n        props\n      }) => {\n        return h(Provider, unref(props), {\n          default: () => h(NInjectionExtractor, {\n            onSetup: () => extractedApi[type] = injectionFactoryMap[type]()\n          })\n        });\n      })\n    });\n  };\n  let app = createApp(App);\n  const extractedApi = {\n    app\n  };\n  let hostEl;\n  if (isBrowser) {\n    hostEl = document.createElement('div');\n    document.body.appendChild(hostEl);\n    app.mount(hostEl);\n  }\n  const unmount = () => {\n    var _a;\n    if (app === null || hostEl === null) {\n      warn('discrete', 'unmount call no need because discrete app has been unmounted');\n      return;\n    }\n    app.unmount();\n    (_a = hostEl.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(hostEl);\n    hostEl = null;\n    app = null;\n  };\n  return Object.assign({\n    unmount\n  }, extractedApi);\n}"],"mappings":"AAAA,SAASA,SAAS,EAAEC,CAAC,EAAEC,KAAK,QAAQ,KAAK;AACzC,SAASC,eAAe,QAAQ,iCAAiC;AACjE,SAASC,SAAS,QAAQ,wBAAwB;AAClD,SAASC,aAAa,QAAQ,6BAA6B;AAC3D,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,SAAS,EAAEC,IAAI,QAAQ,wBAAwB;AACxD,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,MAAMC,mBAAmB,GAAG;EAC1BC,OAAO,EAAEP,UAAU;EACnBQ,YAAY,EAAEP,eAAe;EAC7BQ,UAAU,EAAEV,aAAa;EACzBW,MAAM,EAAEZ,SAAS;EACjBa,KAAK,EAAET;AACT,CAAC;AACD,OAAO,SAASU,iBAAiBA,CAAC;EAChCC,iBAAiB;EACjBC;AACF,CAAC,EAAE;EACD,MAAMC,GAAG,GAAGA,CAAA,KAAM;IAChB,OAAOpB,CAAC,CAACE,eAAe,EAAED,KAAK,CAACkB,mBAAmB,CAAC,EAAE;MACpDE,OAAO,EAAEA,CAAA,KAAMH,iBAAiB,CAACI,GAAG,CAAC,CAAC;QACpCC,IAAI;QACJC,QAAQ;QACRC;MACF,CAAC,KAAK;QACJ,OAAOzB,CAAC,CAACwB,QAAQ,EAAEvB,KAAK,CAACwB,KAAK,CAAC,EAAE;UAC/BJ,OAAO,EAAEA,CAAA,KAAMrB,CAAC,CAACU,mBAAmB,EAAE;YACpCgB,OAAO,EAAEA,CAAA,KAAMC,YAAY,CAACJ,IAAI,CAAC,GAAGZ,mBAAmB,CAACY,IAAI,CAAC,CAAC;UAChE,CAAC;QACH,CAAC,CAAC;MACJ,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EACD,IAAIK,GAAG,GAAG7B,SAAS,CAACqB,GAAG,CAAC;EACxB,MAAMO,YAAY,GAAG;IACnBC;EACF,CAAC;EACD,IAAIC,MAAM;EACV,IAAIrB,SAAS,EAAE;IACbqB,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACtCD,QAAQ,CAACE,IAAI,CAACC,WAAW,CAACJ,MAAM,CAAC;IACjCD,GAAG,CAACM,KAAK,CAACL,MAAM,CAAC;EACnB;EACA,MAAMM,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAIC,EAAE;IACN,IAAIR,GAAG,KAAK,IAAI,IAAIC,MAAM,KAAK,IAAI,EAAE;MACnCpB,IAAI,CAAC,UAAU,EAAE,8DAA8D,CAAC;MAChF;IACF;IACAmB,GAAG,CAACO,OAAO,CAAC,CAAC;IACb,CAACC,EAAE,GAAGP,MAAM,CAACQ,UAAU,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,WAAW,CAACT,MAAM,CAAC;IACpFA,MAAM,GAAG,IAAI;IACbD,GAAG,GAAG,IAAI;EACZ,CAAC;EACD,OAAOW,MAAM,CAACC,MAAM,CAAC;IACnBL;EACF,CAAC,EAAER,YAAY,CAAC;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}