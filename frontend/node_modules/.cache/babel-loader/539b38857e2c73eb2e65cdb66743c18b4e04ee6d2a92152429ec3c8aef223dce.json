{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from \"../../_utils/index.mjs\";\nimport { useConfig, useTheme } from \"../../_mixins/index.mjs\";\nimport MessageEnvironment from \"./MessageEnvironment.mjs\";\nimport { messageApiInjectionKey, messageProviderInjectionKey } from \"./context.mjs\";\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: [String, Object],\n  duration: {\n    type: Number,\n    default: 3000\n  },\n  keepAliveOnHover: Boolean,\n  max: Number,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  closable: Boolean,\n  containerClass: String,\n  containerStyle: [String, Object]\n});\nexport default defineComponent({\n  name: 'MessageProvider',\n  props: messageProviderProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const messageListRef = ref([]);\n    const messageRefs = ref({});\n    const api = {\n      create(content, options) {\n        return create(content, Object.assign({\n          type: 'default'\n        }, options));\n      },\n      info(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'info'\n        }));\n      },\n      success(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'success'\n        }));\n      },\n      warning(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'warning'\n        }));\n      },\n      error(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'error'\n        }));\n      },\n      loading(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'loading'\n        }));\n      },\n      destroyAll\n    };\n    provide(messageProviderInjectionKey, {\n      props,\n      mergedClsPrefixRef\n    });\n    provide(messageApiInjectionKey, api);\n    function create(content, options) {\n      const key = createId();\n      const messageReactive = reactive(Object.assign(Object.assign({}, options), {\n        content,\n        key,\n        destroy: () => {\n          var _a;\n          (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }));\n      const {\n        max\n      } = props;\n      if (max && messageListRef.value.length >= max) {\n        messageListRef.value.shift();\n      }\n      messageListRef.value.push(messageReactive);\n      return messageReactive;\n    }\n    function handleAfterLeave(key) {\n      messageListRef.value.splice(messageListRef.value.findIndex(message => message.key === key), 1);\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete messageRefs.value[key];\n    }\n    function destroyAll() {\n      Object.values(messageRefs.value).forEach(messageInstRef => {\n        messageInstRef.hide();\n      });\n    }\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      messageRefs,\n      messageList: messageListRef,\n      handleAfterLeave\n    }, api);\n  },\n  render() {\n    var _a, _b, _c;\n    return h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a), this.messageList.length ? h(Teleport, {\n      to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body'\n    }, h(\"div\", {\n      class: [`${this.mergedClsPrefix}-message-container`, `${this.mergedClsPrefix}-message-container--${this.placement}`, this.containerClass],\n      key: \"message-container\",\n      style: this.containerStyle\n    }, this.messageList.map(message => {\n      return h(MessageEnvironment, Object.assign({\n        ref: inst => {\n          if (inst) {\n            this.messageRefs[message.key] = inst;\n          }\n        },\n        internalKey: message.key,\n        onInternalAfterLeave: this.handleAfterLeave\n      }, omit(message, ['destroy'], undefined), {\n        duration: message.duration === undefined ? this.duration : message.duration,\n        keepAliveOnHover: message.keepAliveOnHover === undefined ? this.keepAliveOnHover : message.keepAliveOnHover,\n        closable: message.closable === undefined ? this.closable : message.closable\n      }));\n    }))) : null);\n  }\n});","map":{"version":3,"names":["Fragment","ref","h","reactive","Teleport","defineComponent","provide","createId","omit","useConfig","useTheme","MessageEnvironment","messageApiInjectionKey","messageProviderInjectionKey","messageProviderProps","Object","assign","props","to","String","duration","type","Number","default","keepAliveOnHover","Boolean","max","placement","closable","containerClass","containerStyle","name","setup","mergedClsPrefixRef","messageListRef","messageRefs","api","create","content","options","info","success","warning","error","loading","destroyAll","key","messageReactive","destroy","_a","value","hide","length","shift","push","handleAfterLeave","splice","findIndex","message","values","forEach","messageInstRef","mergedClsPrefix","messageList","render","_b","_c","$slots","call","class","style","map","inst","internalKey","onInternalAfterLeave","undefined"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/message/src/MessageProvider.mjs"],"sourcesContent":["import { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from \"../../_utils/index.mjs\";\nimport { useConfig, useTheme } from \"../../_mixins/index.mjs\";\nimport MessageEnvironment from \"./MessageEnvironment.mjs\";\nimport { messageApiInjectionKey, messageProviderInjectionKey } from \"./context.mjs\";\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: [String, Object],\n  duration: {\n    type: Number,\n    default: 3000\n  },\n  keepAliveOnHover: Boolean,\n  max: Number,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  closable: Boolean,\n  containerClass: String,\n  containerStyle: [String, Object]\n});\nexport default defineComponent({\n  name: 'MessageProvider',\n  props: messageProviderProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const messageListRef = ref([]);\n    const messageRefs = ref({});\n    const api = {\n      create(content, options) {\n        return create(content, Object.assign({\n          type: 'default'\n        }, options));\n      },\n      info(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'info'\n        }));\n      },\n      success(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'success'\n        }));\n      },\n      warning(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'warning'\n        }));\n      },\n      error(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'error'\n        }));\n      },\n      loading(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'loading'\n        }));\n      },\n      destroyAll\n    };\n    provide(messageProviderInjectionKey, {\n      props,\n      mergedClsPrefixRef\n    });\n    provide(messageApiInjectionKey, api);\n    function create(content, options) {\n      const key = createId();\n      const messageReactive = reactive(Object.assign(Object.assign({}, options), {\n        content,\n        key,\n        destroy: () => {\n          var _a;\n          (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }));\n      const {\n        max\n      } = props;\n      if (max && messageListRef.value.length >= max) {\n        messageListRef.value.shift();\n      }\n      messageListRef.value.push(messageReactive);\n      return messageReactive;\n    }\n    function handleAfterLeave(key) {\n      messageListRef.value.splice(messageListRef.value.findIndex(message => message.key === key), 1);\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete messageRefs.value[key];\n    }\n    function destroyAll() {\n      Object.values(messageRefs.value).forEach(messageInstRef => {\n        messageInstRef.hide();\n      });\n    }\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      messageRefs,\n      messageList: messageListRef,\n      handleAfterLeave\n    }, api);\n  },\n  render() {\n    var _a, _b, _c;\n    return h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a), this.messageList.length ? h(Teleport, {\n      to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body'\n    }, h(\"div\", {\n      class: [`${this.mergedClsPrefix}-message-container`, `${this.mergedClsPrefix}-message-container--${this.placement}`, this.containerClass],\n      key: \"message-container\",\n      style: this.containerStyle\n    }, this.messageList.map(message => {\n      return h(MessageEnvironment, Object.assign({\n        ref: inst => {\n          if (inst) {\n            this.messageRefs[message.key] = inst;\n          }\n        },\n        internalKey: message.key,\n        onInternalAfterLeave: this.handleAfterLeave\n      }, omit(message, ['destroy'], undefined), {\n        duration: message.duration === undefined ? this.duration : message.duration,\n        keepAliveOnHover: message.keepAliveOnHover === undefined ? this.keepAliveOnHover : message.keepAliveOnHover,\n        closable: message.closable === undefined ? this.closable : message.closable\n      }));\n    }))) : null);\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}