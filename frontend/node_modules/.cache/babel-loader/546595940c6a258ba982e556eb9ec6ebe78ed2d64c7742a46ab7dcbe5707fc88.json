{"ast":null,"code":"import { computed, defineComponent, h, inject, provide, ref } from 'vue';\nimport { renderArrow } from \"../../popover/src/PopoverBody.mjs\";\nimport { NxScrollbar } from \"../../_internal/scrollbar/index.mjs\";\nimport NDropdownDivider from \"./DropdownDivider.mjs\";\n// eslint-disable-next-line import/no-cycle\nimport NDropdownGroup from \"./DropdownGroup.mjs\";\n// eslint-disable-next-line import/no-cycle\nimport NDropdownOption from \"./DropdownOption.mjs\";\nimport NDropdownRenderOption from \"./DropdownRenderOption.mjs\";\nimport { isSubmenuNode, isGroupNode, isDividerNode, isRenderNode } from \"./utils.mjs\";\nimport { dropdownInjectionKey, dropdownMenuInjectionKey } from \"./context.mjs\";\nimport { modalBodyInjectionKey } from \"../../modal/src/interface.mjs\";\nimport { drawerBodyInjectionKey } from \"../../drawer/src/interface.mjs\";\nimport { popoverBodyInjectionKey } from \"../../popover/src/interface.mjs\";\nexport default defineComponent({\n  name: 'DropdownMenu',\n  props: {\n    scrollable: Boolean,\n    showArrow: Boolean,\n    arrowStyle: [String, Object],\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNodes: {\n      type: Array,\n      default: () => []\n    },\n    parentKey: {\n      type: [String, Number],\n      default: null\n    }\n  },\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const {\n      renderIconRef,\n      childrenFieldRef\n    } = inject(dropdownInjectionKey);\n    provide(dropdownMenuInjectionKey, {\n      showIconRef: computed(() => {\n        const renderIcon = renderIconRef.value;\n        return props.tmNodes.some(tmNode => {\n          var _a;\n          if (tmNode.isGroup) {\n            return (_a = tmNode.children) === null || _a === void 0 ? void 0 : _a.some(({\n              rawNode: rawChild\n            }) => renderIcon ? renderIcon(rawChild) : rawChild.icon);\n          }\n          const {\n            rawNode\n          } = tmNode;\n          return renderIcon ? renderIcon(rawNode) : rawNode.icon;\n        });\n      }),\n      hasSubmenuRef: computed(() => {\n        const {\n          value: childrenField\n        } = childrenFieldRef;\n        return props.tmNodes.some(tmNode => {\n          var _a;\n          if (tmNode.isGroup) {\n            return (_a = tmNode.children) === null || _a === void 0 ? void 0 : _a.some(({\n              rawNode: rawChild\n            }) => isSubmenuNode(rawChild, childrenField));\n          }\n          const {\n            rawNode\n          } = tmNode;\n          return isSubmenuNode(rawNode, childrenField);\n        });\n      })\n    });\n    const bodyRef = ref(null);\n    provide(modalBodyInjectionKey, null);\n    provide(drawerBodyInjectionKey, null);\n    provide(popoverBodyInjectionKey, bodyRef);\n    return {\n      bodyRef\n    };\n  },\n  render() {\n    const {\n      parentKey,\n      clsPrefix,\n      scrollable\n    } = this;\n    const menuOptionsNode = this.tmNodes.map(tmNode => {\n      const {\n        rawNode\n      } = tmNode;\n      if (rawNode.show === false) return null;\n      if (isRenderNode(rawNode)) {\n        return h(NDropdownRenderOption, {\n          tmNode: tmNode,\n          key: tmNode.key\n        });\n      }\n      if (isDividerNode(rawNode)) {\n        return h(NDropdownDivider, {\n          clsPrefix: clsPrefix,\n          key: tmNode.key\n        });\n      }\n      if (isGroupNode(rawNode)) {\n        return h(NDropdownGroup, {\n          clsPrefix: clsPrefix,\n          tmNode: tmNode,\n          parentKey: parentKey,\n          key: tmNode.key\n        });\n      }\n      return h(NDropdownOption, {\n        clsPrefix: clsPrefix,\n        tmNode: tmNode,\n        parentKey: parentKey,\n        key: tmNode.key,\n        props: rawNode.props,\n        scrollable: scrollable\n      });\n    });\n    return h(\"div\", {\n      class: [`${clsPrefix}-dropdown-menu`, scrollable && `${clsPrefix}-dropdown-menu--scrollable`],\n      ref: \"bodyRef\"\n    }, scrollable ? h(NxScrollbar, {\n      contentClass: `${clsPrefix}-dropdown-menu__content`\n    }, {\n      default: () => menuOptionsNode\n    }) : menuOptionsNode, this.showArrow ? renderArrow({\n      clsPrefix,\n      arrowStyle: this.arrowStyle,\n      arrowClass: undefined,\n      arrowWrapperClass: undefined,\n      arrowWrapperStyle: undefined\n    }) : null);\n  }\n});","map":{"version":3,"names":["computed","defineComponent","h","inject","provide","ref","renderArrow","NxScrollbar","NDropdownDivider","NDropdownGroup","NDropdownOption","NDropdownRenderOption","isSubmenuNode","isGroupNode","isDividerNode","isRenderNode","dropdownInjectionKey","dropdownMenuInjectionKey","modalBodyInjectionKey","drawerBodyInjectionKey","popoverBodyInjectionKey","name","props","scrollable","Boolean","showArrow","arrowStyle","String","Object","clsPrefix","type","required","tmNodes","Array","default","parentKey","Number","setup","renderIconRef","childrenFieldRef","showIconRef","renderIcon","value","some","tmNode","_a","isGroup","children","rawNode","rawChild","icon","hasSubmenuRef","childrenField","bodyRef","render","menuOptionsNode","map","show","key","class","contentClass","arrowClass","undefined","arrowWrapperClass","arrowWrapperStyle"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/dropdown/src/DropdownMenu.mjs"],"sourcesContent":["import { computed, defineComponent, h, inject, provide, ref } from 'vue';\nimport { renderArrow } from \"../../popover/src/PopoverBody.mjs\";\nimport { NxScrollbar } from \"../../_internal/scrollbar/index.mjs\";\nimport NDropdownDivider from \"./DropdownDivider.mjs\";\n// eslint-disable-next-line import/no-cycle\nimport NDropdownGroup from \"./DropdownGroup.mjs\";\n// eslint-disable-next-line import/no-cycle\nimport NDropdownOption from \"./DropdownOption.mjs\";\nimport NDropdownRenderOption from \"./DropdownRenderOption.mjs\";\nimport { isSubmenuNode, isGroupNode, isDividerNode, isRenderNode } from \"./utils.mjs\";\nimport { dropdownInjectionKey, dropdownMenuInjectionKey } from \"./context.mjs\";\nimport { modalBodyInjectionKey } from \"../../modal/src/interface.mjs\";\nimport { drawerBodyInjectionKey } from \"../../drawer/src/interface.mjs\";\nimport { popoverBodyInjectionKey } from \"../../popover/src/interface.mjs\";\nexport default defineComponent({\n  name: 'DropdownMenu',\n  props: {\n    scrollable: Boolean,\n    showArrow: Boolean,\n    arrowStyle: [String, Object],\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNodes: {\n      type: Array,\n      default: () => []\n    },\n    parentKey: {\n      type: [String, Number],\n      default: null\n    }\n  },\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const {\n      renderIconRef,\n      childrenFieldRef\n    } = inject(dropdownInjectionKey);\n    provide(dropdownMenuInjectionKey, {\n      showIconRef: computed(() => {\n        const renderIcon = renderIconRef.value;\n        return props.tmNodes.some(tmNode => {\n          var _a;\n          if (tmNode.isGroup) {\n            return (_a = tmNode.children) === null || _a === void 0 ? void 0 : _a.some(({\n              rawNode: rawChild\n            }) => renderIcon ? renderIcon(rawChild) : rawChild.icon);\n          }\n          const {\n            rawNode\n          } = tmNode;\n          return renderIcon ? renderIcon(rawNode) : rawNode.icon;\n        });\n      }),\n      hasSubmenuRef: computed(() => {\n        const {\n          value: childrenField\n        } = childrenFieldRef;\n        return props.tmNodes.some(tmNode => {\n          var _a;\n          if (tmNode.isGroup) {\n            return (_a = tmNode.children) === null || _a === void 0 ? void 0 : _a.some(({\n              rawNode: rawChild\n            }) => isSubmenuNode(rawChild, childrenField));\n          }\n          const {\n            rawNode\n          } = tmNode;\n          return isSubmenuNode(rawNode, childrenField);\n        });\n      })\n    });\n    const bodyRef = ref(null);\n    provide(modalBodyInjectionKey, null);\n    provide(drawerBodyInjectionKey, null);\n    provide(popoverBodyInjectionKey, bodyRef);\n    return {\n      bodyRef\n    };\n  },\n  render() {\n    const {\n      parentKey,\n      clsPrefix,\n      scrollable\n    } = this;\n    const menuOptionsNode = this.tmNodes.map(tmNode => {\n      const {\n        rawNode\n      } = tmNode;\n      if (rawNode.show === false) return null;\n      if (isRenderNode(rawNode)) {\n        return h(NDropdownRenderOption, {\n          tmNode: tmNode,\n          key: tmNode.key\n        });\n      }\n      if (isDividerNode(rawNode)) {\n        return h(NDropdownDivider, {\n          clsPrefix: clsPrefix,\n          key: tmNode.key\n        });\n      }\n      if (isGroupNode(rawNode)) {\n        return h(NDropdownGroup, {\n          clsPrefix: clsPrefix,\n          tmNode: tmNode,\n          parentKey: parentKey,\n          key: tmNode.key\n        });\n      }\n      return h(NDropdownOption, {\n        clsPrefix: clsPrefix,\n        tmNode: tmNode,\n        parentKey: parentKey,\n        key: tmNode.key,\n        props: rawNode.props,\n        scrollable: scrollable\n      });\n    });\n    return h(\"div\", {\n      class: [`${clsPrefix}-dropdown-menu`, scrollable && `${clsPrefix}-dropdown-menu--scrollable`],\n      ref: \"bodyRef\"\n    }, scrollable ? h(NxScrollbar, {\n      contentClass: `${clsPrefix}-dropdown-menu__content`\n    }, {\n      default: () => menuOptionsNode\n    }) : menuOptionsNode, this.showArrow ? renderArrow({\n      clsPrefix,\n      arrowStyle: this.arrowStyle,\n      arrowClass: undefined,\n      arrowWrapperClass: undefined,\n      arrowWrapperStyle: undefined\n    }) : null);\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}