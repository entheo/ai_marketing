{"ast":null,"code":"import { computed, onBeforeMount, ref } from 'vue';\nimport { NButton, NForm, NFormItem, NCard, NInput, NSelect, NIcon } from 'naive-ui';\nimport { useStore } from 'vuex';\nimport { BulbOutline } from '@vicons/ionicons5';\nimport MarkdownIt from 'markdown-it';\n//组件挂载前加载数据\n\nconst __default__ = {\n  name: 'CreateCampaignForm'\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  props: {\n    labelWidth: {\n      default: 190\n    }\n  },\n  emits: ['createdCampaignInfo'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    onBeforeMount(() => {\n      const store = useStore();\n      preData.value = store.getters.temp_campaign_data;\n      console.log('预加载数据：', preData.value);\n      handleCampaignInfo();\n    });\n    const preData = ref(null);\n    const campaignInfo = ref({});\n    const handleCampaignInfo = () => {\n      if (preData.value && JSON.stringify(preData.value) !== '{}') {\n        campaignInfo.value.stage = preData.value.campaignData.stage;\n        campaignInfo.value.objectives = preData.value.campaignData.objectives;\n      }\n    };\n    /*\n    const campaignInfo = ref({\n          title:'',\n          objectives:'',\n          dateRange:ref(null),\n          stage:''\n          });*/\n\n    const stageOptions = [{\n      label: \"1.意识阶段\",\n      value: \"意识阶段\"\n      //value:\"stage0\",\n    }, {\n      label: \"2.兴趣阶段\",\n      value: \"兴趣阶段\"\n      //value:\"stage1\",\n    }, {\n      label: \"3.考虑阶段\",\n      value: \"考虑阶段\"\n      //value:\"stage2\",\n    }, {\n      label: \"4.意向阶段\",\n      value: \"意向阶段\"\n      //value:\"stage3\",\n    }, {\n      label: \"5.行动阶段\",\n      value: \"行动阶段\"\n      //value:\"stage4\",\n    }, {\n      label: \"6.忠诚度建立阶段\",\n      value: \"忠诚度建立阶段\"\n      //value:\"stage5\",\n    }, {\n      label: \"7.推荐阶段\",\n      value: \"推荐阶段\"\n      //value:\"stage6\",\n    }];\n    const has_strategy = ref(false);\n    const campaignStrategy = ref('');\n    const handleUpdateValue = (value, option) => {\n      has_strategy.value = true;\n      switch (value) {\n        case '意识阶段':\n          campaignInfo.value.objectives = \"参考建议\";\n          campaignStrategy.value = \"**意识阶段**——客户初识，需要建立初步印象 \\n \" + \"1.利用社群成员分享品牌故事 \\n \" + \"2.强调品牌价值观和创始人IP \\n 3.提供有价值的内容\";\n          break;\n        case '兴趣阶段':\n          campaignInfo.value.objectives = \"建议提升的关键目标：\\n 客户主动问询次数、.客户间交流次数、内容关注度(浏览量)\";\n          campaignStrategy.value = \"**兴趣阶段**——激发客户兴趣，增强了解意愿 \\n \" + \"1.提供深度内容，如使用教程、效果前后对比; \\n 2.社群互动，如问答、讨论; \\n 3.创始人参与讨论\";\n          break;\n        case '考虑阶段':\n          campaignInfo.value.objectives = \"**参考建议**——用户试用率、用户反馈、产品比较次数\";\n          campaignStrategy.value = \"考虑阶段：提供决策思路，提升客户购买或相关行动可能性 \\n \" + \"1.分享用户评价和案例研究; \\n 2.提供产品试用或样品; \\n 3.强调产品的独特卖点（USP）\";\n          break;\n        case '意向阶段':\n          campaignInfo.value.objectives = \"参考建议：意向用户数量、优惠使用率、用户咨询次数\";\n          campaignStrategy.value = \"**意向阶段**——帮助客户下决心，强化购买或相关行动意向 \\n \" + \"1.根据用户反馈设计个性化服务; \\n 2.提供社群专属优惠; \\n 3.强调稀缺性，如限量、限时\";\n          break;\n        case '行动阶段':\n          campaignInfo.value.objectives = \"参考建议：转化率、购买数量、平均订单价值\";\n          campaignStrategy.value = \"**行动阶段**——提出明确行动方式并号召，促使行动落 \\n \" + \"1.设置类似一键购买或快速购买流程; \\n 2.提供清晰的CTA; \\n 3.社群内快速响应\";\n          break;\n        case '忠诚度建立阶段':\n          campaignInfo.value.objectives = \"参考建议：重复购买率、会员活跃度、用户推荐率\";\n          campaignStrategy.value = \"**忠诚度建立阶段**——提供优质差异化服务价值，建立客户忠诚度 \\n \" + \"1.设立会员分层机制; \\n 2.提供定期的用户关怀; \\n 3.收集用户反馈进行产品迭代\";\n          break;\n        case '推荐阶段':\n          campaignInfo.value.objectives = \"参考建议：-新用户增长率、相关推荐数量、社群扩张速度\";\n          campaignStrategy.value = \"**推荐阶段**——借助满意度较高的客户实现口碑推荐 \\n \" + \"1.设计推荐计划和奖励机制; \\n 2.鼓励用户分享使用体验; \\n 3.利用用户生成内容\";\n          break;\n        default:\n          campaignInfo.value.objectives = '';\n      }\n      console.log(\"value: \" + JSON.stringify(value));\n      console.log(\"option: \" + JSON.stringify(option));\n    };\n    const md = MarkdownIt();\n    const markdownStrategy = computed(() => {\n      return md.render(campaignStrategy.value);\n    });\n    const emit = __emit;\n    const createCampaign = () => {\n      console.log('提交营销目标表单信息：', campaignInfo.value);\n      emit('createdCampaignInfo', campaignInfo.value);\n      console.log('createCampaign');\n      console.log(campaignInfo.value);\n      try {\n        /*\n        const resp =  await axios.get('http://localhost:8005/account/auth/',{\n          headers: {\n              'Authorization': `Bearer ${token}` // 设置请求头\n              }});\n        */} catch (error) {\n        console.error('Failed to fetch user info:', error);\n      }\n    };\n    __expose({\n      createCampaign,\n      campaignInfo\n    });\n    const __returned__ = {\n      preData,\n      campaignInfo,\n      handleCampaignInfo,\n      stageOptions,\n      has_strategy,\n      campaignStrategy,\n      handleUpdateValue,\n      md,\n      markdownStrategy,\n      emit,\n      createCampaign,\n      computed,\n      onBeforeMount,\n      ref,\n      get NButton() {\n        return NButton;\n      },\n      get NForm() {\n        return NForm;\n      },\n      get NFormItem() {\n        return NFormItem;\n      },\n      get NCard() {\n        return NCard;\n      },\n      get NInput() {\n        return NInput;\n      },\n      get NSelect() {\n        return NSelect;\n      },\n      get NIcon() {\n        return NIcon;\n      },\n      get useStore() {\n        return useStore;\n      },\n      get BulbOutline() {\n        return BulbOutline;\n      },\n      get MarkdownIt() {\n        return MarkdownIt;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["computed","onBeforeMount","ref","NButton","NForm","NFormItem","NCard","NInput","NSelect","NIcon","useStore","BulbOutline","MarkdownIt","__default__","name","store","preData","value","getters","temp_campaign_data","console","log","handleCampaignInfo","campaignInfo","JSON","stringify","stage","campaignData","objectives","stageOptions","label","has_strategy","campaignStrategy","handleUpdateValue","option","md","markdownStrategy","render","emit","__emit","createCampaign","error","__expose"],"sources":["/Users/wangjohnson/ai_marketing/frontend/src/components/SimpleCampaignForm.vue"],"sourcesContent":["<!--SimpleCampaignForm-->\n<template>\n    <n-form label-placement=\"left\" require-mark-placement=\"right-hanging\" :label-width=\"labelWidth\" size=\"large\">\n     \n        <n-form-item label=\"当前位于哪个营销阶段？\">\n             <n-select v-model:value=\"campaignInfo.stage\" size=\"large\" :options=\"stageOptions\" @update:value=\"handleUpdateValue\" clearable placeholder=\"点击选择↓ （参考营销漏斗的不同阶段）\"/>\n         </n-form-item>\n        \n        <div class=\"trick\" v-show=\"has_strategy\">\n          <n-card  embedded :bordered=\"false\" >\n            <n-icon><bulb-outline/></n-icon><b>阶段特点提示：</b>\n            <div v-html=\"markdownStrategy\"></div>\n         </n-card>\n       </div>\n\n         <n-form-item label=\"期待达到什么效果？\">\n             <n-input v-model:value=\"campaignInfo.objectives\" type=\"textarea\" clearable size=\"large\" placeholder=\"\"/>\n         </n-form-item>\n\n         <n-button v-show=\"false\" @click=\"createCampaign\">确认</n-button>\n</n-form>\n</template>\n<script setup>\n\n\nimport {computed,onBeforeMount,ref,defineEmits,defineProps,defineExpose} from 'vue';\nimport {  NButton, NForm,NFormItem, NCard, NInput, NSelect,NIcon} from 'naive-ui';\nimport {useStore} from 'vuex';\nimport {BulbOutline} from '@vicons/ionicons5';\nimport MarkdownIt from 'markdown-it';    \n//组件挂载前加载数据\nonBeforeMount(()=>{\n    const store = useStore();\n    preData.value = store.getters.temp_campaign_data;\n    console.log('预加载数据：',preData.value);\n    handleCampaignInfo();\n    });\nconst preData = ref(null);\nconst campaignInfo = ref({});\nconst handleCampaignInfo=()=>{\n    if(preData.value && JSON.stringify(preData.value)!=='{}' ){\n       campaignInfo.value.stage = preData.value.campaignData.stage;\n       campaignInfo.value.objectives = preData.value.campaignData.objectives;\n       }   \n    }\n/*\nconst campaignInfo = ref({\n      title:'',\n      objectives:'',\n      dateRange:ref(null),\n      stage:''\n      });*/\n\nconst stageOptions = [\n      {\n          label:\"1.意识阶段\",\n          value:\"意识阶段\",\n          //value:\"stage0\",\n          },\n      {\n          label:\"2.兴趣阶段\",\n          value:\"兴趣阶段\",\n          //value:\"stage1\",\n          },\n      {\n          label:\"3.考虑阶段\",\n          value:\"考虑阶段\",\n          //value:\"stage2\",\n          },\n      {\n          label:\"4.意向阶段\",\n          value:\"意向阶段\",\n          //value:\"stage3\",\n          },\n      {\n          label:\"5.行动阶段\",\n          value:\"行动阶段\",\n          //value:\"stage4\",\n      },\n      {\n          label:\"6.忠诚度建立阶段\",\n          value:\"忠诚度建立阶段\",\n          //value:\"stage5\",\n          },\n      {\n          label:\"7.推荐阶段\",\n          value:\"推荐阶段\",\n          //value:\"stage6\",\n          },\n      ];\nconst has_strategy = ref(false);\nconst campaignStrategy = ref('');\nconst handleUpdateValue = (value, option) => {\n      has_strategy.value = true;\n      switch(value){\n          case '意识阶段':\n              campaignInfo.value.objectives= \n                \"参考建议\";\n              campaignStrategy.value =\n               \"**意识阶段**——客户初识，需要建立初步印象 \\n \"+\n               \"1.利用社群成员分享品牌故事 \\n \"+\n               \"2.强调品牌价值观和创始人IP \\n 3.提供有价值的内容\";\n          break;\n          case '兴趣阶段':\n              campaignInfo.value.objectives= \n              \"建议提升的关键目标：\\n 客户主动问询次数、.客户间交流次数、内容关注度(浏览量)\";\n              campaignStrategy.value =\n              \"**兴趣阶段**——激发客户兴趣，增强了解意愿 \\n \"+\n              \"1.提供深度内容，如使用教程、效果前后对比; \\n 2.社群互动，如问答、讨论; \\n 3.创始人参与讨论\"\n          break;\n          case '考虑阶段':\n              campaignInfo.value.objectives=\n              \"**参考建议**——用户试用率、用户反馈、产品比较次数\";\n              campaignStrategy.value =\n              \"考虑阶段：提供决策思路，提升客户购买或相关行动可能性 \\n \"+\n              \"1.分享用户评价和案例研究; \\n 2.提供产品试用或样品; \\n 3.强调产品的独特卖点（USP）\";\n          break;\n          case '意向阶段':\n              campaignInfo.value.objectives=\n              \"参考建议：意向用户数量、优惠使用率、用户咨询次数\";\n              campaignStrategy.value =\n              \"**意向阶段**——帮助客户下决心，强化购买或相关行动意向 \\n \"+\n              \"1.根据用户反馈设计个性化服务; \\n 2.提供社群专属优惠; \\n 3.强调稀缺性，如限量、限时\";\n          break;\n          case '行动阶段':\n              campaignInfo.value.objectives=\n              \"参考建议：转化率、购买数量、平均订单价值\";\n              campaignStrategy.value =\n              \"**行动阶段**——提出明确行动方式并号召，促使行动落 \\n \"+\n              \"1.设置类似一键购买或快速购买流程; \\n 2.提供清晰的CTA; \\n 3.社群内快速响应\";\n          break;\n          case '忠诚度建立阶段':\n              campaignInfo.value.objectives=\n              \"参考建议：重复购买率、会员活跃度、用户推荐率\";\n              campaignStrategy.value =\n              \"**忠诚度建立阶段**——提供优质差异化服务价值，建立客户忠诚度 \\n \"+\n              \"1.设立会员分层机制; \\n 2.提供定期的用户关怀; \\n 3.收集用户反馈进行产品迭代\";\n          break;\n          case '推荐阶段':\n              campaignInfo.value.objectives=\n              \"参考建议：-新用户增长率、相关推荐数量、社群扩张速度\";\n              campaignStrategy.value =\n              \"**推荐阶段**——借助满意度较高的客户实现口碑推荐 \\n \"+\n              \"1.设计推荐计划和奖励机制; \\n 2.鼓励用户分享使用体验; \\n 3.利用用户生成内容\";\n          break;\n          default:\n              campaignInfo.value.objectives='';\n          }\n      console.log(\"value: \" + JSON.stringify(value));\n      console.log(\"option: \" + JSON.stringify(option));\n      };\nconst md=MarkdownIt()\nconst markdownStrategy=computed(()=>{\n    return md.render(campaignStrategy.value)\n    })\n\nconst emit = defineEmits(['createdCampaignInfo']);\nconst createCampaign = () =>{\n      console.log('提交营销目标表单信息：',campaignInfo.value);\n      emit('createdCampaignInfo',campaignInfo.value);\n      console.log('createCampaign');\n      console.log(campaignInfo.value);\n      try{\n          /*\n          const resp =  await axios.get('http://localhost:8005/account/auth/',{\n            headers: {\n                'Authorization': `Bearer ${token}` // 设置请求头\n                }});\n         */ }catch (error) {\n        console.error('Failed to fetch user info:', error);\n        }\n      }\ndefineExpose({createCampaign,campaignInfo});\ndefineProps({labelWidth:{default:190}});\n</script>\n<script>\n  export default{\n      name:'CreateCampaignForm'\n      };\n</script>\n<style>\n.trick{\n   margin-bottom:2em;\n   text-align:left\n    }\n.trick .n-icon{\n    font-size: 20px;\n    height: auto;\n    margin-right: 5px}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}