{"ast":null,"code":"import { h, ref, computed, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives, Text } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from \"../../_utils/index.mjs\";\nimport { useTheme } from \"../../_mixins/index.mjs\";\nimport NPopoverBody, { popoverBodyProps } from \"./PopoverBody.mjs\";\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n  focus: ['onFocus', 'onBlur'],\n  click: ['onClick'],\n  hover: ['onMouseenter', 'onMouseleave'],\n  manual: [],\n  nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n  triggerEventMap[trigger].forEach(eventName => {\n    if (!vNode.props) vNode.props = {};else {\n      vNode.props = Object.assign({}, vNode.props);\n    }\n    const originalHandler = vNode.props[eventName];\n    const handler = events[eventName];\n    if (!originalHandler) vNode.props[eventName] = handler;else {\n      vNode.props[eventName] = (...args) => {\n        originalHandler(...args);\n        handler(...args);\n      };\n    }\n  });\n}\nexport const popoverBaseProps = {\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  defaultShow: Boolean,\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  trigger: {\n    type: String,\n    default: 'hover'\n  },\n  delay: {\n    type: Number,\n    default: 100\n  },\n  duration: {\n    type: Number,\n    default: 100\n  },\n  raw: Boolean,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  x: Number,\n  y: Number,\n  arrowPointToCenter: Boolean,\n  disabled: Boolean,\n  getDisabled: Function,\n  displayDirective: {\n    type: String,\n    default: 'if'\n  },\n  arrowClass: String,\n  arrowStyle: [String, Object],\n  arrowWrapperClass: String,\n  arrowWrapperStyle: [String, Object],\n  flip: {\n    type: Boolean,\n    default: true\n  },\n  animated: {\n    type: Boolean,\n    default: true\n  },\n  width: {\n    type: [Number, String],\n    default: undefined\n  },\n  overlap: Boolean,\n  keepAliveOnHover: {\n    type: Boolean,\n    default: true\n  },\n  zIndex: Number,\n  to: useAdjustedTo.propTo,\n  scrollable: Boolean,\n  contentClass: String,\n  contentStyle: [Object, String],\n  headerClass: String,\n  headerStyle: [Object, String],\n  footerClass: String,\n  footerStyle: [Object, String],\n  // events\n  onClickoutside: Function,\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  // internal\n  internalDeactivateImmediately: Boolean,\n  internalSyncTargetWithParent: Boolean,\n  internalInheritedEventHandlers: {\n    type: Array,\n    default: () => []\n  },\n  internalTrapFocus: Boolean,\n  internalExtraClass: {\n    type: Array,\n    default: () => []\n  },\n  // deprecated\n  onShow: [Function, Array],\n  onHide: [Function, Array],\n  arrow: {\n    type: Boolean,\n    default: undefined\n  },\n  minWidth: Number,\n  maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), {\n  internalOnAfterLeave: Function,\n  internalRenderBody: Function\n});\nexport default defineComponent({\n  name: 'Popover',\n  inheritAttrs: false,\n  props: popoverProps,\n  __popover__: true,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.maxWidth !== undefined) {\n          warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n        }\n        if (props.minWidth !== undefined) {\n          warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n        }\n        if (props.arrow !== undefined) {\n          warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n        }\n        if (props.onHide !== undefined) {\n          warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n        }\n        if (props.onShow !== undefined) {\n          warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n        }\n      });\n    }\n    const isMountedRef = useIsMounted();\n    const binderInstRef = ref(null);\n    // setup show\n    const controlledShowRef = computed(() => props.show);\n    const uncontrolledShowRef = ref(props.defaultShow);\n    const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n    const mergedShowConsideringDisabledPropRef = useMemo(() => {\n      if (props.disabled) return false;\n      return mergedShowWithoutDisabledRef.value;\n    });\n    const getMergedDisabled = () => {\n      if (props.disabled) return true;\n      const {\n        getDisabled\n      } = props;\n      if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled()) return true;\n      return false;\n    };\n    const getMergedShow = () => {\n      if (getMergedDisabled()) return false;\n      return mergedShowWithoutDisabledRef.value;\n    };\n    // setup show-arrow\n    const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n    const mergedShowArrowRef = computed(() => {\n      if (props.overlap) return false;\n      return compatibleShowArrowRef.value;\n    });\n    // bodyInstance\n    let bodyInstance = null;\n    const showTimerIdRef = ref(null);\n    const hideTimerIdRef = ref(null);\n    const positionManuallyRef = useMemo(() => {\n      return props.x !== undefined && props.y !== undefined;\n    });\n    // methods\n    function doUpdateShow(value) {\n      const {\n        'onUpdate:show': _onUpdateShow,\n        onUpdateShow,\n        onShow,\n        onHide\n      } = props;\n      uncontrolledShowRef.value = value;\n      if (_onUpdateShow) {\n        call(_onUpdateShow, value);\n      }\n      if (onUpdateShow) {\n        call(onUpdateShow, value);\n      }\n      if (value && onShow) {\n        call(onShow, true);\n      }\n      if (value && onHide) {\n        call(onHide, false);\n      }\n    }\n    function syncPosition() {\n      if (bodyInstance) {\n        bodyInstance.syncPosition();\n      }\n    }\n    function clearShowTimer() {\n      const {\n        value: showTimerId\n      } = showTimerIdRef;\n      if (showTimerId) {\n        window.clearTimeout(showTimerId);\n        showTimerIdRef.value = null;\n      }\n    }\n    function clearHideTimer() {\n      const {\n        value: hideTimerId\n      } = hideTimerIdRef;\n      if (hideTimerId) {\n        window.clearTimeout(hideTimerId);\n        hideTimerIdRef.value = null;\n      }\n    }\n    function handleFocus() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (getMergedShow()) return;\n        doUpdateShow(true);\n      }\n    }\n    function handleBlur() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (!getMergedShow()) return;\n        doUpdateShow(false);\n      }\n    }\n    function handleMouseEnter() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearHideTimer();\n        if (showTimerIdRef.value !== null) return;\n        if (getMergedShow()) return;\n        const delayCallback = () => {\n          doUpdateShow(true);\n          showTimerIdRef.value = null;\n        };\n        const {\n          delay\n        } = props;\n        if (delay === 0) {\n          delayCallback();\n        } else {\n          showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n        }\n      }\n    }\n    function handleMouseLeave() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearShowTimer();\n        if (hideTimerIdRef.value !== null) return;\n        if (!getMergedShow()) return;\n        const delayedCallback = () => {\n          doUpdateShow(false);\n          hideTimerIdRef.value = null;\n        };\n        const {\n          duration\n        } = props;\n        if (duration === 0) {\n          delayedCallback();\n        } else {\n          hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n        }\n      }\n    }\n    // will be called in popover-content\n    function handleMouseMoveOutside() {\n      handleMouseLeave();\n    }\n    // will be called in popover-content\n    function handleClickOutside(e) {\n      var _a;\n      if (!getMergedShow()) return;\n      if (props.trigger === 'click') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n      (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleClick() {\n      if (props.trigger === 'click' && !getMergedDisabled()) {\n        clearShowTimer();\n        clearHideTimer();\n        const nextShow = !getMergedShow();\n        doUpdateShow(nextShow);\n      }\n    }\n    function handleKeydown(e) {\n      if (!props.internalTrapFocus) return;\n      if (e.key === 'Escape') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n    }\n    function setShow(value) {\n      uncontrolledShowRef.value = value;\n    }\n    function getTriggerElement() {\n      var _a;\n      // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n      return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n    }\n    function setBodyInstance(value) {\n      bodyInstance = value;\n    }\n    provide('NPopover', {\n      getTriggerElement,\n      handleKeydown,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleClickOutside,\n      handleMouseMoveOutside,\n      setBodyInstance,\n      positionManuallyRef,\n      isMountedRef,\n      zIndexRef: toRef(props, 'zIndex'),\n      extraClassRef: toRef(props, 'internalExtraClass'),\n      internalRenderBodyRef: toRef(props, 'internalRenderBody')\n    });\n    watchEffect(() => {\n      if (mergedShowWithoutDisabledRef.value && getMergedDisabled()) {\n        doUpdateShow(false);\n      }\n    });\n    const returned = {\n      binderInstRef,\n      positionManually: positionManuallyRef,\n      mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n      // if to show popover body\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShowArrow: mergedShowArrowRef,\n      getMergedShow,\n      setShow,\n      handleClick,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleFocus,\n      handleBlur,\n      syncPosition\n    };\n    return returned;\n  },\n  render() {\n    var _a;\n    const {\n      positionManually,\n      $slots: slots\n    } = this;\n    let triggerVNode;\n    let popoverInside = false;\n    if (!positionManually) {\n      if (slots.activator) {\n        triggerVNode = getFirstSlotVNode(slots, 'activator');\n      } else {\n        triggerVNode = getFirstSlotVNode(slots, 'trigger');\n      }\n      if (triggerVNode) {\n        triggerVNode = cloneVNode(triggerVNode);\n        triggerVNode = triggerVNode.type === Text ? h('span', [triggerVNode]) : triggerVNode;\n        const handlers = {\n          onClick: this.handleClick,\n          onMouseenter: this.handleMouseEnter,\n          onMouseleave: this.handleMouseLeave,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur\n        };\n        if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n          popoverInside = true;\n          // We assume that there's no DOM event handlers on popover element\n          if (!triggerVNode.props) {\n            triggerVNode.props = {\n              internalSyncTargetWithParent: true,\n              internalInheritedEventHandlers: []\n            };\n          }\n          triggerVNode.props.internalSyncTargetWithParent = true;\n          if (!triggerVNode.props.internalInheritedEventHandlers) {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers];\n          } else {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers, ...triggerVNode.props.internalInheritedEventHandlers];\n          }\n        } else {\n          const {\n            internalInheritedEventHandlers\n          } = this;\n          const ascendantAndCurrentHandlers = [handlers, ...internalInheritedEventHandlers];\n          const mergedHandlers = {\n            onBlur: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onBlur(e);\n              });\n            },\n            onFocus: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onFocus(e);\n              });\n            },\n            onClick: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onClick(e);\n              });\n            },\n            onMouseenter: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseenter(e);\n              });\n            },\n            onMouseleave: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseleave(e);\n              });\n            }\n          };\n          appendEvents(triggerVNode, internalInheritedEventHandlers ? 'nested' : positionManually ? 'manual' : this.trigger, mergedHandlers);\n        }\n      }\n    }\n    return h(VBinder, {\n      ref: \"binderInstRef\",\n      syncTarget: !popoverInside,\n      syncTargetWithParent: this.internalSyncTargetWithParent\n    }, {\n      default: () => {\n        // We need to subscribe it. Sometimes rerender won't ge triggered.\n        // `mergedShowConsideringDisabledProp` is not the final disabled status.\n        // In ellpisis it's dynamic.\n        void this.mergedShowConsideringDisabledProp;\n        const mergedShow = this.getMergedShow();\n        return [this.internalTrapFocus && mergedShow ? withDirectives(h(\"div\", {\n          style: {\n            position: 'fixed',\n            inset: 0\n          }\n        }), [[zindexable, {\n          enabled: mergedShow,\n          zIndex: this.zIndex\n        }]]) : null, positionManually ? null : h(VTarget, null, {\n          default: () => triggerVNode\n        }), h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), {\n          showArrow: this.mergedShowArrow,\n          show: mergedShow\n        })), {\n          default: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          header: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          footer: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a);\n          }\n        })];\n      }\n    });\n  }\n});","map":{"version":3,"names":["h","ref","computed","defineComponent","provide","toRef","cloneVNode","watchEffect","withDirectives","Text","VBinder","VTarget","useMergedState","useCompitable","useIsMounted","useMemo","zindexable","call","keep","getFirstSlotVNode","warnOnce","useAdjustedTo","useTheme","NPopoverBody","popoverBodyProps","bodyPropKeys","Object","keys","triggerEventMap","focus","click","hover","manual","nested","appendEvents","vNode","trigger","events","forEach","eventName","props","assign","originalHandler","handler","args","popoverBaseProps","show","type","Boolean","default","undefined","defaultShow","showArrow","String","delay","Number","duration","raw","placement","x","y","arrowPointToCenter","disabled","getDisabled","Function","displayDirective","arrowClass","arrowStyle","arrowWrapperClass","arrowWrapperStyle","flip","animated","width","overlap","keepAliveOnHover","zIndex","to","propTo","scrollable","contentClass","contentStyle","headerClass","headerStyle","footerClass","footerStyle","onClickoutside","Array","onUpdateShow","internalDeactivateImmediately","internalSyncTargetWithParent","internalInheritedEventHandlers","internalTrapFocus","internalExtraClass","onShow","onHide","arrow","minWidth","maxWidth","popoverProps","internalOnAfterLeave","internalRenderBody","name","inheritAttrs","__popover__","setup","process","env","NODE_ENV","isMountedRef","binderInstRef","controlledShowRef","uncontrolledShowRef","mergedShowWithoutDisabledRef","mergedShowConsideringDisabledPropRef","value","getMergedDisabled","getMergedShow","compatibleShowArrowRef","mergedShowArrowRef","bodyInstance","showTimerIdRef","hideTimerIdRef","positionManuallyRef","doUpdateShow","_onUpdateShow","syncPosition","clearShowTimer","showTimerId","window","clearTimeout","clearHideTimer","hideTimerId","handleFocus","mergedDisabled","handleBlur","handleMouseEnter","delayCallback","setTimeout","handleMouseLeave","delayedCallback","handleMouseMoveOutside","handleClickOutside","e","_a","handleClick","nextShow","handleKeydown","key","setShow","getTriggerElement","targetRef","setBodyInstance","zIndexRef","extraClassRef","internalRenderBodyRef","returned","positionManually","mergedShowConsideringDisabledProp","uncontrolledShow","mergedShowArrow","render","$slots","slots","triggerVNode","popoverInside","activator","handlers","onClick","onMouseenter","onMouseleave","onFocus","onBlur","ascendantAndCurrentHandlers","mergedHandlers","_handlers","syncTarget","syncTargetWithParent","mergedShow","style","position","inset","enabled","$props","$attrs","_b","header","footer"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/popover/src/Popover.mjs"],"sourcesContent":["import { h, ref, computed, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives, Text } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from \"../../_utils/index.mjs\";\nimport { useTheme } from \"../../_mixins/index.mjs\";\nimport NPopoverBody, { popoverBodyProps } from \"./PopoverBody.mjs\";\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n  focus: ['onFocus', 'onBlur'],\n  click: ['onClick'],\n  hover: ['onMouseenter', 'onMouseleave'],\n  manual: [],\n  nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n  triggerEventMap[trigger].forEach(eventName => {\n    if (!vNode.props) vNode.props = {};else {\n      vNode.props = Object.assign({}, vNode.props);\n    }\n    const originalHandler = vNode.props[eventName];\n    const handler = events[eventName];\n    if (!originalHandler) vNode.props[eventName] = handler;else {\n      vNode.props[eventName] = (...args) => {\n        originalHandler(...args);\n        handler(...args);\n      };\n    }\n  });\n}\nexport const popoverBaseProps = {\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  defaultShow: Boolean,\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  trigger: {\n    type: String,\n    default: 'hover'\n  },\n  delay: {\n    type: Number,\n    default: 100\n  },\n  duration: {\n    type: Number,\n    default: 100\n  },\n  raw: Boolean,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  x: Number,\n  y: Number,\n  arrowPointToCenter: Boolean,\n  disabled: Boolean,\n  getDisabled: Function,\n  displayDirective: {\n    type: String,\n    default: 'if'\n  },\n  arrowClass: String,\n  arrowStyle: [String, Object],\n  arrowWrapperClass: String,\n  arrowWrapperStyle: [String, Object],\n  flip: {\n    type: Boolean,\n    default: true\n  },\n  animated: {\n    type: Boolean,\n    default: true\n  },\n  width: {\n    type: [Number, String],\n    default: undefined\n  },\n  overlap: Boolean,\n  keepAliveOnHover: {\n    type: Boolean,\n    default: true\n  },\n  zIndex: Number,\n  to: useAdjustedTo.propTo,\n  scrollable: Boolean,\n  contentClass: String,\n  contentStyle: [Object, String],\n  headerClass: String,\n  headerStyle: [Object, String],\n  footerClass: String,\n  footerStyle: [Object, String],\n  // events\n  onClickoutside: Function,\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  // internal\n  internalDeactivateImmediately: Boolean,\n  internalSyncTargetWithParent: Boolean,\n  internalInheritedEventHandlers: {\n    type: Array,\n    default: () => []\n  },\n  internalTrapFocus: Boolean,\n  internalExtraClass: {\n    type: Array,\n    default: () => []\n  },\n  // deprecated\n  onShow: [Function, Array],\n  onHide: [Function, Array],\n  arrow: {\n    type: Boolean,\n    default: undefined\n  },\n  minWidth: Number,\n  maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), {\n  internalOnAfterLeave: Function,\n  internalRenderBody: Function\n});\nexport default defineComponent({\n  name: 'Popover',\n  inheritAttrs: false,\n  props: popoverProps,\n  __popover__: true,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.maxWidth !== undefined) {\n          warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n        }\n        if (props.minWidth !== undefined) {\n          warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n        }\n        if (props.arrow !== undefined) {\n          warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n        }\n        if (props.onHide !== undefined) {\n          warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n        }\n        if (props.onShow !== undefined) {\n          warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n        }\n      });\n    }\n    const isMountedRef = useIsMounted();\n    const binderInstRef = ref(null);\n    // setup show\n    const controlledShowRef = computed(() => props.show);\n    const uncontrolledShowRef = ref(props.defaultShow);\n    const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n    const mergedShowConsideringDisabledPropRef = useMemo(() => {\n      if (props.disabled) return false;\n      return mergedShowWithoutDisabledRef.value;\n    });\n    const getMergedDisabled = () => {\n      if (props.disabled) return true;\n      const {\n        getDisabled\n      } = props;\n      if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled()) return true;\n      return false;\n    };\n    const getMergedShow = () => {\n      if (getMergedDisabled()) return false;\n      return mergedShowWithoutDisabledRef.value;\n    };\n    // setup show-arrow\n    const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n    const mergedShowArrowRef = computed(() => {\n      if (props.overlap) return false;\n      return compatibleShowArrowRef.value;\n    });\n    // bodyInstance\n    let bodyInstance = null;\n    const showTimerIdRef = ref(null);\n    const hideTimerIdRef = ref(null);\n    const positionManuallyRef = useMemo(() => {\n      return props.x !== undefined && props.y !== undefined;\n    });\n    // methods\n    function doUpdateShow(value) {\n      const {\n        'onUpdate:show': _onUpdateShow,\n        onUpdateShow,\n        onShow,\n        onHide\n      } = props;\n      uncontrolledShowRef.value = value;\n      if (_onUpdateShow) {\n        call(_onUpdateShow, value);\n      }\n      if (onUpdateShow) {\n        call(onUpdateShow, value);\n      }\n      if (value && onShow) {\n        call(onShow, true);\n      }\n      if (value && onHide) {\n        call(onHide, false);\n      }\n    }\n    function syncPosition() {\n      if (bodyInstance) {\n        bodyInstance.syncPosition();\n      }\n    }\n    function clearShowTimer() {\n      const {\n        value: showTimerId\n      } = showTimerIdRef;\n      if (showTimerId) {\n        window.clearTimeout(showTimerId);\n        showTimerIdRef.value = null;\n      }\n    }\n    function clearHideTimer() {\n      const {\n        value: hideTimerId\n      } = hideTimerIdRef;\n      if (hideTimerId) {\n        window.clearTimeout(hideTimerId);\n        hideTimerIdRef.value = null;\n      }\n    }\n    function handleFocus() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (getMergedShow()) return;\n        doUpdateShow(true);\n      }\n    }\n    function handleBlur() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (!getMergedShow()) return;\n        doUpdateShow(false);\n      }\n    }\n    function handleMouseEnter() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearHideTimer();\n        if (showTimerIdRef.value !== null) return;\n        if (getMergedShow()) return;\n        const delayCallback = () => {\n          doUpdateShow(true);\n          showTimerIdRef.value = null;\n        };\n        const {\n          delay\n        } = props;\n        if (delay === 0) {\n          delayCallback();\n        } else {\n          showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n        }\n      }\n    }\n    function handleMouseLeave() {\n      const mergedDisabled = getMergedDisabled();\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearShowTimer();\n        if (hideTimerIdRef.value !== null) return;\n        if (!getMergedShow()) return;\n        const delayedCallback = () => {\n          doUpdateShow(false);\n          hideTimerIdRef.value = null;\n        };\n        const {\n          duration\n        } = props;\n        if (duration === 0) {\n          delayedCallback();\n        } else {\n          hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n        }\n      }\n    }\n    // will be called in popover-content\n    function handleMouseMoveOutside() {\n      handleMouseLeave();\n    }\n    // will be called in popover-content\n    function handleClickOutside(e) {\n      var _a;\n      if (!getMergedShow()) return;\n      if (props.trigger === 'click') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n      (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleClick() {\n      if (props.trigger === 'click' && !getMergedDisabled()) {\n        clearShowTimer();\n        clearHideTimer();\n        const nextShow = !getMergedShow();\n        doUpdateShow(nextShow);\n      }\n    }\n    function handleKeydown(e) {\n      if (!props.internalTrapFocus) return;\n      if (e.key === 'Escape') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n    }\n    function setShow(value) {\n      uncontrolledShowRef.value = value;\n    }\n    function getTriggerElement() {\n      var _a;\n      // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n      return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n    }\n    function setBodyInstance(value) {\n      bodyInstance = value;\n    }\n    provide('NPopover', {\n      getTriggerElement,\n      handleKeydown,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleClickOutside,\n      handleMouseMoveOutside,\n      setBodyInstance,\n      positionManuallyRef,\n      isMountedRef,\n      zIndexRef: toRef(props, 'zIndex'),\n      extraClassRef: toRef(props, 'internalExtraClass'),\n      internalRenderBodyRef: toRef(props, 'internalRenderBody')\n    });\n    watchEffect(() => {\n      if (mergedShowWithoutDisabledRef.value && getMergedDisabled()) {\n        doUpdateShow(false);\n      }\n    });\n    const returned = {\n      binderInstRef,\n      positionManually: positionManuallyRef,\n      mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n      // if to show popover body\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShowArrow: mergedShowArrowRef,\n      getMergedShow,\n      setShow,\n      handleClick,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleFocus,\n      handleBlur,\n      syncPosition\n    };\n    return returned;\n  },\n  render() {\n    var _a;\n    const {\n      positionManually,\n      $slots: slots\n    } = this;\n    let triggerVNode;\n    let popoverInside = false;\n    if (!positionManually) {\n      if (slots.activator) {\n        triggerVNode = getFirstSlotVNode(slots, 'activator');\n      } else {\n        triggerVNode = getFirstSlotVNode(slots, 'trigger');\n      }\n      if (triggerVNode) {\n        triggerVNode = cloneVNode(triggerVNode);\n        triggerVNode = triggerVNode.type === Text ? h('span', [triggerVNode]) : triggerVNode;\n        const handlers = {\n          onClick: this.handleClick,\n          onMouseenter: this.handleMouseEnter,\n          onMouseleave: this.handleMouseLeave,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur\n        };\n        if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n          popoverInside = true;\n          // We assume that there's no DOM event handlers on popover element\n          if (!triggerVNode.props) {\n            triggerVNode.props = {\n              internalSyncTargetWithParent: true,\n              internalInheritedEventHandlers: []\n            };\n          }\n          triggerVNode.props.internalSyncTargetWithParent = true;\n          if (!triggerVNode.props.internalInheritedEventHandlers) {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers];\n          } else {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers, ...triggerVNode.props.internalInheritedEventHandlers];\n          }\n        } else {\n          const {\n            internalInheritedEventHandlers\n          } = this;\n          const ascendantAndCurrentHandlers = [handlers, ...internalInheritedEventHandlers];\n          const mergedHandlers = {\n            onBlur: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onBlur(e);\n              });\n            },\n            onFocus: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onFocus(e);\n              });\n            },\n            onClick: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onClick(e);\n              });\n            },\n            onMouseenter: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseenter(e);\n              });\n            },\n            onMouseleave: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseleave(e);\n              });\n            }\n          };\n          appendEvents(triggerVNode, internalInheritedEventHandlers ? 'nested' : positionManually ? 'manual' : this.trigger, mergedHandlers);\n        }\n      }\n    }\n    return h(VBinder, {\n      ref: \"binderInstRef\",\n      syncTarget: !popoverInside,\n      syncTargetWithParent: this.internalSyncTargetWithParent\n    }, {\n      default: () => {\n        // We need to subscribe it. Sometimes rerender won't ge triggered.\n        // `mergedShowConsideringDisabledProp` is not the final disabled status.\n        // In ellpisis it's dynamic.\n        void this.mergedShowConsideringDisabledProp;\n        const mergedShow = this.getMergedShow();\n        return [this.internalTrapFocus && mergedShow ? withDirectives(h(\"div\", {\n          style: {\n            position: 'fixed',\n            inset: 0\n          }\n        }), [[zindexable, {\n          enabled: mergedShow,\n          zIndex: this.zIndex\n        }]]) : null, positionManually ? null : h(VTarget, null, {\n          default: () => triggerVNode\n        }), h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), {\n          showArrow: this.mergedShowArrow,\n          show: mergedShow\n        })), {\n          default: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          header: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          footer: () => {\n            var _a, _b;\n            return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a);\n          }\n        })];\n      }\n    });\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}