{"ast":null,"code":"import \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport { ref, computed, toRef } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useTransferData(props, mergedDisabledRef) {\n  const uncontrolledValueRef = ref(props.defaultValue);\n  const controlledValueRef = toRef(props, 'value');\n  const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n  const optMapRef = computed(() => {\n    const map = new Map();\n    (props.options || []).forEach(opt => map.set(opt.value, opt));\n    return map;\n  });\n  const tgtValueSetRef = computed(() => new Set(mergedValueRef.value || []));\n  const srcOptsRef = computed(() => props.options.filter(option => !tgtValueSetRef.value.has(option.value)));\n  const tgtOptsRef = computed(() => {\n    const optMap = optMapRef.value;\n    return (mergedValueRef.value || []).map(v => optMap.get(v));\n  });\n  const srcPatternRef = ref('');\n  const tgtPatternRef = ref('');\n  const filteredSrcOptsRef = computed(() => {\n    if (!props.filterable) return srcOptsRef.value;\n    const {\n      filter\n    } = props;\n    return srcOptsRef.value.filter(opt => filter(srcPatternRef.value, opt, 'source'));\n  });\n  const filteredTgtOptsRef = computed(() => {\n    if (!props.filterable) return tgtOptsRef.value;\n    const {\n      filter\n    } = props;\n    return tgtOptsRef.value.filter(opt => filter(tgtPatternRef.value, opt, 'target'));\n  });\n  const avlSrcValueSetRef = computed(() => new Set(filteredSrcOptsRef.value.filter(opt => !opt.disabled).map(opt => opt.value)));\n  const avlTgtValueSetRef = computed(() => new Set(filteredTgtOptsRef.value.filter(opt => !opt.disabled).map(opt => opt.value)));\n  const srcCheckedValuesRef = ref([]);\n  const tgtCheckedValuesRef = ref([]);\n  const srcCheckedStatusRef = computed(() => {\n    const srcCheckedLength = srcCheckedValuesRef.value.filter(v => avlSrcValueSetRef.value.has(v)).length;\n    const avlValueCount = avlSrcValueSetRef.value.size;\n    if (avlValueCount === 0) {\n      return {\n        checked: false,\n        indeterminate: false,\n        disabled: true\n      };\n    } else if (srcCheckedLength === 0) {\n      return {\n        checked: false,\n        indeterminate: false\n      };\n    } else if (srcCheckedLength === avlValueCount) {\n      return {\n        checked: true,\n        indeterminate: false\n      };\n    } else {\n      return {\n        checked: false,\n        indeterminate: true\n      };\n    }\n  });\n  const tgtCheckedStatusRef = computed(() => {\n    const tgtCheckedLength = tgtCheckedValuesRef.value.filter(v => avlTgtValueSetRef.value.has(v)).length;\n    const avlValueCount = avlTgtValueSetRef.value.size;\n    if (avlValueCount === 0) {\n      return {\n        checked: false,\n        indeterminate: false,\n        disabled: true\n      };\n    } else if (tgtCheckedLength === 0) {\n      return {\n        checked: false,\n        indeterminate: false\n      };\n    } else if (tgtCheckedLength === avlValueCount) {\n      return {\n        checked: true,\n        indeterminate: false\n      };\n    } else {\n      return {\n        checked: false,\n        indeterminate: true\n      };\n    }\n  });\n  const fromButtonDisabledRef = useMemo(() => {\n    if (mergedDisabledRef.value) return true;\n    return tgtCheckedValuesRef.value.length === 0;\n  });\n  const toButtonDisabledRef = useMemo(() => {\n    if (mergedDisabledRef.value) return true;\n    return srcCheckedValuesRef.value.length === 0;\n  });\n  const isInputingRef = ref(false);\n  function handleInputFocus() {\n    isInputingRef.value = true;\n  }\n  function handleInputBlur() {\n    isInputingRef.value = false;\n  }\n  function handleSrcFilterUpdateValue(value) {\n    srcPatternRef.value = value !== null && value !== void 0 ? value : '';\n  }\n  function handleTgtFilterUpdateValue(value) {\n    tgtPatternRef.value = value !== null && value !== void 0 ? value : '';\n  }\n  return {\n    uncontrolledValue: uncontrolledValueRef,\n    mergedValue: mergedValueRef,\n    avlSrcValueSet: avlSrcValueSetRef,\n    avlTgtValueSet: avlTgtValueSetRef,\n    tgtOpts: tgtOptsRef,\n    srcOpts: srcOptsRef,\n    filteredSrcOpts: filteredSrcOptsRef,\n    filteredTgtOpts: filteredTgtOptsRef,\n    srcCheckedValues: srcCheckedValuesRef,\n    tgtCheckedValues: tgtCheckedValuesRef,\n    srcCheckedStatus: srcCheckedStatusRef,\n    tgtCheckedStatus: tgtCheckedStatusRef,\n    srcPattern: srcPatternRef,\n    tgtPattern: tgtPatternRef,\n    isInputing: isInputingRef,\n    fromButtonDisabled: fromButtonDisabledRef,\n    toButtonDisabled: toButtonDisabledRef,\n    handleInputFocus,\n    handleInputBlur,\n    handleTgtFilterUpdateValue,\n    handleSrcFilterUpdateValue\n  };\n}","map":{"version":3,"names":["ref","computed","toRef","useMemo","useMergedState","useTransferData","props","mergedDisabledRef","uncontrolledValueRef","defaultValue","controlledValueRef","mergedValueRef","optMapRef","map","Map","options","forEach","opt","set","value","tgtValueSetRef","Set","srcOptsRef","filter","option","has","tgtOptsRef","optMap","v","get","srcPatternRef","tgtPatternRef","filteredSrcOptsRef","filterable","filteredTgtOptsRef","avlSrcValueSetRef","disabled","avlTgtValueSetRef","srcCheckedValuesRef","tgtCheckedValuesRef","srcCheckedStatusRef","srcCheckedLength","length","avlValueCount","size","checked","indeterminate","tgtCheckedStatusRef","tgtCheckedLength","fromButtonDisabledRef","toButtonDisabledRef","isInputingRef","handleInputFocus","handleInputBlur","handleSrcFilterUpdateValue","handleTgtFilterUpdateValue","uncontrolledValue","mergedValue","avlSrcValueSet","avlTgtValueSet","tgtOpts","srcOpts","filteredSrcOpts","filteredTgtOpts","srcCheckedValues","tgtCheckedValues","srcCheckedStatus","tgtCheckedStatus","srcPattern","tgtPattern","isInputing","fromButtonDisabled","toButtonDisabled"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/legacy-transfer/src/use-transfer-data.mjs"],"sourcesContent":["import { ref, computed, toRef } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useTransferData(props, mergedDisabledRef) {\n  const uncontrolledValueRef = ref(props.defaultValue);\n  const controlledValueRef = toRef(props, 'value');\n  const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n  const optMapRef = computed(() => {\n    const map = new Map();\n    (props.options || []).forEach(opt => map.set(opt.value, opt));\n    return map;\n  });\n  const tgtValueSetRef = computed(() => new Set(mergedValueRef.value || []));\n  const srcOptsRef = computed(() => props.options.filter(option => !tgtValueSetRef.value.has(option.value)));\n  const tgtOptsRef = computed(() => {\n    const optMap = optMapRef.value;\n    return (mergedValueRef.value || []).map(v => optMap.get(v));\n  });\n  const srcPatternRef = ref('');\n  const tgtPatternRef = ref('');\n  const filteredSrcOptsRef = computed(() => {\n    if (!props.filterable) return srcOptsRef.value;\n    const {\n      filter\n    } = props;\n    return srcOptsRef.value.filter(opt => filter(srcPatternRef.value, opt, 'source'));\n  });\n  const filteredTgtOptsRef = computed(() => {\n    if (!props.filterable) return tgtOptsRef.value;\n    const {\n      filter\n    } = props;\n    return tgtOptsRef.value.filter(opt => filter(tgtPatternRef.value, opt, 'target'));\n  });\n  const avlSrcValueSetRef = computed(() => new Set(filteredSrcOptsRef.value.filter(opt => !opt.disabled).map(opt => opt.value)));\n  const avlTgtValueSetRef = computed(() => new Set(filteredTgtOptsRef.value.filter(opt => !opt.disabled).map(opt => opt.value)));\n  const srcCheckedValuesRef = ref([]);\n  const tgtCheckedValuesRef = ref([]);\n  const srcCheckedStatusRef = computed(() => {\n    const srcCheckedLength = srcCheckedValuesRef.value.filter(v => avlSrcValueSetRef.value.has(v)).length;\n    const avlValueCount = avlSrcValueSetRef.value.size;\n    if (avlValueCount === 0) {\n      return {\n        checked: false,\n        indeterminate: false,\n        disabled: true\n      };\n    } else if (srcCheckedLength === 0) {\n      return {\n        checked: false,\n        indeterminate: false\n      };\n    } else if (srcCheckedLength === avlValueCount) {\n      return {\n        checked: true,\n        indeterminate: false\n      };\n    } else {\n      return {\n        checked: false,\n        indeterminate: true\n      };\n    }\n  });\n  const tgtCheckedStatusRef = computed(() => {\n    const tgtCheckedLength = tgtCheckedValuesRef.value.filter(v => avlTgtValueSetRef.value.has(v)).length;\n    const avlValueCount = avlTgtValueSetRef.value.size;\n    if (avlValueCount === 0) {\n      return {\n        checked: false,\n        indeterminate: false,\n        disabled: true\n      };\n    } else if (tgtCheckedLength === 0) {\n      return {\n        checked: false,\n        indeterminate: false\n      };\n    } else if (tgtCheckedLength === avlValueCount) {\n      return {\n        checked: true,\n        indeterminate: false\n      };\n    } else {\n      return {\n        checked: false,\n        indeterminate: true\n      };\n    }\n  });\n  const fromButtonDisabledRef = useMemo(() => {\n    if (mergedDisabledRef.value) return true;\n    return tgtCheckedValuesRef.value.length === 0;\n  });\n  const toButtonDisabledRef = useMemo(() => {\n    if (mergedDisabledRef.value) return true;\n    return srcCheckedValuesRef.value.length === 0;\n  });\n  const isInputingRef = ref(false);\n  function handleInputFocus() {\n    isInputingRef.value = true;\n  }\n  function handleInputBlur() {\n    isInputingRef.value = false;\n  }\n  function handleSrcFilterUpdateValue(value) {\n    srcPatternRef.value = value !== null && value !== void 0 ? value : '';\n  }\n  function handleTgtFilterUpdateValue(value) {\n    tgtPatternRef.value = value !== null && value !== void 0 ? value : '';\n  }\n  return {\n    uncontrolledValue: uncontrolledValueRef,\n    mergedValue: mergedValueRef,\n    avlSrcValueSet: avlSrcValueSetRef,\n    avlTgtValueSet: avlTgtValueSetRef,\n    tgtOpts: tgtOptsRef,\n    srcOpts: srcOptsRef,\n    filteredSrcOpts: filteredSrcOptsRef,\n    filteredTgtOpts: filteredTgtOptsRef,\n    srcCheckedValues: srcCheckedValuesRef,\n    tgtCheckedValues: tgtCheckedValuesRef,\n    srcCheckedStatus: srcCheckedStatusRef,\n    tgtCheckedStatus: tgtCheckedStatusRef,\n    srcPattern: srcPatternRef,\n    tgtPattern: tgtPatternRef,\n    isInputing: isInputingRef,\n    fromButtonDisabled: fromButtonDisabledRef,\n    toButtonDisabled: toButtonDisabledRef,\n    handleInputFocus,\n    handleInputBlur,\n    handleTgtFilterUpdateValue,\n    handleSrcFilterUpdateValue\n  };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}