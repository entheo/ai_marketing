{"ast":null,"code":"import { ref, h } from 'vue';\nimport { NRadioGroup, NRadioButton, NButton, NForm, NInput, NFormItem, NTag, NDynamicTags } from 'naive-ui';\nconst __default__ = {\n  name: 'CreateSenarioForm'\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  emits: ['senarioInfoCreated'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const inputInstRef = ref(null);\n    const otherPlace = ref(false);\n    const places = [{\n      value: \"微信朋友圈\",\n      label: \"微信朋友圈\"\n    }, {\n      value: \"微信群\",\n      label: \"微信群\"\n    }, {\n      value: \"小红书\",\n      label: \"小红书\"\n    }, {\n      value: \"电商/商品详情页\",\n      label: \"电商/商品详情页\"\n    }, {\n      value: \"其它...\",\n      label: \"其它\"\n    }];\n    const getPlace = message => {\n      switch (message) {\n        case '微信朋友圈':\n          senarioInfo.value.emotionTags = ['亲密感', '真诚', '轻松'];\n          break;\n        case '微信群':\n          senarioInfo.value.emotionTags = ['归属感', '参与感', '价值感'];\n          break;\n        case '小红书':\n          senarioInfo.value.emotionTags = ['探索欲', '真实感', '认同感'];\n          break;\n        case '电商/商品详情页':\n          senarioInfo.value.emotionTags = ['信任', '诱惑', '紧迫感'];\n          break;\n        case '其它...':\n          senarioInfo.value.places = '';\n          senarioInfo.value.emotionTags = ['惊喜'];\n          otherPlace.value = true;\n          inputInstRef.value?.focus();\n      }\n      /*\n      if(message===\"其它...\"){\n          otherPlace.value=true;\n          console.log(inputInstRef.value?.focus());\n          inputInstRef.value?.focus();\n          }\n      else{\n          otherPlace.value=false;\n          }\n      console.log(message)\n      */\n    };\n    const emotionTagsRef = ref([\"喜悦\", \"真诚\"]);\n    const senarioInfo = ref({\n      places: '',\n      emotionTags: emotionTagsRef\n    });\n    const renderEmotionTags = (tag, index) => {\n      return h(NTag, {\n        type: index < 3 ? \"success\" : \"error\",\n        disabled: index > 3,\n        closable: true,\n        onClose: () => {\n          emotionTagsRef.value.splice(index, 1);\n        }\n      }, () => tag);\n    };\n    const emit = __emit;\n    const createSenario = () => {\n      console.log('to create senario');\n      console.log(senarioInfo.value);\n      emit('senarioInfoCreated', senarioInfo.value);\n      try {\n        /*\n        const resp =  await axios.get('http://localhost:8005/account/auth/',{\n          headers: {\n              'Authorization': `Bearer ${token}` // 设置请求头\n              }});\n        */} catch (error) {\n        console.error('Failed to fetch user info:', error);\n      }\n    };\n    __expose({\n      createSenario\n    });\n    const __returned__ = {\n      inputInstRef,\n      otherPlace,\n      places,\n      getPlace,\n      emotionTagsRef,\n      senarioInfo,\n      renderEmotionTags,\n      emit,\n      createSenario,\n      ref,\n      h,\n      get NRadioGroup() {\n        return NRadioGroup;\n      },\n      get NRadioButton() {\n        return NRadioButton;\n      },\n      get NButton() {\n        return NButton;\n      },\n      get NForm() {\n        return NForm;\n      },\n      get NInput() {\n        return NInput;\n      },\n      get NFormItem() {\n        return NFormItem;\n      },\n      get NTag() {\n        return NTag;\n      },\n      get NDynamicTags() {\n        return NDynamicTags;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["ref","h","NRadioGroup","NRadioButton","NButton","NForm","NInput","NFormItem","NTag","NDynamicTags","__default__","name","inputInstRef","otherPlace","places","value","label","getPlace","message","senarioInfo","emotionTags","focus","emotionTagsRef","renderEmotionTags","tag","index","type","disabled","closable","onClose","splice","emit","__emit","createSenario","console","log","error","__expose"],"sources":["/Users/wangjohnson/ai_marketing/frontend/src/components/CreateSenarioForm.vue"],"sourcesContent":["<template>\n    <n-form label-placement=\"left\" require-mark-placement=\"right-hanging\" label-width=\"190\" size=\"large\">\n\n        <n-form-item label=\"计划将文案用在哪里？\" size=\"large\">\n            <n-radio-group \n                v-model:value=\"senarioInfo.places\" \n                size=\"large\"\n                name=\"radiobuttongroup1\"\n                @update:value=\"getPlace\">\n        \n                <n-radio-button\n                    v-for=\"place in places\"\n                    :key=\"place.value\"\n                    :value=\"place.value\"\n                    :label=\"place.label\"/> \n            </n-radio-group>\n        </n-form-item>\n\n        <n-form-item label=\"补充描述使用场景:\" v-show=\"otherPlace\">        \n                <n-input \n                v-show=\"otherPlace\" \n                v-model:value='senarioInfo.places' placeholder=\"\"\n                ref=\"inputInstRef\"/>\n            \n        </n-form-item>\n         \n         <n-form-item class=\"tags\" label=\"传递情绪与感受是？\">\n         <n-dynamic-tags v-model:value=\"senarioInfo.emotionTags\" :render-tag=\"renderEmotionTags\" />\n         </n-form-item>\n         \n        <n-button v-show=\"false\" type=\"primary\" @click=\"createSenario\">保存</n-button>\n    </n-form>\n</template>\n\n<script setup>\nimport {ref,h, defineEmits,defineExpose} from 'vue';\nimport {NRadioGroup,NRadioButton,NButton, NForm, NInput, NFormItem,  NTag,NDynamicTags} from 'naive-ui';\n\nconst inputInstRef=ref(null);\nconst otherPlace=ref(false);\nconst places = [\n    {\n        value:\"微信朋友圈\",\n        label:\"微信朋友圈\",\n        },\n    {\n        value:\"微信群\",\n        label:\"微信群\",\n        },\n    {\n        value:\"小红书\",\n        label:\"小红书\",\n        },\n    {\n        value:\"电商/商品详情页\",\n        label:\"电商/商品详情页\",\n        },\n\n    {\n        value:\"其它...\",\n        label:\"其它\",\n        },\n];\nconst getPlace = (message)=>{\n    switch(message){\n        case '微信朋友圈':\n        senarioInfo.value.emotionTags=['亲密感','真诚','轻松'];\n        break;\n\n        case '微信群':\n        senarioInfo.value.emotionTags=['归属感','参与感','价值感'];\n        break;\n\n        case '小红书':\n        senarioInfo.value.emotionTags=['探索欲','真实感','认同感'];\n        break;\n\n        case '电商/商品详情页':\n        senarioInfo.value.emotionTags=['信任','诱惑','紧迫感']\n        \n        break;\n        \n        case '其它...':\n        senarioInfo.value.places='';\n        senarioInfo.value.emotionTags=['惊喜'];\n        otherPlace.value=true;\n        inputInstRef.value?.focus();\n        }\n    /*\n    if(message===\"其它...\"){\n        otherPlace.value=true;\n        console.log(inputInstRef.value?.focus());\n        inputInstRef.value?.focus();\n        }\n    else{\n        otherPlace.value=false;\n        }\n    console.log(message)\n    */\n    };\n\nconst emotionTagsRef = ref([\"喜悦\", \"真诚\"]);\nconst senarioInfo = ref({\n    places:'',\n    emotionTags: emotionTagsRef,\n\n    })\nconst renderEmotionTags = (tag, index) => {\n      return h(\n          NTag,\n          {\n            type: index < 3 ? \"success\" : \"error\",\n            disabled: index > 3,\n            closable: true,\n            onClose: () => {\n              emotionTagsRef.value.splice(index, 1);\n            }\n          },\n           ()=> tag\n        )\n}\nconst emit = defineEmits(['senarioInfoCreated']);\nconst createSenario = () =>{\n      console.log('to create senario');\n      console.log(senarioInfo.value);\n      emit('senarioInfoCreated',senarioInfo.value);\n      try{\n          /*\n          const resp =  await axios.get('http://localhost:8005/account/auth/',{\n            headers: {\n                'Authorization': `Bearer ${token}` // 设置请求头\n                }});\n         */ }catch (error) {\n        console.error('Failed to fetch user info:', error);\n        }\n      }\ndefineExpose({createSenario});\n</script>\n<script>\n  export default{\n      name:'CreateSenarioForm'\n      };\n</script>\n\n<style>\n.n-space{\n    margin:0}\n.tags .n-form-item-blank .n-space{\n    margin:0;\n    }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}