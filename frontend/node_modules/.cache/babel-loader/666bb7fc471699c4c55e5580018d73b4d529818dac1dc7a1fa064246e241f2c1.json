{"ast":null,"code":"import { ref, inject, watchEffect } from 'vue';\nimport { hash } from 'css-render';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { configProviderInjectionKey } from \"../config-provider/src/context.mjs\";\nimport { throwError } from \"../_utils/index.mjs\";\nimport { c } from \"../_utils/cssr/index.mjs\";\nexport function useThemeClass(componentName, hashRef, cssVarsRef, props) {\n  var _a;\n  if (!cssVarsRef) throwError('useThemeClass', 'cssVarsRef is not passed');\n  const mergedThemeHashRef = (_a = inject(configProviderInjectionKey, null)) === null || _a === void 0 ? void 0 : _a.mergedThemeHashRef;\n  const themeClassRef = ref('');\n  const ssrAdapter = useSsrAdapter();\n  let renderCallback;\n  const hashClassPrefix = `__${componentName}`;\n  const mountStyle = () => {\n    let finalThemeHash = hashClassPrefix;\n    const hashValue = hashRef ? hashRef.value : undefined;\n    const themeHash = mergedThemeHashRef === null || mergedThemeHashRef === void 0 ? void 0 : mergedThemeHashRef.value;\n    if (themeHash) finalThemeHash += '-' + themeHash;\n    if (hashValue) finalThemeHash += '-' + hashValue;\n    const {\n      themeOverrides,\n      builtinThemeOverrides\n    } = props;\n    if (themeOverrides) {\n      finalThemeHash += '-' + hash(JSON.stringify(themeOverrides));\n    }\n    if (builtinThemeOverrides) {\n      finalThemeHash += '-' + hash(JSON.stringify(builtinThemeOverrides));\n    }\n    themeClassRef.value = finalThemeHash;\n    renderCallback = () => {\n      const cssVars = cssVarsRef.value;\n      let style = '';\n      for (const key in cssVars) {\n        style += `${key}: ${cssVars[key]};`;\n      }\n      c(`.${finalThemeHash}`, style).mount({\n        id: finalThemeHash,\n        ssr: ssrAdapter\n      });\n      renderCallback = undefined;\n    };\n  };\n  watchEffect(() => {\n    mountStyle();\n  });\n  return {\n    themeClass: themeClassRef,\n    onRender: () => {\n      renderCallback === null || renderCallback === void 0 ? void 0 : renderCallback();\n    }\n  };\n}","map":{"version":3,"names":["ref","inject","watchEffect","hash","useSsrAdapter","configProviderInjectionKey","throwError","c","useThemeClass","componentName","hashRef","cssVarsRef","props","_a","mergedThemeHashRef","themeClassRef","ssrAdapter","renderCallback","hashClassPrefix","mountStyle","finalThemeHash","hashValue","value","undefined","themeHash","themeOverrides","builtinThemeOverrides","JSON","stringify","cssVars","style","key","mount","id","ssr","themeClass","onRender"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/_mixins/use-css-vars-class.mjs"],"sourcesContent":["import { ref, inject, watchEffect } from 'vue';\nimport { hash } from 'css-render';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { configProviderInjectionKey } from \"../config-provider/src/context.mjs\";\nimport { throwError } from \"../_utils/index.mjs\";\nimport { c } from \"../_utils/cssr/index.mjs\";\nexport function useThemeClass(componentName, hashRef, cssVarsRef, props) {\n  var _a;\n  if (!cssVarsRef) throwError('useThemeClass', 'cssVarsRef is not passed');\n  const mergedThemeHashRef = (_a = inject(configProviderInjectionKey, null)) === null || _a === void 0 ? void 0 : _a.mergedThemeHashRef;\n  const themeClassRef = ref('');\n  const ssrAdapter = useSsrAdapter();\n  let renderCallback;\n  const hashClassPrefix = `__${componentName}`;\n  const mountStyle = () => {\n    let finalThemeHash = hashClassPrefix;\n    const hashValue = hashRef ? hashRef.value : undefined;\n    const themeHash = mergedThemeHashRef === null || mergedThemeHashRef === void 0 ? void 0 : mergedThemeHashRef.value;\n    if (themeHash) finalThemeHash += '-' + themeHash;\n    if (hashValue) finalThemeHash += '-' + hashValue;\n    const {\n      themeOverrides,\n      builtinThemeOverrides\n    } = props;\n    if (themeOverrides) {\n      finalThemeHash += '-' + hash(JSON.stringify(themeOverrides));\n    }\n    if (builtinThemeOverrides) {\n      finalThemeHash += '-' + hash(JSON.stringify(builtinThemeOverrides));\n    }\n    themeClassRef.value = finalThemeHash;\n    renderCallback = () => {\n      const cssVars = cssVarsRef.value;\n      let style = '';\n      for (const key in cssVars) {\n        style += `${key}: ${cssVars[key]};`;\n      }\n      c(`.${finalThemeHash}`, style).mount({\n        id: finalThemeHash,\n        ssr: ssrAdapter\n      });\n      renderCallback = undefined;\n    };\n  };\n  watchEffect(() => {\n    mountStyle();\n  });\n  return {\n    themeClass: themeClassRef,\n    onRender: () => {\n      renderCallback === null || renderCallback === void 0 ? void 0 : renderCallback();\n    }\n  };\n}"],"mappings":"AAAA,SAASA,GAAG,EAAEC,MAAM,EAAEC,WAAW,QAAQ,KAAK;AAC9C,SAASC,IAAI,QAAQ,YAAY;AACjC,SAASC,aAAa,QAAQ,sBAAsB;AACpD,SAASC,0BAA0B,QAAQ,oCAAoC;AAC/E,SAASC,UAAU,QAAQ,qBAAqB;AAChD,SAASC,CAAC,QAAQ,0BAA0B;AAC5C,OAAO,SAASC,aAAaA,CAACC,aAAa,EAAEC,OAAO,EAAEC,UAAU,EAAEC,KAAK,EAAE;EACvE,IAAIC,EAAE;EACN,IAAI,CAACF,UAAU,EAAEL,UAAU,CAAC,eAAe,EAAE,0BAA0B,CAAC;EACxE,MAAMQ,kBAAkB,GAAG,CAACD,EAAE,GAAGZ,MAAM,CAACI,0BAA0B,EAAE,IAAI,CAAC,MAAM,IAAI,IAAIQ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,kBAAkB;EACrI,MAAMC,aAAa,GAAGf,GAAG,CAAC,EAAE,CAAC;EAC7B,MAAMgB,UAAU,GAAGZ,aAAa,CAAC,CAAC;EAClC,IAAIa,cAAc;EAClB,MAAMC,eAAe,GAAI,KAAIT,aAAc,EAAC;EAC5C,MAAMU,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIC,cAAc,GAAGF,eAAe;IACpC,MAAMG,SAAS,GAAGX,OAAO,GAAGA,OAAO,CAACY,KAAK,GAAGC,SAAS;IACrD,MAAMC,SAAS,GAAGV,kBAAkB,KAAK,IAAI,IAAIA,kBAAkB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,kBAAkB,CAACQ,KAAK;IAClH,IAAIE,SAAS,EAAEJ,cAAc,IAAI,GAAG,GAAGI,SAAS;IAChD,IAAIH,SAAS,EAAED,cAAc,IAAI,GAAG,GAAGC,SAAS;IAChD,MAAM;MACJI,cAAc;MACdC;IACF,CAAC,GAAGd,KAAK;IACT,IAAIa,cAAc,EAAE;MAClBL,cAAc,IAAI,GAAG,GAAGjB,IAAI,CAACwB,IAAI,CAACC,SAAS,CAACH,cAAc,CAAC,CAAC;IAC9D;IACA,IAAIC,qBAAqB,EAAE;MACzBN,cAAc,IAAI,GAAG,GAAGjB,IAAI,CAACwB,IAAI,CAACC,SAAS,CAACF,qBAAqB,CAAC,CAAC;IACrE;IACAX,aAAa,CAACO,KAAK,GAAGF,cAAc;IACpCH,cAAc,GAAGA,CAAA,KAAM;MACrB,MAAMY,OAAO,GAAGlB,UAAU,CAACW,KAAK;MAChC,IAAIQ,KAAK,GAAG,EAAE;MACd,KAAK,MAAMC,GAAG,IAAIF,OAAO,EAAE;QACzBC,KAAK,IAAK,GAAEC,GAAI,KAAIF,OAAO,CAACE,GAAG,CAAE,GAAE;MACrC;MACAxB,CAAC,CAAE,IAAGa,cAAe,EAAC,EAAEU,KAAK,CAAC,CAACE,KAAK,CAAC;QACnCC,EAAE,EAAEb,cAAc;QAClBc,GAAG,EAAElB;MACP,CAAC,CAAC;MACFC,cAAc,GAAGM,SAAS;IAC5B,CAAC;EACH,CAAC;EACDrB,WAAW,CAAC,MAAM;IAChBiB,UAAU,CAAC,CAAC;EACd,CAAC,CAAC;EACF,OAAO;IACLgB,UAAU,EAAEpB,aAAa;IACzBqB,QAAQ,EAAEA,CAAA,KAAM;MACdnB,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAAC,CAAC;IAClF;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}