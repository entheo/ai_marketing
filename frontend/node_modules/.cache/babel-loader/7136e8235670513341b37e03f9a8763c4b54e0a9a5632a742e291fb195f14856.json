{"ast":null,"code":"import { h, ref, defineComponent, inject, Transition, withDirectives } from 'vue';\nimport { clickoutside } from 'vdirs';\nimport FocusDetector from \"../../_internal/focus-detector/index.mjs\";\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from \"../../_utils/index.mjs\";\nimport { NEmpty } from \"../../empty/index.mjs\";\nimport { NBaseMenuMask } from \"../../_internal/index.mjs\";\nimport NCascaderSubmenu from \"./CascaderSubmenu.mjs\";\nimport { cascaderInjectionKey } from \"./interface.mjs\";\nexport default defineComponent({\n  name: 'NCascaderMenu',\n  props: {\n    value: [String, Number, Array],\n    placement: {\n      type: String,\n      default: 'bottom-start'\n    },\n    show: Boolean,\n    menuModel: {\n      type: Array,\n      required: true\n    },\n    loading: Boolean,\n    onFocus: {\n      type: Function,\n      required: true\n    },\n    onBlur: {\n      type: Function,\n      required: true\n    },\n    onKeydown: {\n      type: Function,\n      required: true\n    },\n    onMousedown: {\n      type: Function,\n      required: true\n    },\n    onTabout: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      localeRef,\n      isMountedRef,\n      mergedClsPrefixRef,\n      syncCascaderMenuPosition,\n      handleCascaderMenuClickOutside,\n      mergedThemeRef,\n      getColumnStyleRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(cascaderInjectionKey);\n    const submenuInstRefs = [];\n    const maskInstRef = ref(null);\n    const selfElRef = ref(null);\n    function handleResize() {\n      syncCascaderMenuPosition();\n    }\n    useOnResize(selfElRef, handleResize);\n    function showErrorMessage(label) {\n      var _a;\n      const {\n        value: {\n          loadingRequiredMessage\n        }\n      } = localeRef;\n      (_a = maskInstRef.value) === null || _a === void 0 ? void 0 : _a.showOnce(loadingRequiredMessage(label));\n    }\n    function handleClickOutside(e) {\n      handleCascaderMenuClickOutside(e);\n    }\n    function handleFocusin(e) {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      if (!selfEl.contains(e.relatedTarget)) {\n        props.onFocus(e);\n      }\n    }\n    function handleFocusout(e) {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      if (!selfEl.contains(e.relatedTarget)) {\n        props.onBlur(e);\n      }\n    }\n    const exposedRef = {\n      scroll(depth, index, elSize) {\n        const submenuInst = submenuInstRefs[depth];\n        if (submenuInst) {\n          submenuInst.scroll(index, elSize);\n        }\n      },\n      showErrorMessage\n    };\n    return Object.assign({\n      isMounted: isMountedRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      selfElRef,\n      submenuInstRefs,\n      maskInstRef,\n      mergedTheme: mergedThemeRef,\n      getColumnStyle: getColumnStyleRef,\n      handleFocusin,\n      handleFocusout,\n      handleClickOutside\n    }, exposedRef);\n  },\n  render() {\n    const {\n      submenuInstRefs,\n      mergedClsPrefix,\n      mergedTheme\n    } = this;\n    return h(Transition, {\n      name: \"fade-in-scale-up-transition\",\n      appear: this.isMounted\n    }, {\n      default: () => {\n        if (!this.show) return null;\n        return withDirectives(h(\"div\", {\n          tabindex: \"0\",\n          ref: \"selfElRef\",\n          class: `${mergedClsPrefix}-cascader-menu`,\n          onMousedown: this.onMousedown,\n          onFocusin: this.handleFocusin,\n          onFocusout: this.handleFocusout,\n          onKeydown: this.onKeydown\n        }, this.menuModel[0].length ? h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-submenu-wrapper`\n        }, this.menuModel.map((submenuOptions, index) => {\n          var _a;\n          return h(NCascaderSubmenu, {\n            style: (_a = this.getColumnStyle) === null || _a === void 0 ? void 0 : _a.call(this, {\n              level: index\n            }),\n            ref: instance => {\n              if (instance) {\n                submenuInstRefs[index] = instance;\n              }\n            },\n            key: index,\n            tmNodes: submenuOptions,\n            depth: index + 1\n          });\n        }), h(NBaseMenuMask, {\n          clsPrefix: mergedClsPrefix,\n          ref: \"maskInstRef\"\n        })) : h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-menu__empty`\n        }, resolveSlot(this.$slots.empty, () => [h(NEmpty, {\n          theme: mergedTheme.peers.Empty,\n          themeOverrides: mergedTheme.peerOverrides.Empty\n        })])), resolveWrappedSlot(this.$slots.action, children => children && h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-menu-action`,\n          \"data-action\": true\n        }, children)), h(FocusDetector, {\n          onFocus: this.onTabout\n        })), [[clickoutside, this.handleClickOutside, undefined, {\n          capture: true\n        }]]);\n      }\n    });\n  }\n});","map":{"version":3,"names":["h","ref","defineComponent","inject","Transition","withDirectives","clickoutside","FocusDetector","resolveSlot","resolveWrappedSlot","useOnResize","NEmpty","NBaseMenuMask","NCascaderSubmenu","cascaderInjectionKey","name","props","value","String","Number","Array","placement","type","default","show","Boolean","menuModel","required","loading","onFocus","Function","onBlur","onKeydown","onMousedown","onTabout","setup","localeRef","isMountedRef","mergedClsPrefixRef","syncCascaderMenuPosition","handleCascaderMenuClickOutside","mergedThemeRef","getColumnStyleRef","submenuInstRefs","maskInstRef","selfElRef","handleResize","showErrorMessage","label","_a","loadingRequiredMessage","showOnce","handleClickOutside","e","handleFocusin","selfEl","contains","relatedTarget","handleFocusout","exposedRef","scroll","depth","index","elSize","submenuInst","Object","assign","isMounted","mergedClsPrefix","mergedTheme","getColumnStyle","render","appear","tabindex","class","onFocusin","onFocusout","length","map","submenuOptions","style","call","level","instance","key","tmNodes","clsPrefix","$slots","empty","theme","peers","Empty","themeOverrides","peerOverrides","action","children","undefined","capture"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/cascader/src/CascaderMenu.mjs"],"sourcesContent":["import { h, ref, defineComponent, inject, Transition, withDirectives } from 'vue';\nimport { clickoutside } from 'vdirs';\nimport FocusDetector from \"../../_internal/focus-detector/index.mjs\";\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from \"../../_utils/index.mjs\";\nimport { NEmpty } from \"../../empty/index.mjs\";\nimport { NBaseMenuMask } from \"../../_internal/index.mjs\";\nimport NCascaderSubmenu from \"./CascaderSubmenu.mjs\";\nimport { cascaderInjectionKey } from \"./interface.mjs\";\nexport default defineComponent({\n  name: 'NCascaderMenu',\n  props: {\n    value: [String, Number, Array],\n    placement: {\n      type: String,\n      default: 'bottom-start'\n    },\n    show: Boolean,\n    menuModel: {\n      type: Array,\n      required: true\n    },\n    loading: Boolean,\n    onFocus: {\n      type: Function,\n      required: true\n    },\n    onBlur: {\n      type: Function,\n      required: true\n    },\n    onKeydown: {\n      type: Function,\n      required: true\n    },\n    onMousedown: {\n      type: Function,\n      required: true\n    },\n    onTabout: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      localeRef,\n      isMountedRef,\n      mergedClsPrefixRef,\n      syncCascaderMenuPosition,\n      handleCascaderMenuClickOutside,\n      mergedThemeRef,\n      getColumnStyleRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(cascaderInjectionKey);\n    const submenuInstRefs = [];\n    const maskInstRef = ref(null);\n    const selfElRef = ref(null);\n    function handleResize() {\n      syncCascaderMenuPosition();\n    }\n    useOnResize(selfElRef, handleResize);\n    function showErrorMessage(label) {\n      var _a;\n      const {\n        value: {\n          loadingRequiredMessage\n        }\n      } = localeRef;\n      (_a = maskInstRef.value) === null || _a === void 0 ? void 0 : _a.showOnce(loadingRequiredMessage(label));\n    }\n    function handleClickOutside(e) {\n      handleCascaderMenuClickOutside(e);\n    }\n    function handleFocusin(e) {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      if (!selfEl.contains(e.relatedTarget)) {\n        props.onFocus(e);\n      }\n    }\n    function handleFocusout(e) {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      if (!selfEl.contains(e.relatedTarget)) {\n        props.onBlur(e);\n      }\n    }\n    const exposedRef = {\n      scroll(depth, index, elSize) {\n        const submenuInst = submenuInstRefs[depth];\n        if (submenuInst) {\n          submenuInst.scroll(index, elSize);\n        }\n      },\n      showErrorMessage\n    };\n    return Object.assign({\n      isMounted: isMountedRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      selfElRef,\n      submenuInstRefs,\n      maskInstRef,\n      mergedTheme: mergedThemeRef,\n      getColumnStyle: getColumnStyleRef,\n      handleFocusin,\n      handleFocusout,\n      handleClickOutside\n    }, exposedRef);\n  },\n  render() {\n    const {\n      submenuInstRefs,\n      mergedClsPrefix,\n      mergedTheme\n    } = this;\n    return h(Transition, {\n      name: \"fade-in-scale-up-transition\",\n      appear: this.isMounted\n    }, {\n      default: () => {\n        if (!this.show) return null;\n        return withDirectives(h(\"div\", {\n          tabindex: \"0\",\n          ref: \"selfElRef\",\n          class: `${mergedClsPrefix}-cascader-menu`,\n          onMousedown: this.onMousedown,\n          onFocusin: this.handleFocusin,\n          onFocusout: this.handleFocusout,\n          onKeydown: this.onKeydown\n        }, this.menuModel[0].length ? h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-submenu-wrapper`\n        }, this.menuModel.map((submenuOptions, index) => {\n          var _a;\n          return h(NCascaderSubmenu, {\n            style: (_a = this.getColumnStyle) === null || _a === void 0 ? void 0 : _a.call(this, {\n              level: index\n            }),\n            ref: instance => {\n              if (instance) {\n                submenuInstRefs[index] = instance;\n              }\n            },\n            key: index,\n            tmNodes: submenuOptions,\n            depth: index + 1\n          });\n        }), h(NBaseMenuMask, {\n          clsPrefix: mergedClsPrefix,\n          ref: \"maskInstRef\"\n        })) : h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-menu__empty`\n        }, resolveSlot(this.$slots.empty, () => [h(NEmpty, {\n          theme: mergedTheme.peers.Empty,\n          themeOverrides: mergedTheme.peerOverrides.Empty\n        })])), resolveWrappedSlot(this.$slots.action, children => children && h(\"div\", {\n          class: `${mergedClsPrefix}-cascader-menu-action`,\n          \"data-action\": true\n        }, children)), h(FocusDetector, {\n          onFocus: this.onTabout\n        })), [[clickoutside, this.handleClickOutside, undefined, {\n          capture: true\n        }]]);\n      }\n    });\n  }\n});"],"mappings":"AAAA,SAASA,CAAC,EAAEC,GAAG,EAAEC,eAAe,EAAEC,MAAM,EAAEC,UAAU,EAAEC,cAAc,QAAQ,KAAK;AACjF,SAASC,YAAY,QAAQ,OAAO;AACpC,OAAOC,aAAa,MAAM,0CAA0C;AACpE,SAASC,WAAW,EAAEC,kBAAkB,EAAEC,WAAW,QAAQ,wBAAwB;AACrF,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,aAAa,QAAQ,2BAA2B;AACzD,OAAOC,gBAAgB,MAAM,uBAAuB;AACpD,SAASC,oBAAoB,QAAQ,iBAAiB;AACtD,eAAeZ,eAAe,CAAC;EAC7Ba,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE;IACLC,KAAK,EAAE,CAACC,MAAM,EAAEC,MAAM,EAAEC,KAAK,CAAC;IAC9BC,SAAS,EAAE;MACTC,IAAI,EAAEJ,MAAM;MACZK,OAAO,EAAE;IACX,CAAC;IACDC,IAAI,EAAEC,OAAO;IACbC,SAAS,EAAE;MACTJ,IAAI,EAAEF,KAAK;MACXO,QAAQ,EAAE;IACZ,CAAC;IACDC,OAAO,EAAEH,OAAO;IAChBI,OAAO,EAAE;MACPP,IAAI,EAAEQ,QAAQ;MACdH,QAAQ,EAAE;IACZ,CAAC;IACDI,MAAM,EAAE;MACNT,IAAI,EAAEQ,QAAQ;MACdH,QAAQ,EAAE;IACZ,CAAC;IACDK,SAAS,EAAE;MACTV,IAAI,EAAEQ,QAAQ;MACdH,QAAQ,EAAE;IACZ,CAAC;IACDM,WAAW,EAAE;MACXX,IAAI,EAAEQ,QAAQ;MACdH,QAAQ,EAAE;IACZ,CAAC;IACDO,QAAQ,EAAE;MACRZ,IAAI,EAAEQ,QAAQ;MACdH,QAAQ,EAAE;IACZ;EACF,CAAC;EACDQ,KAAKA,CAACnB,KAAK,EAAE;IACX,MAAM;MACJoB,SAAS;MACTC,YAAY;MACZC,kBAAkB;MAClBC,wBAAwB;MACxBC,8BAA8B;MAC9BC,cAAc;MACdC;MACA;IACF,CAAC,GAAGvC,MAAM,CAACW,oBAAoB,CAAC;IAChC,MAAM6B,eAAe,GAAG,EAAE;IAC1B,MAAMC,WAAW,GAAG3C,GAAG,CAAC,IAAI,CAAC;IAC7B,MAAM4C,SAAS,GAAG5C,GAAG,CAAC,IAAI,CAAC;IAC3B,SAAS6C,YAAYA,CAAA,EAAG;MACtBP,wBAAwB,CAAC,CAAC;IAC5B;IACA7B,WAAW,CAACmC,SAAS,EAAEC,YAAY,CAAC;IACpC,SAASC,gBAAgBA,CAACC,KAAK,EAAE;MAC/B,IAAIC,EAAE;MACN,MAAM;QACJhC,KAAK,EAAE;UACLiC;QACF;MACF,CAAC,GAAGd,SAAS;MACb,CAACa,EAAE,GAAGL,WAAW,CAAC3B,KAAK,MAAM,IAAI,IAAIgC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,QAAQ,CAACD,sBAAsB,CAACF,KAAK,CAAC,CAAC;IAC1G;IACA,SAASI,kBAAkBA,CAACC,CAAC,EAAE;MAC7Bb,8BAA8B,CAACa,CAAC,CAAC;IACnC;IACA,SAASC,aAAaA,CAACD,CAAC,EAAE;MACxB,MAAM;QACJpC,KAAK,EAAEsC;MACT,CAAC,GAAGV,SAAS;MACb,IAAI,CAACU,MAAM,EAAE;MACb,IAAI,CAACA,MAAM,CAACC,QAAQ,CAACH,CAAC,CAACI,aAAa,CAAC,EAAE;QACrCzC,KAAK,CAACa,OAAO,CAACwB,CAAC,CAAC;MAClB;IACF;IACA,SAASK,cAAcA,CAACL,CAAC,EAAE;MACzB,MAAM;QACJpC,KAAK,EAAEsC;MACT,CAAC,GAAGV,SAAS;MACb,IAAI,CAACU,MAAM,EAAE;MACb,IAAI,CAACA,MAAM,CAACC,QAAQ,CAACH,CAAC,CAACI,aAAa,CAAC,EAAE;QACrCzC,KAAK,CAACe,MAAM,CAACsB,CAAC,CAAC;MACjB;IACF;IACA,MAAMM,UAAU,GAAG;MACjBC,MAAMA,CAACC,KAAK,EAAEC,KAAK,EAAEC,MAAM,EAAE;QAC3B,MAAMC,WAAW,GAAGrB,eAAe,CAACkB,KAAK,CAAC;QAC1C,IAAIG,WAAW,EAAE;UACfA,WAAW,CAACJ,MAAM,CAACE,KAAK,EAAEC,MAAM,CAAC;QACnC;MACF,CAAC;MACDhB;IACF,CAAC;IACD,OAAOkB,MAAM,CAACC,MAAM,CAAC;MACnBC,SAAS,EAAE9B,YAAY;MACvB+B,eAAe,EAAE9B,kBAAkB;MACnCO,SAAS;MACTF,eAAe;MACfC,WAAW;MACXyB,WAAW,EAAE5B,cAAc;MAC3B6B,cAAc,EAAE5B,iBAAiB;MACjCY,aAAa;MACbI,cAAc;MACdN;IACF,CAAC,EAAEO,UAAU,CAAC;EAChB,CAAC;EACDY,MAAMA,CAAA,EAAG;IACP,MAAM;MACJ5B,eAAe;MACfyB,eAAe;MACfC;IACF,CAAC,GAAG,IAAI;IACR,OAAOrE,CAAC,CAACI,UAAU,EAAE;MACnBW,IAAI,EAAE,6BAA6B;MACnCyD,MAAM,EAAE,IAAI,CAACL;IACf,CAAC,EAAE;MACD5C,OAAO,EAAEA,CAAA,KAAM;QACb,IAAI,CAAC,IAAI,CAACC,IAAI,EAAE,OAAO,IAAI;QAC3B,OAAOnB,cAAc,CAACL,CAAC,CAAC,KAAK,EAAE;UAC7ByE,QAAQ,EAAE,GAAG;UACbxE,GAAG,EAAE,WAAW;UAChByE,KAAK,EAAG,GAAEN,eAAgB,gBAAe;UACzCnC,WAAW,EAAE,IAAI,CAACA,WAAW;UAC7B0C,SAAS,EAAE,IAAI,CAACrB,aAAa;UAC7BsB,UAAU,EAAE,IAAI,CAAClB,cAAc;UAC/B1B,SAAS,EAAE,IAAI,CAACA;QAClB,CAAC,EAAE,IAAI,CAACN,SAAS,CAAC,CAAC,CAAC,CAACmD,MAAM,GAAG7E,CAAC,CAAC,KAAK,EAAE;UACrC0E,KAAK,EAAG,GAAEN,eAAgB;QAC5B,CAAC,EAAE,IAAI,CAAC1C,SAAS,CAACoD,GAAG,CAAC,CAACC,cAAc,EAAEjB,KAAK,KAAK;UAC/C,IAAIb,EAAE;UACN,OAAOjD,CAAC,CAACa,gBAAgB,EAAE;YACzBmE,KAAK,EAAE,CAAC/B,EAAE,GAAG,IAAI,CAACqB,cAAc,MAAM,IAAI,IAAIrB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACgC,IAAI,CAAC,IAAI,EAAE;cACnFC,KAAK,EAAEpB;YACT,CAAC,CAAC;YACF7D,GAAG,EAAEkF,QAAQ,IAAI;cACf,IAAIA,QAAQ,EAAE;gBACZxC,eAAe,CAACmB,KAAK,CAAC,GAAGqB,QAAQ;cACnC;YACF,CAAC;YACDC,GAAG,EAAEtB,KAAK;YACVuB,OAAO,EAAEN,cAAc;YACvBlB,KAAK,EAAEC,KAAK,GAAG;UACjB,CAAC,CAAC;QACJ,CAAC,CAAC,EAAE9D,CAAC,CAACY,aAAa,EAAE;UACnB0E,SAAS,EAAElB,eAAe;UAC1BnE,GAAG,EAAE;QACP,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,KAAK,EAAE;UACb0E,KAAK,EAAG,GAAEN,eAAgB;QAC5B,CAAC,EAAE5D,WAAW,CAAC,IAAI,CAAC+E,MAAM,CAACC,KAAK,EAAE,MAAM,CAACxF,CAAC,CAACW,MAAM,EAAE;UACjD8E,KAAK,EAAEpB,WAAW,CAACqB,KAAK,CAACC,KAAK;UAC9BC,cAAc,EAAEvB,WAAW,CAACwB,aAAa,CAACF;QAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAElF,kBAAkB,CAAC,IAAI,CAAC8E,MAAM,CAACO,MAAM,EAAEC,QAAQ,IAAIA,QAAQ,IAAI/F,CAAC,CAAC,KAAK,EAAE;UAC7E0E,KAAK,EAAG,GAAEN,eAAgB,uBAAsB;UAChD,aAAa,EAAE;QACjB,CAAC,EAAE2B,QAAQ,CAAC,CAAC,EAAE/F,CAAC,CAACO,aAAa,EAAE;UAC9BsB,OAAO,EAAE,IAAI,CAACK;QAChB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC5B,YAAY,EAAE,IAAI,CAAC8C,kBAAkB,EAAE4C,SAAS,EAAE;UACvDC,OAAO,EAAE;QACX,CAAC,CAAC,CAAC,CAAC;MACN;IACF,CAAC,CAAC;EACJ;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}