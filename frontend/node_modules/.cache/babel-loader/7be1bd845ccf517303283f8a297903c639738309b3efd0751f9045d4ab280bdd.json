{"ast":null,"code":"import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from \"./utils.mjs\";\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n  name: 'HueSlider',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    hue: {\n      type: Number,\n      required: true\n    },\n    onUpdateHue: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n  setup(props) {\n    const railRef = ref(null);\n    function handleMouseDown(e) {\n      if (!railRef.value) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n    function handleMouseMove(e) {\n      const {\n        value: railEl\n      } = railRef;\n      if (!railEl) return;\n      const {\n        width,\n        left\n      } = railEl.getBoundingClientRect();\n      const newHue = normalizeHue((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM) * 360);\n      props.onUpdateHue(newHue);\n    }\n    function handleMouseUp() {\n      var _a;\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n    return {\n      railRef,\n      handleMouseDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-slider`,\n      style: {\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS\n      }\n    }, h(\"div\", {\n      ref: \"railRef\",\n      style: {\n        boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n        boxSizing: 'border-box',\n        backgroundImage: GRADIENT,\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS,\n        position: 'relative'\n      },\n      onMousedown: this.handleMouseDown\n    }, h(\"div\", {\n      style: {\n        position: 'absolute',\n        left: RADIUS,\n        right: RADIUS,\n        top: 0,\n        bottom: 0\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    })))));\n  }\n});","map":{"version":3,"names":["defineComponent","h","ref","off","on","normalizeHue","HANDLE_SIZE","HANDLE_SIZE_NUM","RADIUS","RADIUS_NUM","GRADIENT","name","props","clsPrefix","type","String","required","hue","Number","onUpdateHue","Function","onComplete","setup","railRef","handleMouseDown","e","value","document","handleMouseMove","handleMouseUp","railEl","width","left","getBoundingClientRect","newHue","clientX","_a","call","render","class","style","height","borderRadius","boxShadow","boxSizing","backgroundImage","position","onMousedown","right","top","bottom","backgroundColor"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/color-picker/src/HueSlider.mjs"],"sourcesContent":["import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from \"./utils.mjs\";\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n  name: 'HueSlider',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    hue: {\n      type: Number,\n      required: true\n    },\n    onUpdateHue: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n  setup(props) {\n    const railRef = ref(null);\n    function handleMouseDown(e) {\n      if (!railRef.value) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n    function handleMouseMove(e) {\n      const {\n        value: railEl\n      } = railRef;\n      if (!railEl) return;\n      const {\n        width,\n        left\n      } = railEl.getBoundingClientRect();\n      const newHue = normalizeHue((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM) * 360);\n      props.onUpdateHue(newHue);\n    }\n    function handleMouseUp() {\n      var _a;\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n    return {\n      railRef,\n      handleMouseDown\n    };\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-slider`,\n      style: {\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS\n      }\n    }, h(\"div\", {\n      ref: \"railRef\",\n      style: {\n        boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n        boxSizing: 'border-box',\n        backgroundImage: GRADIENT,\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS,\n        position: 'relative'\n      },\n      onMousedown: this.handleMouseDown\n    }, h(\"div\", {\n      style: {\n        position: 'absolute',\n        left: RADIUS,\n        right: RADIUS,\n        top: 0,\n        bottom: 0\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    })))));\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}