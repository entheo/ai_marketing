{"ast":null,"code":"// store/index.js\nimport { defineStore } from 'pinia';\nexport const useAuthStore = defineStore('user', {\n  state: () => ({\n    isLoggedIn: false,\n    userData: null\n    // isAuthenticated: false,\n  }),\n  // 你可以添加 actions 和 mutations 等\n  actions: {\n    logIn(userData) {\n      this.isLoggedIn = true;\n      this.userData = userData;\n      // 这里可以设置localStorage等进行持久化存储\n      //localStorage.setItem('user', JSON.stringify(userData));\n      localStorage.setItem('data', userData);\n    },\n    logOut() {\n      this.isLoggedIn = false;\n      this.userData = null;\n      // 清除存储等清理工作\n    },\n    checkLoginStatus() {\n      // 根据localStorage或其他持久化存储状态恢复登录状态\n      // 例如:\n      const userData = localStorage.getItem('user');\n      if (user) {\n        const userData = JSON.parse(user);\n        const now = new Date().getTime();\n        if (userData.expiration > now) {\n          this.logIn(userData);\n        } else {\n          this.logOut(); // 清除过期Token\n        }\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useAuthStore","state","isLoggedIn","userData","actions","logIn","localStorage","setItem","logOut","checkLoginStatus","getItem","user","JSON","parse","now","Date","getTime","expiration"],"sources":["/Users/wangjohnson/ai_marketing/frontend/src/store/index.js"],"sourcesContent":["// store/index.js\nimport { defineStore } from 'pinia';\n\nexport const useAuthStore = defineStore(\n  'user',{\n  state: () => ({\n    isLoggedIn: false,\n    userData: null,\n    // isAuthenticated: false,\n  }),\n  // 你可以添加 actions 和 mutations 等\n   actions: {\n     logIn(userData) {\n       this.isLoggedIn = true;\n       this.userData = userData;\n       // 这里可以设置localStorage等进行持久化存储\n       //localStorage.setItem('user', JSON.stringify(userData));\n       localStorage.setItem('data',userData)\n     },\n     logOut() {\n       this.isLoggedIn = false;\n       this.userData = null;\n       // 清除存储等清理工作\n     },\n     checkLoginStatus() {\n      // 根据localStorage或其他持久化存储状态恢复登录状态\n      // 例如:\n      const userData = localStorage.getItem('user');\n      if (user) {\n        const userData = JSON.parse(user);\n        const now = new Date().getTime();\n        if (userData.expiration > now) {\n          this.logIn(userData);\n          } \n        else {\n          this.logOut(); // 清除过期Token\n          }\n      }\n    }\n   }\n});\n\n\n\n"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,YAAY,GAAGD,WAAW,CACrC,MAAM,EAAC;EACPE,KAAK,EAAEA,CAAA,MAAO;IACZC,UAAU,EAAE,KAAK;IACjBC,QAAQ,EAAE;IACV;EACF,CAAC,CAAC;EACF;EACCC,OAAO,EAAE;IACPC,KAAKA,CAACF,QAAQ,EAAE;MACd,IAAI,CAACD,UAAU,GAAG,IAAI;MACtB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;MACxB;MACA;MACAG,YAAY,CAACC,OAAO,CAAC,MAAM,EAACJ,QAAQ,CAAC;IACvC,CAAC;IACDK,MAAMA,CAAA,EAAG;MACP,IAAI,CAACN,UAAU,GAAG,KAAK;MACvB,IAAI,CAACC,QAAQ,GAAG,IAAI;MACpB;IACF,CAAC;IACDM,gBAAgBA,CAAA,EAAG;MAClB;MACA;MACA,MAAMN,QAAQ,GAAGG,YAAY,CAACI,OAAO,CAAC,MAAM,CAAC;MAC7C,IAAIC,IAAI,EAAE;QACR,MAAMR,QAAQ,GAAGS,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC;QACjC,MAAMG,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;QAChC,IAAIb,QAAQ,CAACc,UAAU,GAAGH,GAAG,EAAE;UAC7B,IAAI,CAACT,KAAK,CAACF,QAAQ,CAAC;QACpB,CAAC,MACE;UACH,IAAI,CAACK,MAAM,CAAC,CAAC,CAAC,CAAC;QACf;MACJ;IACF;EACD;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}