{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport function getIsGroup(option) {\n  return option.type === 'group';\n}\nexport function getIgnored(option) {\n  return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n  try {\n    return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n  } catch (err) {\n    return false;\n  }\n}\nexport function createTmOptions(valueField, childrenField) {\n  const options = {\n    getIsGroup,\n    getIgnored,\n    getKey(option) {\n      if (getIsGroup(option)) {\n        return option.name || option.key || 'key-required';\n      }\n      // Required for non-custom label & value field\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      return option[valueField];\n    },\n    getChildren(option) {\n      return option[childrenField];\n    }\n  };\n  return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n  if (!filter) return originalOpts;\n  function traverse(options) {\n    if (!Array.isArray(options)) return [];\n    const filteredOptions = [];\n    for (const option of options) {\n      if (getIsGroup(option)) {\n        const children = traverse(option[childrenField]);\n        if (children.length) {\n          filteredOptions.push(Object.assign({}, option, {\n            [childrenField]: children\n          }));\n        }\n      } else if (getIgnored(option)) {\n        continue;\n      } else if (filter(pattern, option)) {\n        filteredOptions.push(option);\n      }\n    }\n    return filteredOptions;\n  }\n  return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n  const valOptMap = new Map();\n  options.forEach(option => {\n    if (getIsGroup(option)) {\n      ;\n      option[childrenField].forEach(selectGroupOption => {\n        valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n      });\n    } else {\n      valOptMap.set(option[valueField], option);\n    }\n  });\n  return valOptMap;\n}","map":{"version":3,"names":["getIsGroup","option","type","getIgnored","patternMatched","pattern","value","toString","toLowerCase","indexOf","trim","err","createTmOptions","valueField","childrenField","options","getKey","name","key","getChildren","filterOptions","originalOpts","filter","traverse","Array","isArray","filteredOptions","children","length","push","Object","assign","createValOptMap","valOptMap","Map","forEach","selectGroupOption","set"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/select/src/utils.mjs"],"sourcesContent":["export function getIsGroup(option) {\n  return option.type === 'group';\n}\nexport function getIgnored(option) {\n  return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n  try {\n    return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n  } catch (err) {\n    return false;\n  }\n}\nexport function createTmOptions(valueField, childrenField) {\n  const options = {\n    getIsGroup,\n    getIgnored,\n    getKey(option) {\n      if (getIsGroup(option)) {\n        return option.name || option.key || 'key-required';\n      }\n      // Required for non-custom label & value field\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      return option[valueField];\n    },\n    getChildren(option) {\n      return option[childrenField];\n    }\n  };\n  return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n  if (!filter) return originalOpts;\n  function traverse(options) {\n    if (!Array.isArray(options)) return [];\n    const filteredOptions = [];\n    for (const option of options) {\n      if (getIsGroup(option)) {\n        const children = traverse(option[childrenField]);\n        if (children.length) {\n          filteredOptions.push(Object.assign({}, option, {\n            [childrenField]: children\n          }));\n        }\n      } else if (getIgnored(option)) {\n        continue;\n      } else if (filter(pattern, option)) {\n        filteredOptions.push(option);\n      }\n    }\n    return filteredOptions;\n  }\n  return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n  const valOptMap = new Map();\n  options.forEach(option => {\n    if (getIsGroup(option)) {\n      ;\n      option[childrenField].forEach(selectGroupOption => {\n        valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n      });\n    } else {\n      valOptMap.set(option[valueField], option);\n    }\n  });\n  return valOptMap;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}