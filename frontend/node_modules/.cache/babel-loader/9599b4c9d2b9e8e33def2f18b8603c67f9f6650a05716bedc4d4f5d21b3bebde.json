{"ast":null,"code":"import { h, defineComponent, inject, ref, onMounted, watch, toRef, computed } from 'vue';\nimport { logInjectionKey } from \"./context.mjs\";\nexport default defineComponent({\n  props: {\n    line: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const {\n      trimRef,\n      highlightRef,\n      languageRef,\n      mergedHljsRef\n    } =\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    inject(logInjectionKey);\n    const selfRef = ref(null);\n    const maybeTrimmedLinesRef = computed(() => {\n      return trimRef.value ? props.line.trim() : props.line;\n    });\n    function setInnerHTML() {\n      if (selfRef.value) {\n        selfRef.value.innerHTML = generateCodeHTML(languageRef.value, maybeTrimmedLinesRef.value);\n      }\n    }\n    function generateCodeHTML(language, code) {\n      const {\n        value: hljs\n      } = mergedHljsRef;\n      if (hljs) {\n        if (language && hljs.getLanguage(language)) {\n          return hljs.highlight(code, {\n            language\n          }).value;\n        }\n      }\n      return code;\n    }\n    onMounted(() => {\n      if (highlightRef.value) {\n        setInnerHTML();\n      }\n    });\n    watch(toRef(props, 'line'), () => {\n      if (highlightRef.value) {\n        setInnerHTML();\n      }\n    });\n    return {\n      highlight: highlightRef,\n      selfRef,\n      maybeTrimmedLines: maybeTrimmedLinesRef\n    };\n  },\n  render() {\n    const {\n      highlight,\n      maybeTrimmedLines\n    } = this;\n    return h(\"pre\", {\n      ref: \"selfRef\"\n    }, highlight ? null : maybeTrimmedLines);\n  }\n});","map":{"version":3,"names":["h","defineComponent","inject","ref","onMounted","watch","toRef","computed","logInjectionKey","props","line","type","String","default","setup","trimRef","highlightRef","languageRef","mergedHljsRef","selfRef","maybeTrimmedLinesRef","value","trim","setInnerHTML","innerHTML","generateCodeHTML","language","code","hljs","getLanguage","highlight","maybeTrimmedLines","render"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/log/src/LogLine.mjs"],"sourcesContent":["import { h, defineComponent, inject, ref, onMounted, watch, toRef, computed } from 'vue';\nimport { logInjectionKey } from \"./context.mjs\";\nexport default defineComponent({\n  props: {\n    line: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const {\n      trimRef,\n      highlightRef,\n      languageRef,\n      mergedHljsRef\n    } =\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    inject(logInjectionKey);\n    const selfRef = ref(null);\n    const maybeTrimmedLinesRef = computed(() => {\n      return trimRef.value ? props.line.trim() : props.line;\n    });\n    function setInnerHTML() {\n      if (selfRef.value) {\n        selfRef.value.innerHTML = generateCodeHTML(languageRef.value, maybeTrimmedLinesRef.value);\n      }\n    }\n    function generateCodeHTML(language, code) {\n      const {\n        value: hljs\n      } = mergedHljsRef;\n      if (hljs) {\n        if (language && hljs.getLanguage(language)) {\n          return hljs.highlight(code, {\n            language\n          }).value;\n        }\n      }\n      return code;\n    }\n    onMounted(() => {\n      if (highlightRef.value) {\n        setInnerHTML();\n      }\n    });\n    watch(toRef(props, 'line'), () => {\n      if (highlightRef.value) {\n        setInnerHTML();\n      }\n    });\n    return {\n      highlight: highlightRef,\n      selfRef,\n      maybeTrimmedLines: maybeTrimmedLinesRef\n    };\n  },\n  render() {\n    const {\n      highlight,\n      maybeTrimmedLines\n    } = this;\n    return h(\"pre\", {\n      ref: \"selfRef\"\n    }, highlight ? null : maybeTrimmedLines);\n  }\n});"],"mappings":"AAAA,SAASA,CAAC,EAAEC,eAAe,EAAEC,MAAM,EAAEC,GAAG,EAAEC,SAAS,EAAEC,KAAK,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,KAAK;AACxF,SAASC,eAAe,QAAQ,eAAe;AAC/C,eAAeP,eAAe,CAAC;EAC7BQ,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,MAAM;MACJM,OAAO;MACPC,YAAY;MACZC,WAAW;MACXC;IACF,CAAC;IACD;IACAhB,MAAM,CAACM,eAAe,CAAC;IACvB,MAAMW,OAAO,GAAGhB,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMiB,oBAAoB,GAAGb,QAAQ,CAAC,MAAM;MAC1C,OAAOQ,OAAO,CAACM,KAAK,GAAGZ,KAAK,CAACC,IAAI,CAACY,IAAI,CAAC,CAAC,GAAGb,KAAK,CAACC,IAAI;IACvD,CAAC,CAAC;IACF,SAASa,YAAYA,CAAA,EAAG;MACtB,IAAIJ,OAAO,CAACE,KAAK,EAAE;QACjBF,OAAO,CAACE,KAAK,CAACG,SAAS,GAAGC,gBAAgB,CAACR,WAAW,CAACI,KAAK,EAAED,oBAAoB,CAACC,KAAK,CAAC;MAC3F;IACF;IACA,SAASI,gBAAgBA,CAACC,QAAQ,EAAEC,IAAI,EAAE;MACxC,MAAM;QACJN,KAAK,EAAEO;MACT,CAAC,GAAGV,aAAa;MACjB,IAAIU,IAAI,EAAE;QACR,IAAIF,QAAQ,IAAIE,IAAI,CAACC,WAAW,CAACH,QAAQ,CAAC,EAAE;UAC1C,OAAOE,IAAI,CAACE,SAAS,CAACH,IAAI,EAAE;YAC1BD;UACF,CAAC,CAAC,CAACL,KAAK;QACV;MACF;MACA,OAAOM,IAAI;IACb;IACAvB,SAAS,CAAC,MAAM;MACd,IAAIY,YAAY,CAACK,KAAK,EAAE;QACtBE,YAAY,CAAC,CAAC;MAChB;IACF,CAAC,CAAC;IACFlB,KAAK,CAACC,KAAK,CAACG,KAAK,EAAE,MAAM,CAAC,EAAE,MAAM;MAChC,IAAIO,YAAY,CAACK,KAAK,EAAE;QACtBE,YAAY,CAAC,CAAC;MAChB;IACF,CAAC,CAAC;IACF,OAAO;MACLO,SAAS,EAAEd,YAAY;MACvBG,OAAO;MACPY,iBAAiB,EAAEX;IACrB,CAAC;EACH,CAAC;EACDY,MAAMA,CAAA,EAAG;IACP,MAAM;MACJF,SAAS;MACTC;IACF,CAAC,GAAG,IAAI;IACR,OAAO/B,CAAC,CAAC,KAAK,EAAE;MACdG,GAAG,EAAE;IACP,CAAC,EAAE2B,SAAS,GAAG,IAAI,GAAGC,iBAAiB,CAAC;EAC1C;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}