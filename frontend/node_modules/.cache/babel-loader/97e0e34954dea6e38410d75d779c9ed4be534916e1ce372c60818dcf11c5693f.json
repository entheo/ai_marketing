{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, defineComponent, ref, onBeforeUpdate } from 'vue';\nimport { indexMap } from 'seemly';\nimport { useConfig } from \"../../_mixins/index.mjs\";\nimport { useCarouselContext } from \"./CarouselContext.mjs\";\nconst carouselDotsProps = {\n  total: {\n    type: Number,\n    default: 0\n  },\n  currentIndex: {\n    type: Number,\n    default: 0\n  },\n  dotType: {\n    type: String,\n    default: 'dot'\n  },\n  trigger: {\n    type: String,\n    default: 'click'\n  },\n  keyboard: Boolean\n};\nexport default defineComponent({\n  name: 'CarouselDots',\n  props: carouselDotsProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const dotElsRef = ref([]);\n    const NCarousel = useCarouselContext();\n    function handleKeydown(e, current) {\n      switch (e.key) {\n        case 'Enter':\n        case ' ':\n          e.preventDefault();\n          NCarousel.to(current);\n          return;\n      }\n      if (props.keyboard) {\n        handleKeyboard(e);\n      }\n    }\n    function handleMouseenter(current) {\n      if (props.trigger === 'hover') {\n        NCarousel.to(current);\n      }\n    }\n    function handleClick(current) {\n      if (props.trigger === 'click') {\n        NCarousel.to(current);\n      }\n    }\n    function handleKeyboard(e) {\n      var _a;\n      if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n      const nodeName = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase();\n      if (nodeName === 'input' || nodeName === 'textarea') {\n        return;\n      }\n      const {\n        code: keycode\n      } = e;\n      const isVerticalNext = keycode === 'PageUp' || keycode === 'ArrowUp';\n      const isVerticalPrev = keycode === 'PageDown' || keycode === 'ArrowDown';\n      const isHorizontalNext = keycode === 'PageUp' || keycode === 'ArrowRight';\n      const isHorizontalPrev = keycode === 'PageDown' || keycode === 'ArrowLeft';\n      const vertical = NCarousel.isVertical();\n      const wantToNext = vertical ? isVerticalNext : isHorizontalNext;\n      const wantToPrev = vertical ? isVerticalPrev : isHorizontalPrev;\n      if (!wantToNext && !wantToPrev) {\n        return;\n      }\n      e.preventDefault();\n      if (wantToNext && !NCarousel.isNextDisabled()) {\n        NCarousel.next();\n        focusDot(NCarousel.currentIndexRef.value);\n      } else if (wantToPrev && !NCarousel.isPrevDisabled()) {\n        NCarousel.prev();\n        focusDot(NCarousel.currentIndexRef.value);\n      }\n    }\n    function focusDot(index) {\n      var _a;\n      (_a = dotElsRef.value[index]) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    onBeforeUpdate(() => dotElsRef.value.length = 0);\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      dotEls: dotElsRef,\n      handleKeydown,\n      handleMouseenter,\n      handleClick\n    };\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      dotEls\n    } = this;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-carousel__dots`, `${mergedClsPrefix}-carousel__dots--${this.dotType}`],\n      role: \"tablist\"\n    }, indexMap(this.total, i => {\n      const selected = i === this.currentIndex;\n      return h(\"div\", {\n        \"aria-selected\": selected,\n        ref: el => dotEls.push(el),\n        role: \"button\",\n        tabindex: \"0\",\n        class: [`${mergedClsPrefix}-carousel__dot`, selected && `${mergedClsPrefix}-carousel__dot--active`],\n        key: i,\n        onClick: () => {\n          this.handleClick(i);\n        },\n        onMouseenter: () => {\n          this.handleMouseenter(i);\n        },\n        onKeydown: e => {\n          this.handleKeydown(e, i);\n        }\n      });\n    }));\n  }\n});","map":{"version":3,"names":["h","defineComponent","ref","onBeforeUpdate","indexMap","useConfig","useCarouselContext","carouselDotsProps","total","type","Number","default","currentIndex","dotType","String","trigger","keyboard","Boolean","name","props","setup","mergedClsPrefixRef","dotElsRef","NCarousel","handleKeydown","e","current","key","preventDefault","to","handleKeyboard","handleMouseenter","handleClick","_a","shiftKey","altKey","ctrlKey","metaKey","nodeName","document","activeElement","toLowerCase","code","keycode","isVerticalNext","isVerticalPrev","isHorizontalNext","isHorizontalPrev","vertical","isVertical","wantToNext","wantToPrev","isNextDisabled","next","focusDot","currentIndexRef","value","isPrevDisabled","prev","index","focus","length","mergedClsPrefix","dotEls","render","class","role","i","selected","el","push","tabindex","onClick","onMouseenter","onKeydown"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/carousel/src/CarouselDots.mjs"],"sourcesContent":["import { h, defineComponent, ref, onBeforeUpdate } from 'vue';\nimport { indexMap } from 'seemly';\nimport { useConfig } from \"../../_mixins/index.mjs\";\nimport { useCarouselContext } from \"./CarouselContext.mjs\";\nconst carouselDotsProps = {\n  total: {\n    type: Number,\n    default: 0\n  },\n  currentIndex: {\n    type: Number,\n    default: 0\n  },\n  dotType: {\n    type: String,\n    default: 'dot'\n  },\n  trigger: {\n    type: String,\n    default: 'click'\n  },\n  keyboard: Boolean\n};\nexport default defineComponent({\n  name: 'CarouselDots',\n  props: carouselDotsProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const dotElsRef = ref([]);\n    const NCarousel = useCarouselContext();\n    function handleKeydown(e, current) {\n      switch (e.key) {\n        case 'Enter':\n        case ' ':\n          e.preventDefault();\n          NCarousel.to(current);\n          return;\n      }\n      if (props.keyboard) {\n        handleKeyboard(e);\n      }\n    }\n    function handleMouseenter(current) {\n      if (props.trigger === 'hover') {\n        NCarousel.to(current);\n      }\n    }\n    function handleClick(current) {\n      if (props.trigger === 'click') {\n        NCarousel.to(current);\n      }\n    }\n    function handleKeyboard(e) {\n      var _a;\n      if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n      const nodeName = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase();\n      if (nodeName === 'input' || nodeName === 'textarea') {\n        return;\n      }\n      const {\n        code: keycode\n      } = e;\n      const isVerticalNext = keycode === 'PageUp' || keycode === 'ArrowUp';\n      const isVerticalPrev = keycode === 'PageDown' || keycode === 'ArrowDown';\n      const isHorizontalNext = keycode === 'PageUp' || keycode === 'ArrowRight';\n      const isHorizontalPrev = keycode === 'PageDown' || keycode === 'ArrowLeft';\n      const vertical = NCarousel.isVertical();\n      const wantToNext = vertical ? isVerticalNext : isHorizontalNext;\n      const wantToPrev = vertical ? isVerticalPrev : isHorizontalPrev;\n      if (!wantToNext && !wantToPrev) {\n        return;\n      }\n      e.preventDefault();\n      if (wantToNext && !NCarousel.isNextDisabled()) {\n        NCarousel.next();\n        focusDot(NCarousel.currentIndexRef.value);\n      } else if (wantToPrev && !NCarousel.isPrevDisabled()) {\n        NCarousel.prev();\n        focusDot(NCarousel.currentIndexRef.value);\n      }\n    }\n    function focusDot(index) {\n      var _a;\n      (_a = dotElsRef.value[index]) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    onBeforeUpdate(() => dotElsRef.value.length = 0);\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      dotEls: dotElsRef,\n      handleKeydown,\n      handleMouseenter,\n      handleClick\n    };\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      dotEls\n    } = this;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-carousel__dots`, `${mergedClsPrefix}-carousel__dots--${this.dotType}`],\n      role: \"tablist\"\n    }, indexMap(this.total, i => {\n      const selected = i === this.currentIndex;\n      return h(\"div\", {\n        \"aria-selected\": selected,\n        ref: el => dotEls.push(el),\n        role: \"button\",\n        tabindex: \"0\",\n        class: [`${mergedClsPrefix}-carousel__dot`, selected && `${mergedClsPrefix}-carousel__dot--active`],\n        key: i,\n        onClick: () => {\n          this.handleClick(i);\n        },\n        onMouseenter: () => {\n          this.handleMouseenter(i);\n        },\n        onKeydown: e => {\n          this.handleKeydown(e, i);\n        }\n      });\n    }));\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}