{"ast":null,"code":"import { nextTick, Transition, h, defineComponent, ref, onMounted, inject } from 'vue';\nimport { keep } from \"../../_utils/index.mjs\";\nimport { notificationProviderInjectionKey } from \"./context.mjs\";\nimport { Notification, notificationProps, notificationPropKeys } from \"./Notification.mjs\";\nexport const notificationEnvOptions = Object.assign(Object.assign({}, notificationProps), {\n  duration: Number,\n  onClose: Function,\n  onLeave: Function,\n  onAfterEnter: Function,\n  onAfterLeave: Function,\n  /** @deprecated */\n  onHide: Function,\n  /** @deprecated */\n  onAfterShow: Function,\n  /** @deprecated */\n  onAfterHide: Function\n});\nexport const NotificationEnvironment = defineComponent({\n  name: 'NotificationEnvironment',\n  props: Object.assign(Object.assign({}, notificationEnvOptions), {\n    // private\n    internalKey: {\n      type: String,\n      required: true\n    },\n    onInternalAfterLeave: {\n      type: Function,\n      required: true\n    }\n  }),\n  setup(props) {\n    const {\n      wipTransitionCountRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(notificationProviderInjectionKey);\n    const showRef = ref(true);\n    let timerId = null;\n    function hide() {\n      showRef.value = false;\n      if (timerId) {\n        window.clearTimeout(timerId);\n      }\n    }\n    function handleBeforeEnter(el) {\n      wipTransitionCountRef.value++;\n      void nextTick(() => {\n        el.style.height = `${el.offsetHeight}px`;\n        el.style.maxHeight = '0';\n        el.style.transition = 'none';\n        void el.offsetHeight;\n        el.style.transition = '';\n        el.style.maxHeight = el.style.height;\n      });\n    }\n    function handleAfterEnter(el) {\n      wipTransitionCountRef.value--;\n      el.style.height = '';\n      el.style.maxHeight = '';\n      const {\n        onAfterEnter,\n        onAfterShow\n      } = props;\n      if (onAfterEnter) onAfterEnter();\n      // deprecated\n      if (onAfterShow) onAfterShow();\n    }\n    function handleBeforeLeave(el) {\n      wipTransitionCountRef.value++;\n      el.style.maxHeight = `${el.offsetHeight}px`;\n      el.style.height = `${el.offsetHeight}px`;\n      void el.offsetHeight;\n    }\n    function handleLeave(el) {\n      const {\n        onHide\n      } = props;\n      if (onHide) onHide();\n      el.style.maxHeight = '0';\n      void el.offsetHeight;\n    }\n    function handleAfterLeave() {\n      wipTransitionCountRef.value--;\n      const {\n        onAfterLeave,\n        onInternalAfterLeave,\n        onAfterHide,\n        internalKey\n      } = props;\n      if (onAfterLeave) onAfterLeave();\n      onInternalAfterLeave(internalKey);\n      // deprecated\n      if (onAfterHide) onAfterHide();\n    }\n    function setHideTimeout() {\n      const {\n        duration\n      } = props;\n      if (duration) {\n        timerId = window.setTimeout(hide, duration);\n      }\n    }\n    function handleMouseenter(e) {\n      if (e.currentTarget !== e.target) return;\n      if (timerId !== null) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      }\n    }\n    function handleMouseleave(e) {\n      if (e.currentTarget !== e.target) return;\n      setHideTimeout();\n    }\n    function handleClose() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(feedback => {\n          if (feedback === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    onMounted(() => {\n      if (props.duration) {\n        timerId = window.setTimeout(hide, props.duration);\n      }\n    });\n    return {\n      show: showRef,\n      hide,\n      handleClose,\n      handleAfterLeave,\n      handleLeave,\n      handleBeforeLeave,\n      handleAfterEnter,\n      handleBeforeEnter,\n      handleMouseenter,\n      handleMouseleave\n    };\n  },\n  render() {\n    return h(Transition, {\n      name: \"notification-transition\",\n      appear: true,\n      // convert to any since Element is not compatible with HTMLElement\n      onBeforeEnter: this.handleBeforeEnter,\n      onAfterEnter: this.handleAfterEnter,\n      onBeforeLeave: this.handleBeforeLeave,\n      onLeave: this.handleLeave,\n      onAfterLeave: this.handleAfterLeave\n    }, {\n      default: () => {\n        return this.show ? h(Notification, Object.assign({}, keep(this.$props, notificationPropKeys), {\n          onClose: this.handleClose,\n          onMouseenter: this.duration && this.keepAliveOnHover ? this.handleMouseenter : undefined,\n          onMouseleave: this.duration && this.keepAliveOnHover ? this.handleMouseleave : undefined\n        })) : null;\n      }\n    });\n  }\n});","map":{"version":3,"names":["nextTick","Transition","h","defineComponent","ref","onMounted","inject","keep","notificationProviderInjectionKey","Notification","notificationProps","notificationPropKeys","notificationEnvOptions","Object","assign","duration","Number","onClose","Function","onLeave","onAfterEnter","onAfterLeave","onHide","onAfterShow","onAfterHide","NotificationEnvironment","name","props","internalKey","type","String","required","onInternalAfterLeave","setup","wipTransitionCountRef","showRef","timerId","hide","value","window","clearTimeout","handleBeforeEnter","el","style","height","offsetHeight","maxHeight","transition","handleAfterEnter","handleBeforeLeave","handleLeave","handleAfterLeave","setHideTimeout","setTimeout","handleMouseenter","e","currentTarget","target","handleMouseleave","handleClose","Promise","resolve","then","feedback","show","render","appear","onBeforeEnter","onBeforeLeave","default","$props","onMouseenter","keepAliveOnHover","undefined","onMouseleave"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/notification/src/NotificationEnvironment.mjs"],"sourcesContent":["import { nextTick, Transition, h, defineComponent, ref, onMounted, inject } from 'vue';\nimport { keep } from \"../../_utils/index.mjs\";\nimport { notificationProviderInjectionKey } from \"./context.mjs\";\nimport { Notification, notificationProps, notificationPropKeys } from \"./Notification.mjs\";\nexport const notificationEnvOptions = Object.assign(Object.assign({}, notificationProps), {\n  duration: Number,\n  onClose: Function,\n  onLeave: Function,\n  onAfterEnter: Function,\n  onAfterLeave: Function,\n  /** @deprecated */\n  onHide: Function,\n  /** @deprecated */\n  onAfterShow: Function,\n  /** @deprecated */\n  onAfterHide: Function\n});\nexport const NotificationEnvironment = defineComponent({\n  name: 'NotificationEnvironment',\n  props: Object.assign(Object.assign({}, notificationEnvOptions), {\n    // private\n    internalKey: {\n      type: String,\n      required: true\n    },\n    onInternalAfterLeave: {\n      type: Function,\n      required: true\n    }\n  }),\n  setup(props) {\n    const {\n      wipTransitionCountRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(notificationProviderInjectionKey);\n    const showRef = ref(true);\n    let timerId = null;\n    function hide() {\n      showRef.value = false;\n      if (timerId) {\n        window.clearTimeout(timerId);\n      }\n    }\n    function handleBeforeEnter(el) {\n      wipTransitionCountRef.value++;\n      void nextTick(() => {\n        el.style.height = `${el.offsetHeight}px`;\n        el.style.maxHeight = '0';\n        el.style.transition = 'none';\n        void el.offsetHeight;\n        el.style.transition = '';\n        el.style.maxHeight = el.style.height;\n      });\n    }\n    function handleAfterEnter(el) {\n      wipTransitionCountRef.value--;\n      el.style.height = '';\n      el.style.maxHeight = '';\n      const {\n        onAfterEnter,\n        onAfterShow\n      } = props;\n      if (onAfterEnter) onAfterEnter();\n      // deprecated\n      if (onAfterShow) onAfterShow();\n    }\n    function handleBeforeLeave(el) {\n      wipTransitionCountRef.value++;\n      el.style.maxHeight = `${el.offsetHeight}px`;\n      el.style.height = `${el.offsetHeight}px`;\n      void el.offsetHeight;\n    }\n    function handleLeave(el) {\n      const {\n        onHide\n      } = props;\n      if (onHide) onHide();\n      el.style.maxHeight = '0';\n      void el.offsetHeight;\n    }\n    function handleAfterLeave() {\n      wipTransitionCountRef.value--;\n      const {\n        onAfterLeave,\n        onInternalAfterLeave,\n        onAfterHide,\n        internalKey\n      } = props;\n      if (onAfterLeave) onAfterLeave();\n      onInternalAfterLeave(internalKey);\n      // deprecated\n      if (onAfterHide) onAfterHide();\n    }\n    function setHideTimeout() {\n      const {\n        duration\n      } = props;\n      if (duration) {\n        timerId = window.setTimeout(hide, duration);\n      }\n    }\n    function handleMouseenter(e) {\n      if (e.currentTarget !== e.target) return;\n      if (timerId !== null) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      }\n    }\n    function handleMouseleave(e) {\n      if (e.currentTarget !== e.target) return;\n      setHideTimeout();\n    }\n    function handleClose() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(feedback => {\n          if (feedback === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    onMounted(() => {\n      if (props.duration) {\n        timerId = window.setTimeout(hide, props.duration);\n      }\n    });\n    return {\n      show: showRef,\n      hide,\n      handleClose,\n      handleAfterLeave,\n      handleLeave,\n      handleBeforeLeave,\n      handleAfterEnter,\n      handleBeforeEnter,\n      handleMouseenter,\n      handleMouseleave\n    };\n  },\n  render() {\n    return h(Transition, {\n      name: \"notification-transition\",\n      appear: true,\n      // convert to any since Element is not compatible with HTMLElement\n      onBeforeEnter: this.handleBeforeEnter,\n      onAfterEnter: this.handleAfterEnter,\n      onBeforeLeave: this.handleBeforeLeave,\n      onLeave: this.handleLeave,\n      onAfterLeave: this.handleAfterLeave\n    }, {\n      default: () => {\n        return this.show ? h(Notification, Object.assign({}, keep(this.$props, notificationPropKeys), {\n          onClose: this.handleClose,\n          onMouseenter: this.duration && this.keepAliveOnHover ? this.handleMouseenter : undefined,\n          onMouseleave: this.duration && this.keepAliveOnHover ? this.handleMouseleave : undefined\n        })) : null;\n      }\n    });\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}