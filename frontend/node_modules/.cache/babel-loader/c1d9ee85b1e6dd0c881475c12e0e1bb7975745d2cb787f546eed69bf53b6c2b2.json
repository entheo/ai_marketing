{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { parseSelectorPath } from './parse';\nimport { isMediaOrSupports } from './utils';\nconst kebabRegex = /[A-Z]/g;\nfunction kebabCase(pattern) {\n  return pattern.replace(kebabRegex, match => '-' + match.toLowerCase());\n}\n/** TODO: refine it to solve nested object */\nfunction unwrapProperty(prop, indent = '  ') {\n  if (typeof prop === 'object' && prop !== null) {\n    return ' {\\n' + Object.entries(prop).map(v => {\n      return indent + `  ${kebabCase(v[0])}: ${v[1]};`;\n    }).join('\\n') + '\\n' + indent + '}';\n  }\n  return `: ${prop};`;\n}\n/** unwrap properties */\nfunction unwrapProperties(props, instance, params) {\n  if (typeof props === 'function') {\n    return props({\n      context: instance.context,\n      props: params\n    });\n  }\n  return props;\n}\nfunction createStyle(selector, props, instance, params) {\n  if (!props) return '';\n  // eslint-disable-next-line\n  const unwrappedProps = unwrapProperties(props, instance, params);\n  if (!unwrappedProps) return '';\n  if (typeof unwrappedProps === 'string') {\n    return `${selector} {\\n${unwrappedProps}\\n}`;\n  }\n  const propertyNames = Object.keys(unwrappedProps);\n  if (propertyNames.length === 0) {\n    if (instance.config.keepEmptyBlock) return selector + ' {\\n}';\n    return '';\n  }\n  const statements = selector ? [selector + ' {'] : [];\n  propertyNames.forEach(propertyName => {\n    const property = unwrappedProps[propertyName];\n    if (propertyName === 'raw') {\n      statements.push('\\n' + property + '\\n');\n      return;\n    }\n    propertyName = kebabCase(propertyName);\n    if (property !== null && property !== undefined) {\n      statements.push(`  ${propertyName}${unwrapProperty(property)}`);\n    }\n  });\n  if (selector) {\n    statements.push('}');\n  }\n  return statements.join('\\n');\n}\nfunction loopCNodeListWithCallback(children, options, callback) {\n  /* istanbul ignore if */\n  if (!children) return;\n  children.forEach(child => {\n    if (Array.isArray(child)) {\n      loopCNodeListWithCallback(child, options, callback);\n    } else if (typeof child === 'function') {\n      const grandChildren = child(options);\n      if (Array.isArray(grandChildren)) {\n        loopCNodeListWithCallback(grandChildren, options, callback);\n      } else if (grandChildren) {\n        callback(grandChildren);\n      }\n    } else if (child) {\n      callback(child);\n    }\n  });\n}\nfunction traverseCNode(node, selectorPaths, styles, instance, params) {\n  const $ = node.$;\n  let blockSelector = '';\n  if (!$ || typeof $ === 'string') {\n    if (isMediaOrSupports($)) {\n      blockSelector = $;\n    } else {\n      // as a string selector\n      selectorPaths.push($);\n    }\n  } else if (typeof $ === 'function') {\n    const selector = $({\n      context: instance.context,\n      props: params\n    });\n    if (isMediaOrSupports(selector)) {\n      blockSelector = selector;\n    } else {\n      // as a lazy selector\n      selectorPaths.push(selector);\n    }\n  } else {\n    // as a option selector\n    if ($.before) $.before(instance.context);\n    if (!$.$ || typeof $.$ === 'string') {\n      if (isMediaOrSupports($.$)) {\n        blockSelector = $.$;\n      } else {\n        // as a string selector\n        selectorPaths.push($.$);\n      }\n    } else /* istanbul ignore else */if ($.$) {\n        const selector = $.$({\n          context: instance.context,\n          props: params\n        });\n        if (isMediaOrSupports(selector)) {\n          blockSelector = selector;\n        } else {\n          // as a lazy selector\n          selectorPaths.push(selector);\n        }\n      }\n  }\n  const selector = parseSelectorPath(selectorPaths);\n  const style = createStyle(selector, node.props, instance, params);\n  if (blockSelector) {\n    styles.push(`${blockSelector} {`);\n  } else if (style.length) {\n    styles.push(style);\n  }\n  if (node.children) {\n    loopCNodeListWithCallback(node.children, {\n      context: instance.context,\n      props: params\n    }, childNode => {\n      if (typeof childNode === 'string') {\n        const style = createStyle(selector, {\n          raw: childNode\n        }, instance, params);\n        styles.push(style);\n      } else {\n        traverseCNode(childNode, selectorPaths, styles, instance, params);\n      }\n    });\n  }\n  selectorPaths.pop();\n  if (blockSelector) {\n    styles.push('}');\n  }\n  if ($ && $.after) $.after(instance.context);\n}\nexport function render(node, instance, props) {\n  const styles = [];\n  traverseCNode(node, [], styles, instance, props);\n  return styles.join('\\n\\n');\n}","map":{"version":3,"names":["parseSelectorPath","isMediaOrSupports","kebabRegex","kebabCase","pattern","replace","match","toLowerCase","unwrapProperty","prop","indent","Object","entries","map","v","join","unwrapProperties","props","instance","params","context","createStyle","selector","unwrappedProps","propertyNames","keys","length","config","keepEmptyBlock","statements","forEach","propertyName","property","push","undefined","loopCNodeListWithCallback","children","options","callback","child","Array","isArray","grandChildren","traverseCNode","node","selectorPaths","styles","$","blockSelector","before","style","childNode","raw","pop","after","render"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/css-render/esm/render.js"],"sourcesContent":["import { parseSelectorPath } from './parse';\nimport { isMediaOrSupports } from './utils';\nconst kebabRegex = /[A-Z]/g;\nfunction kebabCase(pattern) {\n    return pattern.replace(kebabRegex, match => '-' + match.toLowerCase());\n}\n/** TODO: refine it to solve nested object */\nfunction unwrapProperty(prop, indent = '  ') {\n    if (typeof prop === 'object' && prop !== null) {\n        return (' {\\n' +\n            Object.entries(prop).map(v => {\n                return indent + `  ${kebabCase(v[0])}: ${v[1]};`;\n            }).join('\\n') +\n            '\\n' + indent + '}');\n    }\n    return `: ${prop};`;\n}\n/** unwrap properties */\nfunction unwrapProperties(props, instance, params) {\n    if (typeof props === 'function') {\n        return props({\n            context: instance.context,\n            props: params\n        });\n    }\n    return props;\n}\nfunction createStyle(selector, props, instance, params) {\n    if (!props)\n        return '';\n    // eslint-disable-next-line\n    const unwrappedProps = unwrapProperties(props, instance, params);\n    if (!unwrappedProps)\n        return '';\n    if (typeof unwrappedProps === 'string') {\n        return `${selector} {\\n${unwrappedProps}\\n}`;\n    }\n    const propertyNames = Object.keys(unwrappedProps);\n    if (propertyNames.length === 0) {\n        if (instance.config.keepEmptyBlock)\n            return selector + ' {\\n}';\n        return '';\n    }\n    const statements = selector\n        ? [\n            selector + ' {'\n        ]\n        : [];\n    propertyNames.forEach(propertyName => {\n        const property = unwrappedProps[propertyName];\n        if (propertyName === 'raw') {\n            statements.push('\\n' + property + '\\n');\n            return;\n        }\n        propertyName = kebabCase(propertyName);\n        if (property !== null && property !== undefined) {\n            statements.push(`  ${propertyName}${unwrapProperty(property)}`);\n        }\n    });\n    if (selector) {\n        statements.push('}');\n    }\n    return statements.join('\\n');\n}\nfunction loopCNodeListWithCallback(children, options, callback) {\n    /* istanbul ignore if */\n    if (!children)\n        return;\n    children.forEach(child => {\n        if (Array.isArray(child)) {\n            loopCNodeListWithCallback(child, options, callback);\n        }\n        else if (typeof child === 'function') {\n            const grandChildren = child(options);\n            if (Array.isArray(grandChildren)) {\n                loopCNodeListWithCallback(grandChildren, options, callback);\n            }\n            else if (grandChildren) {\n                callback(grandChildren);\n            }\n        }\n        else if (child) {\n            callback(child);\n        }\n    });\n}\nfunction traverseCNode(node, selectorPaths, styles, instance, params) {\n    const $ = node.$;\n    let blockSelector = '';\n    if (!$ || typeof $ === 'string') {\n        if (isMediaOrSupports($)) {\n            blockSelector = $;\n        }\n        else {\n            // as a string selector\n            selectorPaths.push($);\n        }\n    }\n    else if (typeof $ === 'function') {\n        const selector = $({\n            context: instance.context,\n            props: params\n        });\n        if (isMediaOrSupports(selector)) {\n            blockSelector = selector;\n        }\n        else {\n            // as a lazy selector\n            selectorPaths.push(selector);\n        }\n    }\n    else { // as a option selector\n        if ($.before)\n            $.before(instance.context);\n        if (!$.$ || typeof $.$ === 'string') {\n            if (isMediaOrSupports($.$)) {\n                blockSelector = $.$;\n            }\n            else {\n                // as a string selector\n                selectorPaths.push($.$);\n            }\n        }\n        else /* istanbul ignore else */ if ($.$) {\n            const selector = $.$({\n                context: instance.context,\n                props: params\n            });\n            if (isMediaOrSupports(selector)) {\n                blockSelector = selector;\n            }\n            else {\n                // as a lazy selector\n                selectorPaths.push(selector);\n            }\n        }\n    }\n    const selector = parseSelectorPath(selectorPaths);\n    const style = createStyle(selector, node.props, instance, params);\n    if (blockSelector) {\n        styles.push(`${blockSelector} {`);\n    }\n    else if (style.length) {\n        styles.push(style);\n    }\n    if (node.children) {\n        loopCNodeListWithCallback(node.children, {\n            context: instance.context,\n            props: params\n        }, childNode => {\n            if (typeof childNode === 'string') {\n                const style = createStyle(selector, { raw: childNode }, instance, params);\n                styles.push(style);\n            }\n            else {\n                traverseCNode(childNode, selectorPaths, styles, instance, params);\n            }\n        });\n    }\n    selectorPaths.pop();\n    if (blockSelector) {\n        styles.push('}');\n    }\n    if ($ && $.after)\n        $.after(instance.context);\n}\nexport function render(node, instance, props) {\n    const styles = [];\n    traverseCNode(node, [], styles, instance, props);\n    return styles.join('\\n\\n');\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}