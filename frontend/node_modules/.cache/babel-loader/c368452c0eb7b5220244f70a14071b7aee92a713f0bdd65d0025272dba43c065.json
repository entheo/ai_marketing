{"ast":null,"code":"import { createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"NForm\"], {\n    \"label-placement\": \"left\",\n    \"require-mark-placement\": \"right-hanging\",\n    \"label-width\": $props.labelWidth,\n    size: \"large\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"NFormItem\"], {\n      label: \"他们是谁？\"\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"NInput\"], {\n        value: $setup.personaInfo.desc,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = $event => $setup.personaInfo.desc = $event),\n        clearable: \"\",\n        placeholder: \"例如：20岁左右刚刚大学毕业的年轻女生\"\n      }, null, 8 /* PROPS */, [\"value\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode($setup[\"NFormItem\"], {\n      label: \"主体性别:\"\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"NCheckbox\"], {\n        checked: $setup.personaInfo.male,\n        \"onUpdate:checked\": _cache[1] || (_cache[1] = $event => $setup.personaInfo.male = $event)\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 男性 \")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"checked\"]), _createVNode($setup[\"NCheckbox\"], {\n        checked: $setup.personaInfo.female,\n        \"onUpdate:checked\": _cache[2] || (_cache[2] = $event => $setup.personaInfo.female = $event),\n        disabled: _ctx.disabled\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 女性 \")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"checked\", \"disabled\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode($setup[\"NFormItem\"], {\n      label: \"相关的心理诉求是什么？\"\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"NInput\"], {\n        clearable: \"\",\n        value: $setup.personaInfo.motives,\n        \"onUpdate:value\": _cache[3] || (_cache[3] = $event => $setup.personaInfo.motives = $event),\n        type: \"textarea\",\n        placeholder: \"例如：渴望快速建立自信，摆脱学生气，融入社会\"\n      }, null, 8 /* PROPS */, [\"value\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode($setup[\"NFormItem\"], {\n      label: \"个人年收入范围?\"\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"NInput\"], {\n        value: $setup.personaInfo.salary,\n        \"onUpdate:value\": [_cache[4] || (_cache[4] = $event => $setup.personaInfo.salary = $event), $setup.handleInputInput],\n        pair: \"\",\n        separator: \"-\",\n        placeholder: $setup.placeholder,\n        clearable: \"\"\n      }, null, 8 /* PROPS */, [\"value\"])]),\n      _: 1 /* STABLE */\n    }), _withDirectives(_createVNode($setup[\"NButton\"], {\n      onClick: $setup.createPersona\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"保存\")]),\n      _: 1 /* STABLE */\n    }, 512 /* NEED_PATCH */), [[_vShow, false]])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"label-width\"]);\n}","map":{"version":3,"names":["_createBlock","$setup","$props","labelWidth","size","default","_withCtx","_createVNode","label","value","personaInfo","desc","_cache","$event","clearable","placeholder","_","checked","male","_createTextVNode","female","disabled","_ctx","motives","type","salary","handleInputInput","pair","separator","onClick","createPersona"],"sources":["/Users/wangjohnson/ai_marketing/frontend/src/components/CreatePersonaForm.vue"],"sourcesContent":["<!--CreatePersonaForm.vue-->\n<template>\n    <n-form label-placement=\"left\" require-mark-placement=\"right-hanging\" :label-width=\"labelWidth\" size=\"large\">\n      <n-form-item label=\"他们是谁？\">\n        <n-input v-model:value='personaInfo.desc' clearable\n          placeholder='例如：20岁左右刚刚大学毕业的年轻女生'/>\n      </n-form-item>    \n        <n-form-item label=\"主体性别:\">\n            <n-checkbox v-model:checked=\"personaInfo.male\">\n               男性\n            </n-checkbox>\n        <n-checkbox v-model:checked=\"personaInfo.female\" :disabled=\"disabled\">\n               女性\n        </n-checkbox>\n    </n-form-item>\n\n    <n-form-item label=\"相关的心理诉求是什么？\">\n        <n-input clearable v-model:value='personaInfo.motives' type=\"textarea\" placeholder=\"例如：渴望快速建立自信，摆脱学生气，融入社会\"/>\n    </n-form-item>\n    \n    <n-form-item label=\"个人年收入范围?\">\n        <n-input v-model:value=\"personaInfo.salary\" pair\n          separator=\"-\"\n          :placeholder=\"placeholder\"\n          clearable\n          @update:value=\"handleInputInput\">\n        </n-input>\n    </n-form-item>\n        \n        <n-button v-show=\"false\" @click=\"createPersona\">保存</n-button>\n    </n-form>\n</template>\n\n<script setup>\n//import axios from 'axios';\nimport {onBeforeMount,ref,defineEmits,defineProps,defineExpose} from 'vue';\nimport { NButton, NForm,NFormItem, NInput, NCheckbox} from 'naive-ui';\nimport {useStore} from 'vuex';\n//组件挂载前加载数据\nconst store = useStore();\nonBeforeMount(()=>{\n    preData.value = store.getters.temp_campaign_data;\n    console.log('预加载数据：',preData.value);\n    handlePersonaInfo();\n    });\nconst preData = ref(null);\nconst handlePersonaInfo=()=>{\n    console.log(typeof(preData.value));\n    if(preData.value && JSON.stringify(preData.value)!=='{}' ){\n       personaInfo.value.male = preData.value.personaData.male;\n       personaInfo.value.female = preData.value.personaData.female;\n       personaInfo.value.salary = preData.value.personaData.salary;\n       personaInfo.value.motives = preData.value.personaData.motives;}\n    };\n\n\n//定义表单数据\nconst placeholder = ['人民币(万元)','人民币(万元)'];\nconst personaInfo = ref({\n    male: false,\n    female:false,\n    salary:null,\n    motives : '',\n    })\nconst emit = defineEmits(['createdPersonaInfo']);\nconst createPersona = async() =>{\n      emit('createdPersonaInfo',personaInfo.value);\n      console.log('persona');\n      console.log(personaInfo.value);\n      /*try{\n          \n          const resp =  await axios.get('http://localhost:8005/account/auth/',{\n            headers: {\n                'Authorization': `Bearer ` // 设置请求头\n                }});\n          }catch (error) {\n        console.error('Failed to fetch user info:', error);\n        }*/\n        \n      }\nconst handleInputInput = () => {\n    console.log('handle');\n    }\n\ndefineExpose({createPersona,personaInfo});\ndefineProps({labelWidth:{default:190}});\n</script>\n<script>\n  export default{\n      name:'CreatePersonaForm'\n      };\n</script>\n\n<style>\nlabel{\n    display:inline;\n    width:auto;}\n</style>\n"],"mappings":";;uBAEIA,YAAA,CA4BSC,MAAA;IA5BD,iBAAe,EAAC,MAAM;IAAC,wBAAsB,EAAC,eAAe;IAAE,aAAW,EAAEC,MAAA,CAAAC,UAAU;IAAEC,IAAI,EAAC;;IAFzGC,OAAA,EAAAC,QAAA,CAGM,MAGc,CAHdC,YAAA,CAGcN,MAAA;MAHDO,KAAK,EAAC;IAAO;MAHhCH,OAAA,EAAAC,QAAA,CAIQ,MACqC,CADrCC,YAAA,CACqCN,MAAA;QADpBQ,KAAK,EAAER,MAAA,CAAAS,WAAW,CAACC,IAAI;QAJhD,kBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAIgCZ,MAAA,CAAAS,WAAW,CAACC,IAAI,GAAAE,MAAA;QAAEC,SAAS,EAAT,EAAS;QACjDC,WAAW,EAAC;;MALtBC,CAAA;QAOQT,YAAA,CAOUN,MAAA;MAPGO,KAAK,EAAC;IAAO;MAPlCH,OAAA,EAAAC,QAAA,CAQY,MAEa,CAFbC,YAAA,CAEaN,MAAA;QAFOgB,OAAO,EAAEhB,MAAA,CAAAS,WAAW,CAACQ,IAAI;QARzD,oBAAAN,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAQyCZ,MAAA,CAAAS,WAAW,CAACQ,IAAI,GAAAL,MAAA;;QARzDR,OAAA,EAAAC,QAAA,CAQ2D,MAE/C,CAVZa,gBAAA,CAQ2D,MAE/C,E;QAVZH,CAAA;sCAWQT,YAAA,CAEaN,MAAA;QAFOgB,OAAO,EAAEhB,MAAA,CAAAS,WAAW,CAACU,MAAM;QAXvD,oBAAAR,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAWqCZ,MAAA,CAAAS,WAAW,CAACU,MAAM,GAAAP,MAAA;QAAGQ,QAAQ,EAAEC,IAAA,CAAAD;;QAXpEhB,OAAA,EAAAC,QAAA,CAW8E,MAEtE,CAbRa,gBAAA,CAW8E,MAEtE,E;QAbRH,CAAA;;MAAAA,CAAA;QAgBIT,YAAA,CAEcN,MAAA;MAFDO,KAAK,EAAC;IAAa;MAhBpCH,OAAA,EAAAC,QAAA,CAiBQ,MAA6G,CAA7GC,YAAA,CAA6GN,MAAA;QAApGa,SAAS,EAAT,EAAS;QAASL,KAAK,EAAER,MAAA,CAAAS,WAAW,CAACa,OAAO;QAjB7D,kBAAAX,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAiB0CZ,MAAA,CAAAS,WAAW,CAACa,OAAO,GAAAV,MAAA;QAAEW,IAAI,EAAC,UAAU;QAACT,WAAW,EAAC;;MAjB3FC,CAAA;QAoBIT,YAAA,CAOcN,MAAA;MAPDO,KAAK,EAAC;IAAU;MApBjCH,OAAA,EAAAC,QAAA,CAqBQ,MAKU,CALVC,YAAA,CAKUN,MAAA;QALOQ,KAAK,EAAER,MAAA,CAAAS,WAAW,CAACe,MAAM;QArBlD,mB,oCAqBgCxB,MAAA,CAAAS,WAAW,CAACe,MAAM,GAAAZ,MAAA,GAIzBZ,MAAA,CAAAyB,gBAAgB,C;QAJWC,IAAI,EAAJ,EAAI;QAC9CC,SAAS,EAAC,GAAG;QACZb,WAAW,EAAEd,MAAA,CAAAc,WAAW;QACzBD,SAAS,EAAT;;MAxBVE,CAAA;wBA6BQT,YAAA,CAA6DN,MAAA;MAAnC4B,OAAK,EAAE5B,MAAA,CAAA6B;IAAa;MA7BtDzB,OAAA,EAAAC,QAAA,CA6BwD,MAAE,CA7B1Da,gBAAA,CA6BwD,IAAE,E;MA7B1DH,CAAA;wCA6B0B,KAAK,E;IA7B/BA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}