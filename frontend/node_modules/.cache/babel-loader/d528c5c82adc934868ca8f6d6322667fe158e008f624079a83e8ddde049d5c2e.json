{"ast":null,"code":"import { h, toRef, ref, inject, defineComponent, watch } from 'vue';\nimport { useMemo } from 'vooks';\nimport { useInjectionCollection, useInjectionElementCollection } from \"../../_utils/composable/index.mjs\";\nimport { createInjectionKey, getTitleAttribute } from \"../../_utils/index.mjs\";\nexport const anchorInjectionKey = createInjectionKey('n-anchor');\nexport const anchorLinkProps = {\n  title: String,\n  href: String\n};\nexport default defineComponent({\n  name: 'AnchorLink',\n  props: anchorLinkProps,\n  setup(props, {\n    slots\n  }) {\n    const titleRef = ref(null);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NAnchor = inject(anchorInjectionKey);\n    const hrefRef = toRef(props, 'href');\n    const activeRef = useMemo(() => {\n      return hrefRef.value && hrefRef.value === NAnchor.activeHref.value;\n    });\n    useInjectionCollection(anchorInjectionKey, 'collectedLinkHrefs', hrefRef);\n    useInjectionElementCollection(anchorInjectionKey, 'titleEls', () => titleRef.value);\n    watch(activeRef, value => {\n      if (value && titleRef.value) {\n        NAnchor.updateBarPosition(titleRef.value);\n      }\n    });\n    function handleClick() {\n      if (props.href !== undefined) {\n        NAnchor.setActiveHref(props.href);\n      }\n    }\n    return () => {\n      var _a;\n      const {\n        value: mergedClsPrefix\n      } = NAnchor.mergedClsPrefix;\n      return h(\"div\", {\n        class: [`${mergedClsPrefix}-anchor-link`, activeRef.value && `${mergedClsPrefix}-anchor-link--active`]\n      }, h(\"a\", {\n        ref: titleRef,\n        class: [`${mergedClsPrefix}-anchor-link__title`],\n        href: props.href,\n        title: getTitleAttribute(props.title),\n        onClick: handleClick\n      }, props.title), (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots));\n    };\n  }\n});","map":{"version":3,"names":["h","toRef","ref","inject","defineComponent","watch","useMemo","useInjectionCollection","useInjectionElementCollection","createInjectionKey","getTitleAttribute","anchorInjectionKey","anchorLinkProps","title","String","href","name","props","setup","slots","titleRef","NAnchor","hrefRef","activeRef","value","activeHref","updateBarPosition","handleClick","undefined","setActiveHref","_a","mergedClsPrefix","class","onClick","default","call"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/anchor/src/Link.mjs"],"sourcesContent":["import { h, toRef, ref, inject, defineComponent, watch } from 'vue';\nimport { useMemo } from 'vooks';\nimport { useInjectionCollection, useInjectionElementCollection } from \"../../_utils/composable/index.mjs\";\nimport { createInjectionKey, getTitleAttribute } from \"../../_utils/index.mjs\";\nexport const anchorInjectionKey = createInjectionKey('n-anchor');\nexport const anchorLinkProps = {\n  title: String,\n  href: String\n};\nexport default defineComponent({\n  name: 'AnchorLink',\n  props: anchorLinkProps,\n  setup(props, {\n    slots\n  }) {\n    const titleRef = ref(null);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NAnchor = inject(anchorInjectionKey);\n    const hrefRef = toRef(props, 'href');\n    const activeRef = useMemo(() => {\n      return hrefRef.value && hrefRef.value === NAnchor.activeHref.value;\n    });\n    useInjectionCollection(anchorInjectionKey, 'collectedLinkHrefs', hrefRef);\n    useInjectionElementCollection(anchorInjectionKey, 'titleEls', () => titleRef.value);\n    watch(activeRef, value => {\n      if (value && titleRef.value) {\n        NAnchor.updateBarPosition(titleRef.value);\n      }\n    });\n    function handleClick() {\n      if (props.href !== undefined) {\n        NAnchor.setActiveHref(props.href);\n      }\n    }\n    return () => {\n      var _a;\n      const {\n        value: mergedClsPrefix\n      } = NAnchor.mergedClsPrefix;\n      return h(\"div\", {\n        class: [`${mergedClsPrefix}-anchor-link`, activeRef.value && `${mergedClsPrefix}-anchor-link--active`]\n      }, h(\"a\", {\n        ref: titleRef,\n        class: [`${mergedClsPrefix}-anchor-link__title`],\n        href: props.href,\n        title: getTitleAttribute(props.title),\n        onClick: handleClick\n      }, props.title), (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots));\n    };\n  }\n});"],"mappings":"AAAA,SAASA,CAAC,EAAEC,KAAK,EAAEC,GAAG,EAAEC,MAAM,EAAEC,eAAe,EAAEC,KAAK,QAAQ,KAAK;AACnE,SAASC,OAAO,QAAQ,OAAO;AAC/B,SAASC,sBAAsB,EAAEC,6BAA6B,QAAQ,mCAAmC;AACzG,SAASC,kBAAkB,EAAEC,iBAAiB,QAAQ,wBAAwB;AAC9E,OAAO,MAAMC,kBAAkB,GAAGF,kBAAkB,CAAC,UAAU,CAAC;AAChE,OAAO,MAAMG,eAAe,GAAG;EAC7BC,KAAK,EAAEC,MAAM;EACbC,IAAI,EAAED;AACR,CAAC;AACD,eAAeV,eAAe,CAAC;EAC7BY,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAEL,eAAe;EACtBM,KAAKA,CAACD,KAAK,EAAE;IACXE;EACF,CAAC,EAAE;IACD,MAAMC,QAAQ,GAAGlB,GAAG,CAAC,IAAI,CAAC;IAC1B;IACA,MAAMmB,OAAO,GAAGlB,MAAM,CAACQ,kBAAkB,CAAC;IAC1C,MAAMW,OAAO,GAAGrB,KAAK,CAACgB,KAAK,EAAE,MAAM,CAAC;IACpC,MAAMM,SAAS,GAAGjB,OAAO,CAAC,MAAM;MAC9B,OAAOgB,OAAO,CAACE,KAAK,IAAIF,OAAO,CAACE,KAAK,KAAKH,OAAO,CAACI,UAAU,CAACD,KAAK;IACpE,CAAC,CAAC;IACFjB,sBAAsB,CAACI,kBAAkB,EAAE,oBAAoB,EAAEW,OAAO,CAAC;IACzEd,6BAA6B,CAACG,kBAAkB,EAAE,UAAU,EAAE,MAAMS,QAAQ,CAACI,KAAK,CAAC;IACnFnB,KAAK,CAACkB,SAAS,EAAEC,KAAK,IAAI;MACxB,IAAIA,KAAK,IAAIJ,QAAQ,CAACI,KAAK,EAAE;QAC3BH,OAAO,CAACK,iBAAiB,CAACN,QAAQ,CAACI,KAAK,CAAC;MAC3C;IACF,CAAC,CAAC;IACF,SAASG,WAAWA,CAAA,EAAG;MACrB,IAAIV,KAAK,CAACF,IAAI,KAAKa,SAAS,EAAE;QAC5BP,OAAO,CAACQ,aAAa,CAACZ,KAAK,CAACF,IAAI,CAAC;MACnC;IACF;IACA,OAAO,MAAM;MACX,IAAIe,EAAE;MACN,MAAM;QACJN,KAAK,EAAEO;MACT,CAAC,GAAGV,OAAO,CAACU,eAAe;MAC3B,OAAO/B,CAAC,CAAC,KAAK,EAAE;QACdgC,KAAK,EAAE,CAAE,GAAED,eAAgB,cAAa,EAAER,SAAS,CAACC,KAAK,IAAK,GAAEO,eAAgB,sBAAqB;MACvG,CAAC,EAAE/B,CAAC,CAAC,GAAG,EAAE;QACRE,GAAG,EAAEkB,QAAQ;QACbY,KAAK,EAAE,CAAE,GAAED,eAAgB,qBAAoB,CAAC;QAChDhB,IAAI,EAAEE,KAAK,CAACF,IAAI;QAChBF,KAAK,EAAEH,iBAAiB,CAACO,KAAK,CAACJ,KAAK,CAAC;QACrCoB,OAAO,EAAEN;MACX,CAAC,EAAEV,KAAK,CAACJ,KAAK,CAAC,EAAE,CAACiB,EAAE,GAAGX,KAAK,CAACe,OAAO,MAAM,IAAI,IAAIJ,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACK,IAAI,CAAChB,KAAK,CAAC,CAAC;IAC5F,CAAC;EACH;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}