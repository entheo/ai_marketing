{"ast":null,"code":"import { onBeforeMount, ref } from 'vue';\nimport { NButton, NForm, NFormItem, NInput } from 'naive-ui';\nimport { useStore } from 'vuex';\n//组件挂载前加载数据\n\nconst __default__ = {\n  name: 'SimpleProductForm'\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  emits: ['createdProductInfo'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const store = useStore();\n    onBeforeMount(() => {\n      preData.value = store.getters.temp_campaign_data;\n      console.log('预加载数据：', preData.value);\n      handleProductInfo();\n    });\n    const preData = ref(null);\n    const handleProductInfo = () => {\n      console.log(typeof preData.value);\n      if (preData.value && JSON.stringify(preData.value) !== '{}') {\n        productInfo.value.name = preData.value.productData.name;\n        productInfo.value.usp = preData.value.productData.usp;\n        productInfo.value.brandValues = preData.value.productData.brandValues;\n      }\n    };\n\n    //定义表单变量\n    const productInfo = ref({\n      name: '',\n      usp: '',\n      brandValues: ''\n    });\n    const emit = __emit;\n    const createProduct = () => {\n      emit('createdProductInfo', productInfo.value);\n      console.log(productInfo.value);\n      try {\n        /*\n        const resp =  await axios.get('http://localhost:8005/account/auth/',{\n          headers: {\n              'Authorization': `Bearer ${token}` // 设置请求头\n              }});\n        */} catch (error) {\n        console.error('Failed to fetch user info:', error);\n      }\n    };\n    __expose({\n      createProduct\n    });\n    const __returned__ = {\n      store,\n      preData,\n      handleProductInfo,\n      productInfo,\n      emit,\n      createProduct,\n      onBeforeMount,\n      ref,\n      get NButton() {\n        return NButton;\n      },\n      get NForm() {\n        return NForm;\n      },\n      get NFormItem() {\n        return NFormItem;\n      },\n      get NInput() {\n        return NInput;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["onBeforeMount","ref","NButton","NForm","NFormItem","NInput","useStore","__default__","name","store","preData","value","getters","temp_campaign_data","console","log","handleProductInfo","JSON","stringify","productInfo","productData","usp","brandValues","emit","__emit","createProduct","error","__expose"],"sources":["/Users/wangjohnson/ai_marketing/frontend/src/components/SimpleProductForm.vue"],"sourcesContent":["<!--SimpleProductForm.vue-->>\n<template>\n    <n-form label-placement=\"left\" require-mark-placement=\"right-hanging\" label-width=\"180\" size=\"large\">\n    \n    <n-form-item label=\"产品或服务叫什么？\">\n        <n-input clearable v-model:value=\"productInfo.name\" placeholder=\"\"/>\n    </n-form-item>\n\n    <n-form-item label=\"独特卖点是什么？\">\n         <n-input v-model:value=\"productInfo.usp\" clearable type=\"textarea\" placeholder=\"\"/>\n    </n-form-item>\n\n    <n-form-item label=\"提倡的理念是什么？\">\n        <n-input v-model:value=\"productInfo.brandValues\" clearable type=\"textarea\" placeholder=\"\"/>\n    </n-form-item>\n    \n    <n-button v-show=\"false\" @click=\"createProduct\">保存</n-button>\n</n-form>\n</template>\n\n<script setup>\nimport {onBeforeMount,ref,defineEmits,defineExpose} from 'vue';\nimport {NButton, NForm, NFormItem,NInput} from 'naive-ui';\nimport {useStore} from 'vuex';\n//组件挂载前加载数据\nconst store = useStore();\nonBeforeMount(()=>{\n    preData.value = store.getters.temp_campaign_data;\n    console.log('预加载数据：',preData.value);\n    handleProductInfo();\n    });\nconst preData = ref(null);\nconst handleProductInfo=()=>{\n    console.log(typeof(preData.value));\n    if(preData.value && JSON.stringify(preData.value)!=='{}' ){\n       productInfo.value.name = preData.value.productData.name;\n       productInfo.value.usp = preData.value.productData.usp;\n       productInfo.value.brandValues = preData.value.productData.brandValues;}\n    };\n\n//定义表单变量\nconst productInfo = ref({\n    name:'',\n    usp:'',\n    brandValues:'',\n    })\nconst emit = defineEmits(['createdProductInfo']);\nconst createProduct = () =>{\n      emit('createdProductInfo',productInfo.value);\n      console.log(productInfo.value);\n      try{\n          /*\n          const resp =  await axios.get('http://localhost:8005/account/auth/',{\n            headers: {\n                'Authorization': `Bearer ${token}` // 设置请求头\n                }});\n         */ }catch (error) {\n        console.error('Failed to fetch user info:', error);\n        }\n      }\ndefineExpose({createProduct});\n</script>\n<script>\n  export default{\n      name:'SimpleProductForm'\n      };\n</script>\n"],"mappings":"AAqBA,SAAQA,aAAa,EAACC,GAA4B,QAAO,KAAK;AAC9D,SAAQC,OAAO,EAAEC,KAAK,EAAEC,SAAS,EAACC,MAAM,QAAO,UAAU;AACzD,SAAQC,QAAQ,QAAO,MAAM;AAC7B;;AAuCE,MAAAC,WAAA,GAAc;EACVC,IAAI,EAAC;AACL,CAAC;;;;;;;IAxCP,MAAMC,KAAK,GAAGH,QAAQ,CAAC,CAAC;IACxBN,aAAa,CAAC,MAAI;MACdU,OAAO,CAACC,KAAK,GAAGF,KAAK,CAACG,OAAO,CAACC,kBAAkB;MAChDC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACL,OAAO,CAACC,KAAK,CAAC;MACnCK,iBAAiB,CAAC,CAAC;IACnB,CAAC,CAAC;IACN,MAAMN,OAAO,GAAGT,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMe,iBAAiB,GAACA,CAAA,KAAI;MACxBF,OAAO,CAACC,GAAG,CAAC,OAAOL,OAAO,CAACC,KAAM,CAAC;MAClC,IAAGD,OAAO,CAACC,KAAK,IAAIM,IAAI,CAACC,SAAS,CAACR,OAAO,CAACC,KAAK,CAAC,KAAG,IAAI,EAAE;QACvDQ,WAAW,CAACR,KAAK,CAACH,IAAI,GAAGE,OAAO,CAACC,KAAK,CAACS,WAAW,CAACZ,IAAI;QACvDW,WAAW,CAACR,KAAK,CAACU,GAAG,GAAGX,OAAO,CAACC,KAAK,CAACS,WAAW,CAACC,GAAG;QACrDF,WAAW,CAACR,KAAK,CAACW,WAAW,GAAGZ,OAAO,CAACC,KAAK,CAACS,WAAW,CAACE,WAAW;MAAC;IACzE,CAAC;;IAEL;IACA,MAAMH,WAAW,GAAGlB,GAAG,CAAC;MACpBO,IAAI,EAAC,EAAE;MACPa,GAAG,EAAC,EAAE;MACNC,WAAW,EAAC;IACZ,CAAC,CAAC;IACN,MAAMC,IAAI,GAAGC,MAAmC;IAChD,MAAMC,aAAa,GAAGA,CAAA,KAAK;MACrBF,IAAI,CAAC,oBAAoB,EAACJ,WAAW,CAACR,KAAK,CAAC;MAC5CG,OAAO,CAACC,GAAG,CAACI,WAAW,CAACR,KAAK,CAAC;MAC9B,IAAG;QACC;AACV;AACA;AACA;AACA;AACA,UALU,CAKG,QAAOe,KAAK,EAAE;QACnBZ,OAAO,CAACY,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IACPC,QAAY,CAAC;MAACF;IAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}