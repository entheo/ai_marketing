{"ast":null,"code":"import { h, defineComponent, inject, computed, toRef } from 'vue';\nimport { createId, happensIn } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon as ArrowRightIcon, ChevronLeftIcon as ArrowLeftIcon } from \"../../_internal/icons/index.mjs\";\nimport { useRtl } from \"../../_mixins/use-rtl.mjs\";\nimport { useConfig } from \"../../_mixins/index.mjs\";\nimport { NBaseIcon } from \"../../_internal/index.mjs\";\nimport { throwError, resolveSlotWithProps, resolveWrappedSlotWithProps } from \"../../_utils/index.mjs\";\nimport { collapseInjectionKey } from \"./Collapse.mjs\";\nimport NCollapseItemContent from \"./CollapseItemContent.mjs\";\nexport const collapseItemProps = {\n  title: String,\n  name: [String, Number],\n  disabled: Boolean,\n  displayDirective: String\n};\nexport default defineComponent({\n  name: 'CollapseItem',\n  props: collapseItemProps,\n  setup(props) {\n    const {\n      mergedRtlRef\n    } = useConfig(props);\n    const randomName = createId();\n    const mergedNameRef = useMemo(() => {\n      var _a;\n      return (_a = props.name) !== null && _a !== void 0 ? _a : randomName;\n    });\n    const NCollapse = inject(collapseInjectionKey);\n    if (!NCollapse) {\n      throwError('collapse-item', '`n-collapse-item` must be placed inside `n-collapse`.');\n    }\n    const {\n      expandedNamesRef,\n      props: collapseProps,\n      mergedClsPrefixRef,\n      slots: collapseSlots\n    } = NCollapse;\n    const collapsedRef = computed(() => {\n      const {\n        value: expandedNames\n      } = expandedNamesRef;\n      if (Array.isArray(expandedNames)) {\n        const {\n          value: name\n        } = mergedNameRef;\n        return !~expandedNames.findIndex(expandedName => expandedName === name);\n      } else if (expandedNames) {\n        const {\n          value: name\n        } = mergedNameRef;\n        return name !== expandedNames;\n      }\n      return true;\n    });\n    const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n    return {\n      rtlEnabled: rtlEnabledRef,\n      collapseSlots,\n      randomName,\n      mergedClsPrefix: mergedClsPrefixRef,\n      collapsed: collapsedRef,\n      triggerAreas: toRef(collapseProps, 'triggerAreas'),\n      mergedDisplayDirective: computed(() => {\n        const {\n          displayDirective\n        } = props;\n        if (displayDirective) {\n          return displayDirective;\n        } else {\n          return collapseProps.displayDirective;\n        }\n      }),\n      arrowPlacement: computed(() => {\n        return collapseProps.arrowPlacement;\n      }),\n      handleClick(e) {\n        let happensInArea = 'main';\n        if (happensIn(e, 'arrow')) happensInArea = 'arrow';\n        if (happensIn(e, 'extra')) happensInArea = 'extra';\n        if (!collapseProps.triggerAreas.includes(happensInArea)) {\n          return;\n        }\n        if (NCollapse && !props.disabled) {\n          NCollapse.toggleItem(collapsedRef.value, mergedNameRef.value, e);\n        }\n      }\n    };\n  },\n  render() {\n    const {\n      collapseSlots,\n      $slots,\n      arrowPlacement,\n      collapsed,\n      mergedDisplayDirective,\n      mergedClsPrefix,\n      disabled,\n      triggerAreas\n    } = this;\n    const headerNode = resolveSlotWithProps($slots.header, {\n      collapsed\n    }, () => [this.title]);\n    const headerExtraSlot = $slots['header-extra'] || collapseSlots['header-extra'];\n    const arrowSlot = $slots.arrow || collapseSlots.arrow;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-collapse-item`, `${mergedClsPrefix}-collapse-item--${arrowPlacement}-arrow-placement`, disabled && `${mergedClsPrefix}-collapse-item--disabled`, !collapsed && `${mergedClsPrefix}-collapse-item--active`, triggerAreas.map(area => {\n        return `${mergedClsPrefix}-collapse-item--trigger-area-${area}`;\n      })]\n    }, h(\"div\", {\n      class: [`${mergedClsPrefix}-collapse-item__header`, !collapsed && `${mergedClsPrefix}-collapse-item__header--active`]\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item__header-main`,\n      onClick: this.handleClick\n    }, arrowPlacement === 'right' && headerNode, h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item-arrow`,\n      key: this.rtlEnabled ? 0 : 1,\n      \"data-arrow\": true\n    }, resolveSlotWithProps(arrowSlot, {\n      collapsed\n    }, () => {\n      var _a;\n      return [h(NBaseIcon, {\n        clsPrefix: mergedClsPrefix\n      }, {\n        default: (_a = collapseSlots.expandIcon) !== null && _a !== void 0 ? _a : () => this.rtlEnabled ? h(ArrowLeftIcon, null) : h(ArrowRightIcon, null)\n      })];\n    })), arrowPlacement === 'left' && headerNode), resolveWrappedSlotWithProps(headerExtraSlot, {\n      collapsed\n    }, children => h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item__header-extra`,\n      onClick: this.handleClick,\n      \"data-extra\": true\n    }, children))), h(NCollapseItemContent, {\n      clsPrefix: mergedClsPrefix,\n      displayDirective: mergedDisplayDirective,\n      show: !collapsed\n    }, $slots));\n  }\n});","map":{"version":3,"names":["h","defineComponent","inject","computed","toRef","createId","happensIn","useMemo","ChevronRightIcon","ArrowRightIcon","ChevronLeftIcon","ArrowLeftIcon","useRtl","useConfig","NBaseIcon","throwError","resolveSlotWithProps","resolveWrappedSlotWithProps","collapseInjectionKey","NCollapseItemContent","collapseItemProps","title","String","name","Number","disabled","Boolean","displayDirective","props","setup","mergedRtlRef","randomName","mergedNameRef","_a","NCollapse","expandedNamesRef","collapseProps","mergedClsPrefixRef","slots","collapseSlots","collapsedRef","value","expandedNames","Array","isArray","findIndex","expandedName","rtlEnabledRef","rtlEnabled","mergedClsPrefix","collapsed","triggerAreas","mergedDisplayDirective","arrowPlacement","handleClick","e","happensInArea","includes","toggleItem","render","$slots","headerNode","header","headerExtraSlot","arrowSlot","arrow","class","map","area","onClick","key","clsPrefix","default","expandIcon","children","show"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/collapse/src/CollapseItem.mjs"],"sourcesContent":["import { h, defineComponent, inject, computed, toRef } from 'vue';\nimport { createId, happensIn } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon as ArrowRightIcon, ChevronLeftIcon as ArrowLeftIcon } from \"../../_internal/icons/index.mjs\";\nimport { useRtl } from \"../../_mixins/use-rtl.mjs\";\nimport { useConfig } from \"../../_mixins/index.mjs\";\nimport { NBaseIcon } from \"../../_internal/index.mjs\";\nimport { throwError, resolveSlotWithProps, resolveWrappedSlotWithProps } from \"../../_utils/index.mjs\";\nimport { collapseInjectionKey } from \"./Collapse.mjs\";\nimport NCollapseItemContent from \"./CollapseItemContent.mjs\";\nexport const collapseItemProps = {\n  title: String,\n  name: [String, Number],\n  disabled: Boolean,\n  displayDirective: String\n};\nexport default defineComponent({\n  name: 'CollapseItem',\n  props: collapseItemProps,\n  setup(props) {\n    const {\n      mergedRtlRef\n    } = useConfig(props);\n    const randomName = createId();\n    const mergedNameRef = useMemo(() => {\n      var _a;\n      return (_a = props.name) !== null && _a !== void 0 ? _a : randomName;\n    });\n    const NCollapse = inject(collapseInjectionKey);\n    if (!NCollapse) {\n      throwError('collapse-item', '`n-collapse-item` must be placed inside `n-collapse`.');\n    }\n    const {\n      expandedNamesRef,\n      props: collapseProps,\n      mergedClsPrefixRef,\n      slots: collapseSlots\n    } = NCollapse;\n    const collapsedRef = computed(() => {\n      const {\n        value: expandedNames\n      } = expandedNamesRef;\n      if (Array.isArray(expandedNames)) {\n        const {\n          value: name\n        } = mergedNameRef;\n        return !~expandedNames.findIndex(expandedName => expandedName === name);\n      } else if (expandedNames) {\n        const {\n          value: name\n        } = mergedNameRef;\n        return name !== expandedNames;\n      }\n      return true;\n    });\n    const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n    return {\n      rtlEnabled: rtlEnabledRef,\n      collapseSlots,\n      randomName,\n      mergedClsPrefix: mergedClsPrefixRef,\n      collapsed: collapsedRef,\n      triggerAreas: toRef(collapseProps, 'triggerAreas'),\n      mergedDisplayDirective: computed(() => {\n        const {\n          displayDirective\n        } = props;\n        if (displayDirective) {\n          return displayDirective;\n        } else {\n          return collapseProps.displayDirective;\n        }\n      }),\n      arrowPlacement: computed(() => {\n        return collapseProps.arrowPlacement;\n      }),\n      handleClick(e) {\n        let happensInArea = 'main';\n        if (happensIn(e, 'arrow')) happensInArea = 'arrow';\n        if (happensIn(e, 'extra')) happensInArea = 'extra';\n        if (!collapseProps.triggerAreas.includes(happensInArea)) {\n          return;\n        }\n        if (NCollapse && !props.disabled) {\n          NCollapse.toggleItem(collapsedRef.value, mergedNameRef.value, e);\n        }\n      }\n    };\n  },\n  render() {\n    const {\n      collapseSlots,\n      $slots,\n      arrowPlacement,\n      collapsed,\n      mergedDisplayDirective,\n      mergedClsPrefix,\n      disabled,\n      triggerAreas\n    } = this;\n    const headerNode = resolveSlotWithProps($slots.header, {\n      collapsed\n    }, () => [this.title]);\n    const headerExtraSlot = $slots['header-extra'] || collapseSlots['header-extra'];\n    const arrowSlot = $slots.arrow || collapseSlots.arrow;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-collapse-item`, `${mergedClsPrefix}-collapse-item--${arrowPlacement}-arrow-placement`, disabled && `${mergedClsPrefix}-collapse-item--disabled`, !collapsed && `${mergedClsPrefix}-collapse-item--active`, triggerAreas.map(area => {\n        return `${mergedClsPrefix}-collapse-item--trigger-area-${area}`;\n      })]\n    }, h(\"div\", {\n      class: [`${mergedClsPrefix}-collapse-item__header`, !collapsed && `${mergedClsPrefix}-collapse-item__header--active`]\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item__header-main`,\n      onClick: this.handleClick\n    }, arrowPlacement === 'right' && headerNode, h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item-arrow`,\n      key: this.rtlEnabled ? 0 : 1,\n      \"data-arrow\": true\n    }, resolveSlotWithProps(arrowSlot, {\n      collapsed\n    }, () => {\n      var _a;\n      return [h(NBaseIcon, {\n        clsPrefix: mergedClsPrefix\n      }, {\n        default: (_a = collapseSlots.expandIcon) !== null && _a !== void 0 ? _a : () => this.rtlEnabled ? h(ArrowLeftIcon, null) : h(ArrowRightIcon, null)\n      })];\n    })), arrowPlacement === 'left' && headerNode), resolveWrappedSlotWithProps(headerExtraSlot, {\n      collapsed\n    }, children => h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item__header-extra`,\n      onClick: this.handleClick,\n      \"data-extra\": true\n    }, children))), h(NCollapseItemContent, {\n      clsPrefix: mergedClsPrefix,\n      displayDirective: mergedDisplayDirective,\n      show: !collapsed\n    }, $slots));\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}