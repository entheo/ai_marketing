{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { NFormItemRow, NForm, NButton, NInput } from 'naive-ui';\nimport { ref } from 'vue';\nimport { useRoute } from 'vue-router';\nimport axios from 'axios';\n\n//注册表单操作\n\nexport default {\n  __name: 'RegisterForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    const registerUsername = ref('');\n    const registerPassword = ref('');\n    //const registerRePassword=ref('');\n    const invitationCode = ref('');\n    const router = useRoute();\n    const registeredNextPath = ref('');\n    const register = async () => {\n      try {\n        const response = axios.post('/account/register/', {\n          username: registerUsername,\n          password: registerPassword,\n          invitation_code: invitationCode\n        }, {\n          headers: {\n            //'X-CSRFToken': csrfToken.value,\n          }\n        });\n        console.log(response);\n        console.log('注册成功！');\n        await router.push(registeredNextPath.value);\n      } catch (err) {\n        console.log('注册失败:', err);\n      }\n    };\n    __expose({\n      register\n    });\n    const __returned__ = {\n      registerUsername,\n      registerPassword,\n      invitationCode,\n      router,\n      registeredNextPath,\n      register,\n      get NFormItemRow() {\n        return NFormItemRow;\n      },\n      get NForm() {\n        return NForm;\n      },\n      get NButton() {\n        return NButton;\n      },\n      get NInput() {\n        return NInput;\n      },\n      ref,\n      get useRoute() {\n        return useRoute;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["NFormItemRow","NForm","NButton","NInput","ref","useRoute","axios","registerUsername","registerPassword","invitationCode","router","registeredNextPath","register","response","post","username","password","invitation_code","headers","console","log","push","value","err","__expose"],"sources":["/Users/wangjohnson/ai_marketing/frontend/src/components/RegisterForm.vue"],"sourcesContent":["<template>\n    <n-form>\n        <n-form-item-row label=\"用户名\">\n            <n-input v-model:value=\"registerUsername\" placeholder=\"\" />\n        </n-form-item-row>\n        \n        <n-form-item-row label=\"密码\">\n            <n-input v-model:value=\"registerPassword\" placeholder=\"\"/>\n        </n-form-item-row>\n          \n        <n-form-item-row label=\"重复密码\">\n            //<n-input passively-activated @input=\"checkRePassword\" v-model:value=\"rePassword\" placeholder=\"\"/>\n            <n-input\n                v-model:value=\"rePassword\"\n                :disabled=\"!model.password\"\n                type=\"password\"\n                @keydown.enter.prevent\n            />\n        </n-form-item-row>\n          \n        <n-form-item-row label=\"邀请码\">\n            <n-input v-model:value=\"invitation_code\" placeholder=\"\"/>\n        </n-form-item-row>\n        \n    </n-form>\n    <n-button @click=\"register\" type=\"primary\" block secondary strong>\n          注册\n    </n-button>\n\n</template>\n\n\n<script setup>\nimport {NFormItemRow,NForm,NButton,NInput} from 'naive-ui';\nimport {ref,defineExpose} from 'vue';\nimport {useRoute} from 'vue-router';\nimport axios from 'axios';\n\n//注册表单操作\nconst registerUsername=ref('');\nconst registerPassword=ref('');\n//const registerRePassword=ref('');\nconst invitationCode = ref('');\nconst router=useRoute();\nconst registeredNextPath = ref('');\n\nconst register=async()=>{\n    try{\n      const response = axios.post('/account/register/',\n      {\n        username:registerUsername,\n        password:registerPassword,\n        invitation_code:invitationCode,\n        },\n      {\n            headers:{\n                //'X-CSRFToken': csrfToken.value,\n                }\n      });\n      console.log(response);\n      console.log('注册成功！');\n      await router.push(registeredNextPath.value);\n    }\n    catch(err){\n        console.log('注册失败:',err)}\n    \n }\n\ndefineExpose({register});\n</script>\n<style>\n.n-input{\n    text-align:left}\n</style>\n"],"mappings":";AAiCA,SAAQA,YAAY,EAACC,KAAK,EAACC,OAAO,EAACC,MAAM,QAAO,UAAU;AAC1D,SAAQC,GAAgB,QAAO,KAAK;AACpC,SAAQC,QAAQ,QAAO,YAAY;AACnC,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;;;;;;IACA,MAAMC,gBAAgB,GAACH,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMI,gBAAgB,GAACJ,GAAG,CAAC,EAAE,CAAC;IAC9B;IACA,MAAMK,cAAc,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMM,MAAM,GAACL,QAAQ,CAAC,CAAC;IACvB,MAAMM,kBAAkB,GAAGP,GAAG,CAAC,EAAE,CAAC;IAElC,MAAMQ,QAAQ,GAAC,MAAAA,CAAA,KAAS;MACpB,IAAG;QACD,MAAMC,QAAQ,GAAGP,KAAK,CAACQ,IAAI,CAAC,oBAAoB,EAChD;UACEC,QAAQ,EAACR,gBAAgB;UACzBS,QAAQ,EAACR,gBAAgB;UACzBS,eAAe,EAACR;QAChB,CAAC,EACH;UACMS,OAAO,EAAC;YACJ;UAAA;QAEV,CAAC,CAAC;QACFC,OAAO,CAACC,GAAG,CAACP,QAAQ,CAAC;QACrBM,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;QACpB,MAAMV,MAAM,CAACW,IAAI,CAACV,kBAAkB,CAACW,KAAK,CAAC;MAC7C,CAAC,CACD,OAAMC,GAAG,EAAC;QACNJ,OAAO,CAACC,GAAG,CAAC,OAAO,EAACG,GAAG,CAAC;MAAA;IAE/B,CAAC;IAEFC,QAAY,CAAC;MAACZ;IAAQ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}