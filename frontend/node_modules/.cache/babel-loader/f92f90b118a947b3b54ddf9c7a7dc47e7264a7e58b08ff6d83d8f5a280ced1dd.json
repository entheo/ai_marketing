{"ast":null,"code":"import { onBeforeUnmount, onMounted, watch, ref } from 'vue';\nlet lockCount = 0;\nlet originalMarginRight = '';\nlet originalOverflow = '';\nlet originalOverflowX = '';\nlet originalOverflowY = '';\nexport const lockHtmlScrollRightCompensationRef = ref('0px');\nexport function useLockHtmlScroll(lockRef) {\n  // not browser\n  if (typeof document === 'undefined') return;\n  const el = document.documentElement;\n  let watchStopHandle;\n  let activated = false;\n  const unlock = () => {\n    el.style.marginRight = originalMarginRight;\n    el.style.overflow = originalOverflow;\n    el.style.overflowX = originalOverflowX;\n    el.style.overflowY = originalOverflowY;\n    lockHtmlScrollRightCompensationRef.value = '0px';\n  };\n  onMounted(() => {\n    watchStopHandle = watch(lockRef, value => {\n      if (value) {\n        if (!lockCount) {\n          const scrollbarWidth = window.innerWidth - el.offsetWidth;\n          if (scrollbarWidth > 0) {\n            originalMarginRight = el.style.marginRight;\n            el.style.marginRight = `${scrollbarWidth}px`;\n            lockHtmlScrollRightCompensationRef.value = `${scrollbarWidth}px`;\n          }\n          originalOverflow = el.style.overflow;\n          originalOverflowX = el.style.overflowX;\n          originalOverflowY = el.style.overflowY;\n          el.style.overflow = 'hidden';\n          el.style.overflowX = 'hidden';\n          el.style.overflowY = 'hidden';\n        }\n        activated = true;\n        lockCount++;\n      } else {\n        lockCount--;\n        if (!lockCount) {\n          unlock();\n        }\n        activated = false;\n      }\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(() => {\n    watchStopHandle === null || watchStopHandle === void 0 ? void 0 : watchStopHandle();\n    if (activated) {\n      lockCount--;\n      if (!lockCount) {\n        unlock();\n      }\n      activated = false;\n    }\n  });\n}","map":{"version":3,"names":["onBeforeUnmount","onMounted","watch","ref","lockCount","originalMarginRight","originalOverflow","originalOverflowX","originalOverflowY","lockHtmlScrollRightCompensationRef","useLockHtmlScroll","lockRef","document","el","documentElement","watchStopHandle","activated","unlock","style","marginRight","overflow","overflowX","overflowY","value","scrollbarWidth","window","innerWidth","offsetWidth","immediate"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/_utils/composable/use-lock-html-scroll.mjs"],"sourcesContent":["import { onBeforeUnmount, onMounted, watch, ref } from 'vue';\nlet lockCount = 0;\nlet originalMarginRight = '';\nlet originalOverflow = '';\nlet originalOverflowX = '';\nlet originalOverflowY = '';\nexport const lockHtmlScrollRightCompensationRef = ref('0px');\nexport function useLockHtmlScroll(lockRef) {\n  // not browser\n  if (typeof document === 'undefined') return;\n  const el = document.documentElement;\n  let watchStopHandle;\n  let activated = false;\n  const unlock = () => {\n    el.style.marginRight = originalMarginRight;\n    el.style.overflow = originalOverflow;\n    el.style.overflowX = originalOverflowX;\n    el.style.overflowY = originalOverflowY;\n    lockHtmlScrollRightCompensationRef.value = '0px';\n  };\n  onMounted(() => {\n    watchStopHandle = watch(lockRef, value => {\n      if (value) {\n        if (!lockCount) {\n          const scrollbarWidth = window.innerWidth - el.offsetWidth;\n          if (scrollbarWidth > 0) {\n            originalMarginRight = el.style.marginRight;\n            el.style.marginRight = `${scrollbarWidth}px`;\n            lockHtmlScrollRightCompensationRef.value = `${scrollbarWidth}px`;\n          }\n          originalOverflow = el.style.overflow;\n          originalOverflowX = el.style.overflowX;\n          originalOverflowY = el.style.overflowY;\n          el.style.overflow = 'hidden';\n          el.style.overflowX = 'hidden';\n          el.style.overflowY = 'hidden';\n        }\n        activated = true;\n        lockCount++;\n      } else {\n        lockCount--;\n        if (!lockCount) {\n          unlock();\n        }\n        activated = false;\n      }\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(() => {\n    watchStopHandle === null || watchStopHandle === void 0 ? void 0 : watchStopHandle();\n    if (activated) {\n      lockCount--;\n      if (!lockCount) {\n        unlock();\n      }\n      activated = false;\n    }\n  });\n}"],"mappings":"AAAA,SAASA,eAAe,EAAEC,SAAS,EAAEC,KAAK,EAAEC,GAAG,QAAQ,KAAK;AAC5D,IAAIC,SAAS,GAAG,CAAC;AACjB,IAAIC,mBAAmB,GAAG,EAAE;AAC5B,IAAIC,gBAAgB,GAAG,EAAE;AACzB,IAAIC,iBAAiB,GAAG,EAAE;AAC1B,IAAIC,iBAAiB,GAAG,EAAE;AAC1B,OAAO,MAAMC,kCAAkC,GAAGN,GAAG,CAAC,KAAK,CAAC;AAC5D,OAAO,SAASO,iBAAiBA,CAACC,OAAO,EAAE;EACzC;EACA,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;EACrC,MAAMC,EAAE,GAAGD,QAAQ,CAACE,eAAe;EACnC,IAAIC,eAAe;EACnB,IAAIC,SAAS,GAAG,KAAK;EACrB,MAAMC,MAAM,GAAGA,CAAA,KAAM;IACnBJ,EAAE,CAACK,KAAK,CAACC,WAAW,GAAGd,mBAAmB;IAC1CQ,EAAE,CAACK,KAAK,CAACE,QAAQ,GAAGd,gBAAgB;IACpCO,EAAE,CAACK,KAAK,CAACG,SAAS,GAAGd,iBAAiB;IACtCM,EAAE,CAACK,KAAK,CAACI,SAAS,GAAGd,iBAAiB;IACtCC,kCAAkC,CAACc,KAAK,GAAG,KAAK;EAClD,CAAC;EACDtB,SAAS,CAAC,MAAM;IACdc,eAAe,GAAGb,KAAK,CAACS,OAAO,EAAEY,KAAK,IAAI;MACxC,IAAIA,KAAK,EAAE;QACT,IAAI,CAACnB,SAAS,EAAE;UACd,MAAMoB,cAAc,GAAGC,MAAM,CAACC,UAAU,GAAGb,EAAE,CAACc,WAAW;UACzD,IAAIH,cAAc,GAAG,CAAC,EAAE;YACtBnB,mBAAmB,GAAGQ,EAAE,CAACK,KAAK,CAACC,WAAW;YAC1CN,EAAE,CAACK,KAAK,CAACC,WAAW,GAAI,GAAEK,cAAe,IAAG;YAC5Cf,kCAAkC,CAACc,KAAK,GAAI,GAAEC,cAAe,IAAG;UAClE;UACAlB,gBAAgB,GAAGO,EAAE,CAACK,KAAK,CAACE,QAAQ;UACpCb,iBAAiB,GAAGM,EAAE,CAACK,KAAK,CAACG,SAAS;UACtCb,iBAAiB,GAAGK,EAAE,CAACK,KAAK,CAACI,SAAS;UACtCT,EAAE,CAACK,KAAK,CAACE,QAAQ,GAAG,QAAQ;UAC5BP,EAAE,CAACK,KAAK,CAACG,SAAS,GAAG,QAAQ;UAC7BR,EAAE,CAACK,KAAK,CAACI,SAAS,GAAG,QAAQ;QAC/B;QACAN,SAAS,GAAG,IAAI;QAChBZ,SAAS,EAAE;MACb,CAAC,MAAM;QACLA,SAAS,EAAE;QACX,IAAI,CAACA,SAAS,EAAE;UACda,MAAM,CAAC,CAAC;QACV;QACAD,SAAS,GAAG,KAAK;MACnB;IACF,CAAC,EAAE;MACDY,SAAS,EAAE;IACb,CAAC,CAAC;EACJ,CAAC,CAAC;EACF5B,eAAe,CAAC,MAAM;IACpBe,eAAe,KAAK,IAAI,IAAIA,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAAC,CAAC;IACnF,IAAIC,SAAS,EAAE;MACbZ,SAAS,EAAE;MACX,IAAI,CAACA,SAAS,EAAE;QACda,MAAM,CAAC,CAAC;MACV;MACAD,SAAS,GAAG,KAAK;IACnB;EACF,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}