{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { h, defineComponent, ref } from 'vue';\nimport { resolveSlot } from \"../../_utils/index.mjs\";\nimport { NxScrollbar } from \"../../_internal/index.mjs\";\nexport const infiniteScrollProps = {\n  distance: {\n    type: Number,\n    default: 0\n  },\n  onLoad: Function,\n  scrollbarProps: Object\n};\nexport default defineComponent({\n  name: 'InfiniteScroll',\n  props: infiniteScrollProps,\n  setup(props) {\n    const scrollbarInstRef = ref(null);\n    let loading = false;\n    const handleCheckBottom = () => __awaiter(this, void 0, void 0, function* () {\n      var _a;\n      const {\n        value: scrollbarInst\n      } = scrollbarInstRef;\n      if (scrollbarInst) {\n        const {\n          containerRef,\n          containerScrollTop\n        } = scrollbarInst;\n        const scrollHeight = containerRef === null || containerRef === void 0 ? void 0 : containerRef.scrollHeight;\n        const clientHeight = containerRef === null || containerRef === void 0 ? void 0 : containerRef.clientHeight;\n        if (containerRef && scrollHeight !== undefined && clientHeight !== undefined) {\n          if (containerScrollTop + clientHeight >= scrollHeight - props.distance) {\n            loading = true;\n            try {\n              yield (_a = props.onLoad) === null || _a === void 0 ? void 0 : _a.call(props);\n            } catch (_b) {}\n            loading = false;\n          }\n        }\n      }\n    });\n    const handleScroll = () => {\n      if (loading) return;\n      void handleCheckBottom();\n    };\n    const handleWheel = e => {\n      if (e.deltaY <= 0) return;\n      if (loading) return;\n      void handleCheckBottom();\n    };\n    return {\n      scrollbarInstRef,\n      handleScroll,\n      handleWheel\n    };\n  },\n  render() {\n    return h(NxScrollbar, Object.assign({}, this.scrollbarProps, {\n      ref: \"scrollbarInstRef\",\n      onWheel: this.handleWheel,\n      onScroll: this.handleScroll\n    }), {\n      default: () => {\n        return resolveSlot(this.$slots.default, () => []);\n      }\n    });\n  }\n});","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","h","defineComponent","ref","resolveSlot","NxScrollbar","infiniteScrollProps","distance","type","Number","default","onLoad","Function","scrollbarProps","Object","name","props","setup","scrollbarInstRef","loading","handleCheckBottom","_a","scrollbarInst","containerRef","containerScrollTop","scrollHeight","clientHeight","undefined","call","_b","handleScroll","handleWheel","deltaY","render","assign","onWheel","onScroll","$slots"],"sources":["/Users/wangjohnson/ai_marketing/frontend/node_modules/naive-ui/es/infinite-scroll/src/InfiniteScroll.mjs"],"sourcesContent":["var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { h, defineComponent, ref } from 'vue';\nimport { resolveSlot } from \"../../_utils/index.mjs\";\nimport { NxScrollbar } from \"../../_internal/index.mjs\";\nexport const infiniteScrollProps = {\n  distance: {\n    type: Number,\n    default: 0\n  },\n  onLoad: Function,\n  scrollbarProps: Object\n};\nexport default defineComponent({\n  name: 'InfiniteScroll',\n  props: infiniteScrollProps,\n  setup(props) {\n    const scrollbarInstRef = ref(null);\n    let loading = false;\n    const handleCheckBottom = () => __awaiter(this, void 0, void 0, function* () {\n      var _a;\n      const {\n        value: scrollbarInst\n      } = scrollbarInstRef;\n      if (scrollbarInst) {\n        const {\n          containerRef,\n          containerScrollTop\n        } = scrollbarInst;\n        const scrollHeight = containerRef === null || containerRef === void 0 ? void 0 : containerRef.scrollHeight;\n        const clientHeight = containerRef === null || containerRef === void 0 ? void 0 : containerRef.clientHeight;\n        if (containerRef && scrollHeight !== undefined && clientHeight !== undefined) {\n          if (containerScrollTop + clientHeight >= scrollHeight - props.distance) {\n            loading = true;\n            try {\n              yield (_a = props.onLoad) === null || _a === void 0 ? void 0 : _a.call(props);\n            } catch (_b) {}\n            loading = false;\n          }\n        }\n      }\n    });\n    const handleScroll = () => {\n      if (loading) return;\n      void handleCheckBottom();\n    };\n    const handleWheel = e => {\n      if (e.deltaY <= 0) return;\n      if (loading) return;\n      void handleCheckBottom();\n    };\n    return {\n      scrollbarInstRef,\n      handleScroll,\n      handleWheel\n    };\n  },\n  render() {\n    return h(NxScrollbar, Object.assign({}, this.scrollbarProps, {\n      ref: \"scrollbarInstRef\",\n      onWheel: this.handleWheel,\n      onScroll: this.handleScroll\n    }), {\n      default: () => {\n        return resolveSlot(this.$slots.default, () => []);\n      }\n    });\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}